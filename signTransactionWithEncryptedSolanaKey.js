/**
 * DO NOT EDIT THIS FILE. IT IS GENERATED ON BUILD. RUN `yarn generate-lit-actions` IN THE ROOT DIRECTORY TO UPDATE THIS FILE.
 * @type {string}
 */
const code = "\"use strict\";(()=>{var $f=Object.create;var Fi=Object.defineProperty;var Vf=Object.getOwnPropertyDescriptor;var Gf=Object.getOwnPropertyNames;var Zf=Object.getPrototypeOf,jf=Object.prototype.hasOwnProperty;var vt=(n,t)=>()=>(n&&(t=n(n=0)),t);var he=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Na=(n,t)=>{for(var e in t)Fi(n,e,{get:t[e],enumerable:!0})},za=(n,t,e,r)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of Gf(t))!jf.call(n,i)&&i!==e&&Fi(n,i,{get:()=>t[i],enumerable:!(r=Vf(t,i))||r.enumerable});return n};var C=(n,t,e)=>(e=n!=null?$f(Zf(n)):{},za(t||!n||!n.__esModule?Fi(e,\"default\",{value:n,enumerable:!0}):e,n)),qa=n=>za(Fi({},\"__esModule\",{value:!0}),n);var Da=he(Ki=>{\"use strict\";var Vp=C(z());Ki.byteLength=Jf;Ki.toByteArray=Qf;Ki.fromByteArray=rh;var $e=[],Ue=[],Yf=typeof Uint8Array<\"u\"?Uint8Array:Array,Qo=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(nn=0,Fa=Qo.length;nn<Fa;++nn)$e[nn]=Qo[nn],Ue[Qo.charCodeAt(nn)]=nn;var nn,Fa;Ue[\"-\".charCodeAt(0)]=62;Ue[\"_\".charCodeAt(0)]=63;function Ka(n){var t=n.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var e=n.indexOf(\"=\");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function Jf(n){var t=Ka(n),e=t[0],r=t[1];return(e+r)*3/4-r}function Xf(n,t,e){return(t+e)*3/4-e}function Qf(n){var t,e=Ka(n),r=e[0],i=e[1],s=new Yf(Xf(n,r,i)),c=0,p=i>0?r-4:r,y;for(y=0;y<p;y+=4)t=Ue[n.charCodeAt(y)]<<18|Ue[n.charCodeAt(y+1)]<<12|Ue[n.charCodeAt(y+2)]<<6|Ue[n.charCodeAt(y+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=t&255;return i===2&&(t=Ue[n.charCodeAt(y)]<<2|Ue[n.charCodeAt(y+1)]>>4,s[c++]=t&255),i===1&&(t=Ue[n.charCodeAt(y)]<<10|Ue[n.charCodeAt(y+1)]<<4|Ue[n.charCodeAt(y+2)]>>2,s[c++]=t>>8&255,s[c++]=t&255),s}function th(n){return $e[n>>18&63]+$e[n>>12&63]+$e[n>>6&63]+$e[n&63]}function eh(n,t,e){for(var r,i=[],s=t;s<e;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(th(r));return i.join(\"\")}function rh(n){for(var t,e=n.length,r=e%3,i=[],s=16383,c=0,p=e-r;c<p;c+=s)i.push(eh(n,c,c+s>p?p:c+s));return r===1?(t=n[e-1],i.push($e[t>>2]+$e[t<<4&63]+\"==\")):r===2&&(t=(n[e-2]<<8)+n[e-1],i.push($e[t>>10]+$e[t>>4&63]+$e[t<<2&63]+\"=\")),i.join(\"\")}});var Wa=he(ts=>{var Zp=C(z());ts.read=function(n,t,e,r,i){var s,c,p=i*8-r-1,y=(1<<p)-1,v=y>>1,x=-7,k=e?i-1:0,_=e?-1:1,B=n[t+k];for(k+=_,s=B&(1<<-x)-1,B>>=-x,x+=p;x>0;s=s*256+n[t+k],k+=_,x-=8);for(c=s&(1<<-x)-1,s>>=-x,x+=r;x>0;c=c*256+n[t+k],k+=_,x-=8);if(s===0)s=1-v;else{if(s===y)return c?NaN:(B?-1:1)*(1/0);c=c+Math.pow(2,r),s=s-v}return(B?-1:1)*c*Math.pow(2,s-r)};ts.write=function(n,t,e,r,i,s){var c,p,y,v=s*8-i-1,x=(1<<v)-1,k=x>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=r?0:s-1,P=r?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,c=x):(c=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-c))<1&&(c--,y*=2),c+k>=1?t+=_/y:t+=_*Math.pow(2,1-k),t*y>=2&&(c++,y/=2),c+k>=x?(p=0,c=x):c+k>=1?(p=(t*y-1)*Math.pow(2,i),c=c+k):(p=t*Math.pow(2,k-1)*Math.pow(2,i),c=0));i>=8;n[e+B]=p&255,B+=P,p/=256,i-=8);for(c=c<<i|p,v+=i;v>0;n[e+B]=c&255,B+=P,c/=256,v-=8);n[e+B-P]|=I*128}});var Ln=he(Mn=>{\"use strict\";var Jp=C(z());var es=Da(),In=Wa(),Ha=typeof Symbol==\"function\"&&typeof Symbol.for==\"function\"?Symbol.for(\"nodejs.util.inspect.custom\"):null;Mn.Buffer=U;Mn.SlowBuffer=uh;Mn.INSPECT_MAX_BYTES=50;var Di=2147483647;Mn.kMaxLength=Di;U.TYPED_ARRAY_SUPPORT=nh();!U.TYPED_ARRAY_SUPPORT&&typeof console<\"u\"&&typeof console.error==\"function\"&&console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");function nh(){try{let n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch{return!1}}Object.defineProperty(U.prototype,\"parent\",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.buffer}});Object.defineProperty(U.prototype,\"offset\",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.byteOffset}});function Xe(n){if(n>Di)throw new RangeError('The value \"'+n+'\" is invalid for option \"size\"');let t=new Uint8Array(n);return Object.setPrototypeOf(t,U.prototype),t}function U(n,t,e){if(typeof n==\"number\"){if(typeof t==\"string\")throw new TypeError('The \"string\" argument must be of type string. Received type number');return os(n)}return Za(n,t,e)}U.poolSize=8192;function Za(n,t,e){if(typeof n==\"string\")return oh(n,t);if(ArrayBuffer.isView(n))return sh(n);if(n==null)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof n);if(Ve(n,ArrayBuffer)||n&&Ve(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<\"u\"&&(Ve(n,SharedArrayBuffer)||n&&Ve(n.buffer,SharedArrayBuffer)))return ns(n,t,e);if(typeof n==\"number\")throw new TypeError('The \"value\" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return U.from(r,t,e);let i=ah(n);if(i)return i;if(typeof Symbol<\"u\"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]==\"function\")return U.from(n[Symbol.toPrimitive](\"string\"),t,e);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof n)}U.from=function(n,t,e){return Za(n,t,e)};Object.setPrototypeOf(U.prototype,Uint8Array.prototype);Object.setPrototypeOf(U,Uint8Array);function ja(n){if(typeof n!=\"number\")throw new TypeError('\"size\" argument must be of type number');if(n<0)throw new RangeError('The value \"'+n+'\" is invalid for option \"size\"')}function ih(n,t,e){return ja(n),n<=0?Xe(n):t!==void 0?typeof e==\"string\"?Xe(n).fill(t,e):Xe(n).fill(t):Xe(n)}U.alloc=function(n,t,e){return ih(n,t,e)};function os(n){return ja(n),Xe(n<0?0:ss(n)|0)}U.allocUnsafe=function(n){return os(n)};U.allocUnsafeSlow=function(n){return os(n)};function oh(n,t){if((typeof t!=\"string\"||t===\"\")&&(t=\"utf8\"),!U.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);let e=Ya(n,t)|0,r=Xe(e),i=r.write(n,t);return i!==e&&(r=r.slice(0,i)),r}function rs(n){let t=n.length<0?0:ss(n.length)|0,e=Xe(t);for(let r=0;r<t;r+=1)e[r]=n[r]&255;return e}function sh(n){if(Ve(n,Uint8Array)){let t=new Uint8Array(n);return ns(t.buffer,t.byteOffset,t.byteLength)}return rs(n)}function ns(n,t,e){if(t<0||n.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(n.byteLength<t+(e||0))throw new RangeError('\"length\" is outside of buffer bounds');let r;return t===void 0&&e===void 0?r=new Uint8Array(n):e===void 0?r=new Uint8Array(n,t):r=new Uint8Array(n,t,e),Object.setPrototypeOf(r,U.prototype),r}function ah(n){if(U.isBuffer(n)){let t=ss(n.length)|0,e=Xe(t);return e.length===0||n.copy(e,0,0,t),e}if(n.length!==void 0)return typeof n.length!=\"number\"||us(n.length)?Xe(0):rs(n);if(n.type===\"Buffer\"&&Array.isArray(n.data))return rs(n.data)}function ss(n){if(n>=Di)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+Di.toString(16)+\" bytes\");return n|0}function uh(n){return+n!=n&&(n=0),U.alloc(+n)}U.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==U.prototype};U.compare=function(t,e){if(Ve(t,Uint8Array)&&(t=U.from(t,t.offset,t.byteLength)),Ve(e,Uint8Array)&&(e=U.from(e,e.offset,e.byteLength)),!U.isBuffer(t)||!U.isBuffer(e))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let s=0,c=Math.min(r,i);s<c;++s)if(t[s]!==e[s]){r=t[s],i=e[s];break}return r<i?-1:i<r?1:0};U.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}};U.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(t.length===0)return U.alloc(0);let r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;let i=U.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){let c=t[r];if(Ve(c,Uint8Array))s+c.length>i.length?(U.isBuffer(c)||(c=U.from(c)),c.copy(i,s)):Uint8Array.prototype.set.call(i,c,s);else if(U.isBuffer(c))c.copy(i,s);else throw new TypeError('\"list\" argument must be an Array of Buffers');s+=c.length}return i};function Ya(n,t){if(U.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Ve(n,ArrayBuffer))return n.byteLength;if(typeof n!=\"string\")throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let e=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&e===0)return 0;let i=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return e;case\"utf8\":case\"utf-8\":return is(n).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return e*2;case\"hex\":return e>>>1;case\"base64\":return ou(n).length;default:if(i)return r?-1:is(n).length;t=(\"\"+t).toLowerCase(),i=!0}}U.byteLength=Ya;function ch(n,t,e){let r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return\"\";for(n||(n=\"utf8\");;)switch(n){case\"hex\":return bh(this,t,e);case\"utf8\":case\"utf-8\":return Xa(this,t,e);case\"ascii\":return mh(this,t,e);case\"latin1\":case\"binary\":return wh(this,t,e);case\"base64\":return yh(this,t,e);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return vh(this,t,e);default:if(r)throw new TypeError(\"Unknown encoding: \"+n);n=(n+\"\").toLowerCase(),r=!0}}U.prototype._isBuffer=!0;function on(n,t,e){let r=n[t];n[t]=n[e],n[e]=r}U.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let e=0;e<t;e+=2)on(this,e,e+1);return this};U.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let e=0;e<t;e+=4)on(this,e,e+3),on(this,e+1,e+2);return this};U.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let e=0;e<t;e+=8)on(this,e,e+7),on(this,e+1,e+6),on(this,e+2,e+5),on(this,e+3,e+4);return this};U.prototype.toString=function(){let t=this.length;return t===0?\"\":arguments.length===0?Xa(this,0,t):ch.apply(this,arguments)};U.prototype.toLocaleString=U.prototype.toString;U.prototype.equals=function(t){if(!U.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t?!0:U.compare(this,t)===0};U.prototype.inspect=function(){let t=\"\",e=Mn.INSPECT_MAX_BYTES;return t=this.toString(\"hex\",0,e).replace(/(.{2})/g,\"$1 \").trim(),this.length>e&&(t+=\" ... \"),\"<Buffer \"+t+\">\"};Ha&&(U.prototype[Ha]=U.prototype.inspect);U.prototype.compare=function(t,e,r,i,s){if(Ve(t,Uint8Array)&&(t=U.from(t,t.offset,t.byteLength)),!U.isBuffer(t))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),e<0||r>t.length||i<0||s>this.length)throw new RangeError(\"out of range index\");if(i>=s&&e>=r)return 0;if(i>=s)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,s>>>=0,this===t)return 0;let c=s-i,p=r-e,y=Math.min(c,p),v=this.slice(i,s),x=t.slice(e,r);for(let k=0;k<y;++k)if(v[k]!==x[k]){c=v[k],p=x[k];break}return c<p?-1:p<c?1:0};function Ja(n,t,e,r,i){if(n.length===0)return-1;if(typeof e==\"string\"?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,us(e)&&(e=i?0:n.length-1),e<0&&(e=n.length+e),e>=n.length){if(i)return-1;e=n.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t==\"string\"&&(t=U.from(t,r)),U.isBuffer(t))return t.length===0?-1:$a(n,t,e,r,i);if(typeof t==\"number\")return t=t&255,typeof Uint8Array.prototype.indexOf==\"function\"?i?Uint8Array.prototype.indexOf.call(n,t,e):Uint8Array.prototype.lastIndexOf.call(n,t,e):$a(n,[t],e,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function $a(n,t,e,r,i){let s=1,c=n.length,p=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r===\"ucs2\"||r===\"ucs-2\"||r===\"utf16le\"||r===\"utf-16le\")){if(n.length<2||t.length<2)return-1;s=2,c/=2,p/=2,e/=2}function y(x,k){return s===1?x[k]:x.readUInt16BE(k*s)}let v;if(i){let x=-1;for(v=e;v<c;v++)if(y(n,v)===y(t,x===-1?0:v-x)){if(x===-1&&(x=v),v-x+1===p)return x*s}else x!==-1&&(v-=v-x),x=-1}else for(e+p>c&&(e=c-p),v=e;v>=0;v--){let x=!0;for(let k=0;k<p;k++)if(y(n,v+k)!==y(t,k)){x=!1;break}if(x)return v}return-1}U.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1};U.prototype.indexOf=function(t,e,r){return Ja(this,t,e,r,!0)};U.prototype.lastIndexOf=function(t,e,r){return Ja(this,t,e,r,!1)};function fh(n,t,e,r){e=Number(e)||0;let i=n.length-e;r?(r=Number(r),r>i&&(r=i)):r=i;let s=t.length;r>s/2&&(r=s/2);let c;for(c=0;c<r;++c){let p=parseInt(t.substr(c*2,2),16);if(us(p))return c;n[e+c]=p}return c}function hh(n,t,e,r){return Wi(is(t,n.length-e),n,e,r)}function lh(n,t,e,r){return Wi(Bh(t),n,e,r)}function dh(n,t,e,r){return Wi(ou(t),n,e,r)}function ph(n,t,e,r){return Wi(Eh(t,n.length-e),n,e,r)}U.prototype.write=function(t,e,r,i){if(e===void 0)i=\"utf8\",r=this.length,e=0;else if(r===void 0&&typeof e==\"string\")i=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i=\"utf8\")):(i=r,r=void 0);else throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");let s=this.length-e;if((r===void 0||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");let c=!1;for(;;)switch(i){case\"hex\":return fh(this,t,e,r);case\"utf8\":case\"utf-8\":return hh(this,t,e,r);case\"ascii\":case\"latin1\":case\"binary\":return lh(this,t,e,r);case\"base64\":return dh(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ph(this,t,e,r);default:if(c)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),c=!0}};U.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function yh(n,t,e){return t===0&&e===n.length?es.fromByteArray(n):es.fromByteArray(n.slice(t,e))}function Xa(n,t,e){e=Math.min(n.length,e);let r=[],i=t;for(;i<e;){let s=n[i],c=null,p=s>239?4:s>223?3:s>191?2:1;if(i+p<=e){let y,v,x,k;switch(p){case 1:s<128&&(c=s);break;case 2:y=n[i+1],(y&192)===128&&(k=(s&31)<<6|y&63,k>127&&(c=k));break;case 3:y=n[i+1],v=n[i+2],(y&192)===128&&(v&192)===128&&(k=(s&15)<<12|(y&63)<<6|v&63,k>2047&&(k<55296||k>57343)&&(c=k));break;case 4:y=n[i+1],v=n[i+2],x=n[i+3],(y&192)===128&&(v&192)===128&&(x&192)===128&&(k=(s&15)<<18|(y&63)<<12|(v&63)<<6|x&63,k>65535&&k<1114112&&(c=k))}}c===null?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c),i+=p}return gh(r)}var Va=4096;function gh(n){let t=n.length;if(t<=Va)return String.fromCharCode.apply(String,n);let e=\"\",r=0;for(;r<t;)e+=String.fromCharCode.apply(String,n.slice(r,r+=Va));return e}function mh(n,t,e){let r=\"\";e=Math.min(n.length,e);for(let i=t;i<e;++i)r+=String.fromCharCode(n[i]&127);return r}function wh(n,t,e){let r=\"\";e=Math.min(n.length,e);for(let i=t;i<e;++i)r+=String.fromCharCode(n[i]);return r}function bh(n,t,e){let r=n.length;(!t||t<0)&&(t=0),(!e||e<0||e>r)&&(e=r);let i=\"\";for(let s=t;s<e;++s)i+=_h[n[s]];return i}function vh(n,t,e){let r=n.slice(t,e),i=\"\";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}U.prototype.slice=function(t,e){let r=this.length;t=~~t,e=e===void 0?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,U.prototype),i};function le(n,t,e){if(n%1!==0||n<0)throw new RangeError(\"offset is not uint\");if(n+t>e)throw new RangeError(\"Trying to access beyond buffer length\")}U.prototype.readUintLE=U.prototype.readUIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||le(t,e,this.length);let i=this[t],s=1,c=0;for(;++c<e&&(s*=256);)i+=this[t+c]*s;return i};U.prototype.readUintBE=U.prototype.readUIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||le(t,e,this.length);let i=this[t+--e],s=1;for(;e>0&&(s*=256);)i+=this[t+--e]*s;return i};U.prototype.readUint8=U.prototype.readUInt8=function(t,e){return t=t>>>0,e||le(t,1,this.length),this[t]};U.prototype.readUint16LE=U.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||le(t,2,this.length),this[t]|this[t+1]<<8};U.prototype.readUint16BE=U.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||le(t,2,this.length),this[t]<<8|this[t+1]};U.prototype.readUint32LE=U.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||le(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};U.prototype.readUint32BE=U.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||le(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};U.prototype.readBigUInt64LE=lr(function(t){t=t>>>0,An(t,\"offset\");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ui(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,s=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});U.prototype.readBigUInt64BE=lr(function(t){t=t>>>0,An(t,\"offset\");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ui(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],s=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(s)});U.prototype.readIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||le(t,e,this.length);let i=this[t],s=1,c=0;for(;++c<e&&(s*=256);)i+=this[t+c]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i};U.prototype.readIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||le(t,e,this.length);let i=e,s=1,c=this[t+--i];for(;i>0&&(s*=256);)c+=this[t+--i]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*e)),c};U.prototype.readInt8=function(t,e){return t=t>>>0,e||le(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};U.prototype.readInt16LE=function(t,e){t=t>>>0,e||le(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};U.prototype.readInt16BE=function(t,e){t=t>>>0,e||le(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};U.prototype.readInt32LE=function(t,e){return t=t>>>0,e||le(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};U.prototype.readInt32BE=function(t,e){return t=t>>>0,e||le(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};U.prototype.readBigInt64LE=lr(function(t){t=t>>>0,An(t,\"offset\");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ui(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});U.prototype.readBigInt64BE=lr(function(t){t=t>>>0,An(t,\"offset\");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ui(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)});U.prototype.readFloatLE=function(t,e){return t=t>>>0,e||le(t,4,this.length),In.read(this,t,!0,23,4)};U.prototype.readFloatBE=function(t,e){return t=t>>>0,e||le(t,4,this.length),In.read(this,t,!1,23,4)};U.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||le(t,8,this.length),In.read(this,t,!0,52,8)};U.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||le(t,8,this.length),In.read(this,t,!1,52,8)};function Ae(n,t,e,r,i,s){if(!U.isBuffer(n))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('\"value\" argument is out of bounds');if(e+r>n.length)throw new RangeError(\"Index out of range\")}U.prototype.writeUintLE=U.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e=e>>>0,r=r>>>0,!i){let p=Math.pow(2,8*r)-1;Ae(this,t,e,r,p,0)}let s=1,c=0;for(this[e]=t&255;++c<r&&(s*=256);)this[e+c]=t/s&255;return e+r};U.prototype.writeUintBE=U.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e=e>>>0,r=r>>>0,!i){let p=Math.pow(2,8*r)-1;Ae(this,t,e,r,p,0)}let s=r-1,c=1;for(this[e+s]=t&255;--s>=0&&(c*=256);)this[e+s]=t/c&255;return e+r};U.prototype.writeUint8=U.prototype.writeUInt8=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,1,255,0),this[e]=t&255,e+1};U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Qa(n,t,e,r,i){iu(t,r,i,n,e,7);let s=Number(t&BigInt(4294967295));n[e++]=s,s=s>>8,n[e++]=s,s=s>>8,n[e++]=s,s=s>>8,n[e++]=s;let c=Number(t>>BigInt(32)&BigInt(4294967295));return n[e++]=c,c=c>>8,n[e++]=c,c=c>>8,n[e++]=c,c=c>>8,n[e++]=c,e}function tu(n,t,e,r,i){iu(t,r,i,n,e,7);let s=Number(t&BigInt(4294967295));n[e+7]=s,s=s>>8,n[e+6]=s,s=s>>8,n[e+5]=s,s=s>>8,n[e+4]=s;let c=Number(t>>BigInt(32)&BigInt(4294967295));return n[e+3]=c,c=c>>8,n[e+2]=c,c=c>>8,n[e+1]=c,c=c>>8,n[e]=c,e+8}U.prototype.writeBigUInt64LE=lr(function(t,e=0){return Qa(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))});U.prototype.writeBigUInt64BE=lr(function(t,e=0){return tu(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))});U.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e=e>>>0,!i){let y=Math.pow(2,8*r-1);Ae(this,t,e,r,y-1,-y)}let s=0,c=1,p=0;for(this[e]=t&255;++s<r&&(c*=256);)t<0&&p===0&&this[e+s-1]!==0&&(p=1),this[e+s]=(t/c>>0)-p&255;return e+r};U.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e=e>>>0,!i){let y=Math.pow(2,8*r-1);Ae(this,t,e,r,y-1,-y)}let s=r-1,c=1,p=0;for(this[e+s]=t&255;--s>=0&&(c*=256);)t<0&&p===0&&this[e+s+1]!==0&&(p=1),this[e+s]=(t/c>>0)-p&255;return e+r};U.prototype.writeInt8=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};U.prototype.writeInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};U.prototype.writeInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};U.prototype.writeInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};U.prototype.writeInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||Ae(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};U.prototype.writeBigInt64LE=lr(function(t,e=0){return Qa(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))});U.prototype.writeBigInt64BE=lr(function(t,e=0){return tu(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))});function eu(n,t,e,r,i,s){if(e+r>n.length)throw new RangeError(\"Index out of range\");if(e<0)throw new RangeError(\"Index out of range\")}function ru(n,t,e,r,i){return t=+t,e=e>>>0,i||eu(n,t,e,4,34028234663852886e22,-34028234663852886e22),In.write(n,t,e,r,23,4),e+4}U.prototype.writeFloatLE=function(t,e,r){return ru(this,t,e,!0,r)};U.prototype.writeFloatBE=function(t,e,r){return ru(this,t,e,!1,r)};function nu(n,t,e,r,i){return t=+t,e=e>>>0,i||eu(n,t,e,8,17976931348623157e292,-17976931348623157e292),In.write(n,t,e,r,52,8),e+8}U.prototype.writeDoubleLE=function(t,e,r){return nu(this,t,e,!0,r)};U.prototype.writeDoubleBE=function(t,e,r){return nu(this,t,e,!1,r)};U.prototype.copy=function(t,e,r,i){if(!U.isBuffer(t))throw new TypeError(\"argument should be a Buffer\");if(r||(r=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);let s=i-r;return this===t&&typeof Uint8Array.prototype.copyWithin==\"function\"?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),s};U.prototype.fill=function(t,e,r,i){if(typeof t==\"string\"){if(typeof e==\"string\"?(i=e,e=0,r=this.length):typeof r==\"string\"&&(i=r,r=this.length),i!==void 0&&typeof i!=\"string\")throw new TypeError(\"encoding must be a string\");if(typeof i==\"string\"&&!U.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);if(t.length===1){let c=t.charCodeAt(0);(i===\"utf8\"&&c<128||i===\"latin1\")&&(t=c)}}else typeof t==\"number\"?t=t&255:typeof t==\"boolean\"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let s;if(typeof t==\"number\")for(s=e;s<r;++s)this[s]=t;else{let c=U.isBuffer(t)?t:U.from(t,i),p=c.length;if(p===0)throw new TypeError('The value \"'+t+'\" is invalid for argument \"value\"');for(s=0;s<r-e;++s)this[s+e]=c[s%p]}return this};var _n={};function as(n,t,e){_n[n]=class extends e{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(i){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}as(\"ERR_BUFFER_OUT_OF_BOUNDS\",function(n){return n?`${n} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"},RangeError);as(\"ERR_INVALID_ARG_TYPE\",function(n,t){return`The \"${n}\" argument must be of type number. Received type ${typeof t}`},TypeError);as(\"ERR_OUT_OF_RANGE\",function(n,t,e){let r=`The value of \"${n}\" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=Ga(String(e)):typeof e==\"bigint\"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=Ga(i)),i+=\"n\"),r+=` It must be ${t}. Received ${i}`,r},RangeError);function Ga(n){let t=\"\",e=n.length,r=n[0]===\"-\"?1:0;for(;e>=r+4;e-=3)t=`_${n.slice(e-3,e)}${t}`;return`${n.slice(0,e)}${t}`}function xh(n,t,e){An(t,\"offset\"),(n[t]===void 0||n[t+e]===void 0)&&ui(t,n.length-(e+1))}function iu(n,t,e,r,i,s){if(n>e||n<t){let c=typeof t==\"bigint\"?\"n\":\"\",p;throw s>3?t===0||t===BigInt(0)?p=`>= 0${c} and < 2${c} ** ${(s+1)*8}${c}`:p=`>= -(2${c} ** ${(s+1)*8-1}${c}) and < 2 ** ${(s+1)*8-1}${c}`:p=`>= ${t}${c} and <= ${e}${c}`,new _n.ERR_OUT_OF_RANGE(\"value\",p,n)}xh(r,i,s)}function An(n,t){if(typeof n!=\"number\")throw new _n.ERR_INVALID_ARG_TYPE(t,\"number\",n)}function ui(n,t,e){throw Math.floor(n)!==n?(An(n,e),new _n.ERR_OUT_OF_RANGE(e||\"offset\",\"an integer\",n)):t<0?new _n.ERR_BUFFER_OUT_OF_BOUNDS:new _n.ERR_OUT_OF_RANGE(e||\"offset\",`>= ${e?1:0} and <= ${t}`,n)}var kh=/[^+/0-9A-Za-z-_]/g;function Sh(n){if(n=n.split(\"=\")[0],n=n.trim().replace(kh,\"\"),n.length<2)return\"\";for(;n.length%4!==0;)n=n+\"=\";return n}function is(n,t){t=t||1/0;let e,r=n.length,i=null,s=[];for(let c=0;c<r;++c){if(e=n.charCodeAt(c),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(c+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&s.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;s.push(e)}else if(e<2048){if((t-=2)<0)break;s.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;s.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error(\"Invalid code point\")}return s}function Bh(n){let t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e)&255);return t}function Eh(n,t){let e,r,i,s=[];for(let c=0;c<n.length&&!((t-=2)<0);++c)e=n.charCodeAt(c),r=e>>8,i=e%256,s.push(i),s.push(r);return s}function ou(n){return es.toByteArray(Sh(n))}function Wi(n,t,e,r){let i;for(i=0;i<r&&!(i+e>=t.length||i>=n.length);++i)t[i+e]=n[i];return i}function Ve(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function us(n){return n!==n}var _h=function(){let n=\"0123456789abcdef\",t=new Array(256);for(let e=0;e<16;++e){let r=e*16;for(let i=0;i<16;++i)t[r+i]=n[e]+n[i]}return t}();function lr(n){return typeof BigInt>\"u\"?Ih:n}function Ih(){throw new Error(\"BigInt not supported\")}});var z=he(()=>{\"use strict\";var su=C(Ln());globalThis.Buffer=su.Buffer});var ey,Rn,cs=vt(()=>{\"use strict\";ey=C(z()),Rn=class extends Error{constructor(){super(...arguments);this.name=\"AbortError\"}}});async function au(n){try{let t=await n(),e=typeof t==\"string\"?t:JSON.stringify(t);Lit.Actions.setResponse({response:e})}catch(t){if(t instanceof Rn)return;Lit.Actions.setResponse({response:`Error: ${t.message}`})}}var iy,uu=vt(()=>{\"use strict\";iy=C(z());cs()});var sy,Hi,cu=vt(()=>{\"use strict\";sy=C(z()),Hi=\"lit_\"});function fu(n){if(!n.startsWith(Hi))throw new Error(`PKey was not encrypted with salt; all wrapped keys must be prefixed with '${Hi}'`);return n.slice(Hi.length)}var cy,hu=vt(()=>{\"use strict\";cy=C(z());cu()});async function Ah({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e}){try{return await Lit.Actions.decryptToSingleNode({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e,chain:\"ethereum\",authSig:null})}catch(r){throw new Error(`When decrypting key to a single node - ${r.message}`)}}async function lu({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e}){let r=await Ah({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e});if(!r)throw new Rn;return fu(r)}var dy,du=vt(()=>{\"use strict\";dy=C(z());cs();hu()});function ci(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Mh(n){return n instanceof Uint8Array||n!=null&&typeof n==\"object\"&&n.constructor.name===\"Uint8Array\"}function dr(n,...t){if(!Mh(n))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(n.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${n.length}`)}function pu(n){if(typeof n!=\"function\"||typeof n.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");ci(n.outputLen),ci(n.blockLen)}function Qe(n,t=!0){if(n.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&n.finished)throw new Error(\"Hash#digest() has already been called\")}function $i(n,t){dr(n);let e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var yy,fi=vt(()=>{yy=C(z(),1)});var my,sn,yu=vt(()=>{my=C(z(),1),sn=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0});function hs(n){for(let t=0;t<n.length;t++)n[t]=Lh(n[t])}function mu(n){if(typeof n!=\"string\")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function yr(n){return typeof n==\"string\"&&(n=mu(n)),dr(n),n}function ls(...n){let t=0;for(let r=0;r<n.length;r++){let i=n[r];dr(i),t+=i.length}let e=new Uint8Array(t);for(let r=0,i=0;r<n.length;r++){let s=n[r];e.set(s,i),i+=s.length}return e}function Tn(n){let t=r=>n().update(yr(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function wu(n){let t=(r,i)=>n(i).update(yr(r)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=r=>n(r),t}function Gi(n=32){if(sn&&typeof sn.getRandomValues==\"function\")return sn.getRandomValues(new Uint8Array(n));if(sn&&typeof sn.randomBytes==\"function\")return sn.randomBytes(n);throw new Error(\"crypto.getRandomValues must be defined\")}var ky,gu,Vi,qe,fs,Lh,pr,vy,gr=vt(()=>{ky=C(z(),1);yu();fi();gu=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Vi=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),qe=(n,t)=>n<<32-t|n>>>t,fs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Lh=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;pr=class{clone(){return this._cloneInto()}},vy={}.toString});function Rh(n,t,e,r){if(typeof n.setBigUint64==\"function\")return n.setBigUint64(t,e,r);let i=BigInt(32),s=BigInt(4294967295),c=Number(e>>i&s),p=Number(e&s),y=r?4:0,v=r?0:4;n.setUint32(t+y,c,r),n.setUint32(t+v,p,r)}var _y,bu,vu,Pn,ds=vt(()=>{_y=C(z(),1);fi();gr();bu=(n,t,e)=>n&t^~n&e,vu=(n,t,e)=>n&t^n&e^t&e,Pn=class extends pr{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vi(this.buffer)}update(t){Qe(this);let{view:e,buffer:r,blockLen:i}=this;t=yr(t);let s=t.length;for(let c=0;c<s;){let p=Math.min(i-this.pos,s-c);if(p===i){let y=Vi(t);for(;i<=s-c;c+=i)this.process(y,c);continue}r.set(t.subarray(c,c+p),this.pos),this.pos+=p,c+=p,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qe(this),$i(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:i,isLE:s}=this,{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let k=c;k<i;k++)e[k]=0;Rh(r,i-8,BigInt(this.length*8),s),this.process(r,0);let p=Vi(t),y=this.outputLen;if(y%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");let v=y/4,x=this.get();if(v>x.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let k=0;k<v;k++)p.setUint32(4*k,x[k],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:i,finished:s,destroyed:c,pos:p}=this;return t.length=i,t.pos=p,t.finished=s,t.destroyed=c,i%e&&t.buffer.set(r),t}}});function xu(n,t=!1){return t?{h:Number(n&Zi),l:Number(n>>ps&Zi)}:{h:Number(n>>ps&Zi)|0,l:Number(n&Zi)|0}}function ys(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){let{h:s,l:c}=xu(n[i],t);[e[i],r[i]]=[s,c]}return[e,r]}function Kh(n,t,e,r){let i=(t>>>0)+(r>>>0);return{h:n+e+(i/2**32|0)|0,l:i|0}}var Ay,Zi,ps,Th,Ph,Ch,Oh,Uh,Nh,zh,qh,Fh,gs,ms,ws,bs,Dh,Wh,Hh,$h,Vh,Gh,Zh,Wt,vs=vt(()=>{Ay=C(z(),1),Zi=BigInt(4294967295),ps=BigInt(32);Th=(n,t)=>BigInt(n>>>0)<<ps|BigInt(t>>>0),Ph=(n,t,e)=>n>>>e,Ch=(n,t,e)=>n<<32-e|t>>>e,Oh=(n,t,e)=>n>>>e|t<<32-e,Uh=(n,t,e)=>n<<32-e|t>>>e,Nh=(n,t,e)=>n<<64-e|t>>>e-32,zh=(n,t,e)=>n>>>e-32|t<<64-e,qh=(n,t)=>t,Fh=(n,t)=>n,gs=(n,t,e)=>n<<e|t>>>32-e,ms=(n,t,e)=>t<<e|n>>>32-e,ws=(n,t,e)=>t<<e-32|n>>>64-e,bs=(n,t,e)=>n<<e-32|t>>>64-e;Dh=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Wh=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,Hh=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),$h=(n,t,e,r,i)=>t+e+r+i+(n/2**32|0)|0,Vh=(n,t,e,r,i)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),Gh=(n,t,e,r,i,s)=>t+e+r+i+s+(n/2**32|0)|0,Zh={fromBig:xu,split:ys,toBig:Th,shrSH:Ph,shrSL:Ch,rotrSH:Oh,rotrSL:Uh,rotrBH:Nh,rotrBL:zh,rotr32H:qh,rotr32L:Fh,rotlSH:gs,rotlSL:ms,rotlBH:ws,rotlBL:bs,add:Kh,add3L:Dh,add3H:Wh,add4L:Hh,add4H:$h,add5H:Gh,add5L:Vh},Wt=Zh});var Py,jh,Yh,mr,wr,xs,ku,Su=vt(()=>{Py=C(z(),1);ds();vs();gr();[jh,Yh]=(()=>Wt.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(n=>BigInt(n))))(),mr=new Uint32Array(80),wr=new Uint32Array(80),xs=class extends Pn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:r,Bl:i,Ch:s,Cl:c,Dh:p,Dl:y,Eh:v,El:x,Fh:k,Fl:_,Gh:B,Gl:P,Hh:I,Hl:E}=this;return[t,e,r,i,s,c,p,y,v,x,k,_,B,P,I,E]}set(t,e,r,i,s,c,p,y,v,x,k,_,B,P,I,E){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=p|0,this.Dl=y|0,this.Eh=v|0,this.El=x|0,this.Fh=k|0,this.Fl=_|0,this.Gh=B|0,this.Gl=P|0,this.Hh=I|0,this.Hl=E|0}process(t,e){for(let N=0;N<16;N++,e+=4)mr[N]=t.getUint32(e),wr[N]=t.getUint32(e+=4);for(let N=16;N<80;N++){let D=mr[N-15]|0,et=wr[N-15]|0,W=Wt.rotrSH(D,et,1)^Wt.rotrSH(D,et,8)^Wt.shrSH(D,et,7),J=Wt.rotrSL(D,et,1)^Wt.rotrSL(D,et,8)^Wt.shrSL(D,et,7),Q=mr[N-2]|0,nt=wr[N-2]|0,ee=Wt.rotrSH(Q,nt,19)^Wt.rotrBH(Q,nt,61)^Wt.shrSH(Q,nt,6),G=Wt.rotrSL(Q,nt,19)^Wt.rotrBL(Q,nt,61)^Wt.shrSL(Q,nt,6),st=Wt.add4L(J,G,wr[N-7],wr[N-16]),m=Wt.add4H(st,W,ee,mr[N-7],mr[N-16]);mr[N]=m|0,wr[N]=st|0}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:p,Cl:y,Dh:v,Dl:x,Eh:k,El:_,Fh:B,Fl:P,Gh:I,Gl:E,Hh:O,Hl:K}=this;for(let N=0;N<80;N++){let D=Wt.rotrSH(k,_,14)^Wt.rotrSH(k,_,18)^Wt.rotrBH(k,_,41),et=Wt.rotrSL(k,_,14)^Wt.rotrSL(k,_,18)^Wt.rotrBL(k,_,41),W=k&B^~k&I,J=_&P^~_&E,Q=Wt.add5L(K,et,J,Yh[N],wr[N]),nt=Wt.add5H(Q,O,D,W,jh[N],mr[N]),ee=Q|0,G=Wt.rotrSH(r,i,28)^Wt.rotrBH(r,i,34)^Wt.rotrBH(r,i,39),st=Wt.rotrSL(r,i,28)^Wt.rotrBL(r,i,34)^Wt.rotrBL(r,i,39),m=r&s^r&p^s&p,o=i&c^i&y^c&y;O=I|0,K=E|0,I=B|0,E=P|0,B=k|0,P=_|0,{h:k,l:_}=Wt.add(v|0,x|0,nt|0,ee|0),v=p|0,x=y|0,p=s|0,y=c|0,s=r|0,c=i|0;let u=Wt.add3L(ee,st,o);r=Wt.add3H(u,nt,G,m),i=u|0}({h:r,l:i}=Wt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:c}=Wt.add(this.Bh|0,this.Bl|0,s|0,c|0),{h:p,l:y}=Wt.add(this.Ch|0,this.Cl|0,p|0,y|0),{h:v,l:x}=Wt.add(this.Dh|0,this.Dl|0,v|0,x|0),{h:k,l:_}=Wt.add(this.Eh|0,this.El|0,k|0,_|0),{h:B,l:P}=Wt.add(this.Fh|0,this.Fl|0,B|0,P|0),{h:I,l:E}=Wt.add(this.Gh|0,this.Gl|0,I|0,E|0),{h:O,l:K}=Wt.add(this.Hh|0,this.Hl|0,O|0,K|0),this.set(r,i,s,c,p,y,v,x,k,_,B,P,I,E,O,K)}roundClean(){mr.fill(0),wr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ku=Tn(()=>new xs)});var Yi={};Na(Yi,{aInRange:()=>Me,abool:()=>Fe,abytes:()=>Cn,bitGet:()=>rl,bitLen:()=>_s,bitMask:()=>li,bitSet:()=>nl,bytesToHex:()=>er,bytesToNumberBE:()=>rr,bytesToNumberLE:()=>vr,concatBytes:()=>nr,createHmacDrbg:()=>Is,ensureBytes:()=>ue,equalBytes:()=>tl,hexToBytes:()=>un,hexToNumber:()=>Es,inRange:()=>hi,isBytes:()=>br,memoized:()=>fn,notImplemented:()=>ol,numberToBytesBE:()=>xr,numberToBytesLE:()=>cn,numberToHexUnpadded:()=>an,numberToVarBytesBE:()=>Qh,utf8ToBytes:()=>el,validateObject:()=>Ge});function br(n){return n instanceof Uint8Array||n!=null&&typeof n==\"object\"&&n.constructor.name===\"Uint8Array\"}function Cn(n){if(!br(n))throw new Error(\"Uint8Array expected\")}function Fe(n,t){if(typeof t!=\"boolean\")throw new Error(`${n} must be valid boolean, got \"${t}\".`)}function er(n){Cn(n);let t=\"\";for(let e=0;e<n.length;e++)t+=Xh[n[e]];return t}function an(n){let t=n.toString(16);return t.length&1?`0${t}`:t}function Es(n){if(typeof n!=\"string\")throw new Error(\"hex string expected, got \"+typeof n);return BigInt(n===\"\"?\"0\":`0x${n}`)}function Bu(n){if(n>=tr._0&&n<=tr._9)return n-tr._0;if(n>=tr._A&&n<=tr._F)return n-(tr._A-10);if(n>=tr._a&&n<=tr._f)return n-(tr._a-10)}function un(n){if(typeof n!=\"string\")throw new Error(\"hex string expected, got \"+typeof n);let t=n.length,e=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);let r=new Uint8Array(e);for(let i=0,s=0;i<e;i++,s+=2){let c=Bu(n.charCodeAt(s)),p=Bu(n.charCodeAt(s+1));if(c===void 0||p===void 0){let y=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character \"'+y+'\" at index '+s)}r[i]=c*16+p}return r}function rr(n){return Es(er(n))}function vr(n){return Cn(n),Es(er(Uint8Array.from(n).reverse()))}function xr(n,t){return un(n.toString(16).padStart(t*2,\"0\"))}function cn(n,t){return xr(n,t).reverse()}function Qh(n){return un(an(n))}function ue(n,t,e){let r;if(typeof t==\"string\")try{r=un(t)}catch(s){throw new Error(`${n} must be valid hex string, got \"${t}\". Cause: ${s}`)}else if(br(t))r=Uint8Array.from(t);else throw new Error(`${n} must be hex string or Uint8Array`);let i=r.length;if(typeof e==\"number\"&&i!==e)throw new Error(`${n} expected ${e} bytes, got ${i}`);return r}function nr(...n){let t=0;for(let r=0;r<n.length;r++){let i=n[r];Cn(i),t+=i.length}let e=new Uint8Array(t);for(let r=0,i=0;r<n.length;r++){let s=n[r];e.set(s,i),i+=s.length}return e}function tl(n,t){if(n.length!==t.length)return!1;let e=0;for(let r=0;r<n.length;r++)e|=n[r]^t[r];return e===0}function el(n){if(typeof n!=\"string\")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function hi(n,t,e){return ks(n)&&ks(t)&&ks(e)&&t<=n&&n<e}function Me(n,t,e,r){if(!hi(t,e,r))throw new Error(`expected valid ${n}: ${e} <= n < ${r}, got ${typeof t} ${t}`)}function _s(n){let t;for(t=0;n>Bs;n>>=ji,t+=1);return t}function rl(n,t){return n>>BigInt(t)&ji}function nl(n,t,e){return n|(e?ji:Bs)<<BigInt(t)}function Is(n,t,e){if(typeof n!=\"number\"||n<2)throw new Error(\"hashLen must be a number\");if(typeof t!=\"number\"||t<2)throw new Error(\"qByteLen must be a number\");if(typeof e!=\"function\")throw new Error(\"hmacFn must be a function\");let r=Ss(n),i=Ss(n),s=0,c=()=>{r.fill(1),i.fill(0),s=0},p=(...k)=>e(i,r,...k),y=(k=Ss())=>{i=p(Eu([0]),k),r=p(),k.length!==0&&(i=p(Eu([1]),k),r=p())},v=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let k=0,_=[];for(;k<t;){r=p();let B=r.slice();_.push(B),k+=r.length}return nr(..._)};return(k,_)=>{c(),y(k);let B;for(;!(B=_(v()));)y();return c(),B}}function Ge(n,t,e={}){let r=(i,s,c)=>{let p=il[s];if(typeof p!=\"function\")throw new Error(`Invalid validator \"${s}\", expected function`);let y=n[i];if(!(c&&y===void 0)&&!p(y,n))throw new Error(`Invalid param ${String(i)}=${y} (${typeof y}), expected ${s}`)};for(let[i,s]of Object.entries(t))r(i,s,!1);for(let[i,s]of Object.entries(e))r(i,s,!0);return n}function fn(n){let t=new WeakMap;return(e,...r)=>{let i=t.get(e);if(i!==void 0)return i;let s=n(e,...r);return t.set(e,s),s}}var Cy,Bs,ji,Jh,Xh,tr,ks,li,Ss,Eu,il,ol,hn=vt(()=>{Cy=C(z(),1);Bs=BigInt(0),ji=BigInt(1),Jh=BigInt(2);Xh=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,\"0\"));tr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};ks=n=>typeof n==\"bigint\"&&Bs<=n;li=n=>(Jh<<BigInt(n-1))-ji,Ss=n=>new Uint8Array(n),Eu=n=>Uint8Array.from(n);il={bigint:n=>typeof n==\"bigint\",function:n=>typeof n==\"function\",boolean:n=>typeof n==\"boolean\",string:n=>typeof n==\"string\",stringOrUint8Array:n=>typeof n==\"string\"||br(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n==\"function\"&&Number.isSafeInteger(n.outputLen)};ol=()=>{throw new Error(\"not implemented\")}});function Qt(n,t){let e=n%t;return e>=fe?e:t+e}function cl(n,t,e){if(e<=fe||t<fe)throw new Error(\"Expected power/modulo > 0\");if(e===ie)return fe;let r=ie;for(;t>fe;)t&ie&&(r=r*n%e),n=n*n%e,t>>=ie;return r}function oe(n,t,e){let r=n;for(;t-- >fe;)r*=r,r%=e;return r}function Ji(n,t){if(n===fe||t<=fe)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=Qt(n,t),r=t,i=fe,s=ie,c=ie,p=fe;for(;e!==fe;){let v=r/e,x=r%e,k=i-c*v,_=s-p*v;r=e,e=x,i=c,s=p,c=k,p=_}if(r!==ie)throw new Error(\"invert: does not exist\");return Qt(i,t)}function fl(n){let t=(n-ie)/ln,e,r,i;for(e=n-ie,r=0;e%ln===fe;e/=ln,r++);for(i=ln;i<n&&cl(i,t,n)!==n-ie;i++);if(r===1){let c=(n+ie)/As;return function(y,v){let x=y.pow(v,c);if(!y.eql(y.sqr(x),v))throw new Error(\"Cannot find square root\");return x}}let s=(e+ie)/ln;return function(p,y){if(p.pow(y,t)===p.neg(p.ONE))throw new Error(\"Cannot find square root\");let v=r,x=p.pow(p.mul(p.ONE,i),e),k=p.pow(y,s),_=p.pow(y,e);for(;!p.eql(_,p.ONE);){if(p.eql(_,p.ZERO))return p.ZERO;let B=1;for(let I=p.sqr(_);B<v&&!p.eql(I,p.ONE);B++)I=p.sqr(I);let P=p.pow(x,ie<<BigInt(v-B-1));x=p.sqr(P),k=p.mul(k,P),_=p.mul(_,x),v=B}return k}}function hl(n){if(n%As===sl){let t=(n+ie)/As;return function(r,i){let s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error(\"Cannot find square root\");return s}}if(n%Iu===_u){let t=(n-_u)/Iu;return function(r,i){let s=r.mul(i,ln),c=r.pow(s,t),p=r.mul(i,c),y=r.mul(r.mul(p,ln),c),v=r.mul(p,r.sub(y,r.ONE));if(!r.eql(r.sqr(v),i))throw new Error(\"Cannot find square root\");return v}}return n%ul,fl(n)}function Ms(n){let t={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},e=ll.reduce((r,i)=>(r[i]=\"function\",r),t);return Ge(n,e)}function dl(n,t,e){if(e<fe)throw new Error(\"Expected power > 0\");if(e===fe)return n.ONE;if(e===ie)return t;let r=n.ONE,i=t;for(;e>fe;)e&ie&&(r=n.mul(r,i)),i=n.sqr(i),e>>=ie;return r}function pl(n,t){let e=new Array(t.length),r=t.reduce((s,c,p)=>n.is0(c)?s:(e[p]=s,n.mul(s,c)),n.ONE),i=n.inv(r);return t.reduceRight((s,c,p)=>n.is0(c)?s:(e[p]=n.mul(s,e[p]),n.mul(s,c)),i),e}function Ls(n,t){let e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function kr(n,t,e=!1,r={}){if(n<=fe)throw new Error(`Expected Field ORDER > 0, got ${n}`);let{nBitLength:i,nByteLength:s}=Ls(n,t);if(s>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");let c=hl(n),p=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:li(i),ZERO:fe,ONE:ie,create:y=>Qt(y,n),isValid:y=>{if(typeof y!=\"bigint\")throw new Error(`Invalid field element: expected bigint, got ${typeof y}`);return fe<=y&&y<n},is0:y=>y===fe,isOdd:y=>(y&ie)===ie,neg:y=>Qt(-y,n),eql:(y,v)=>y===v,sqr:y=>Qt(y*y,n),add:(y,v)=>Qt(y+v,n),sub:(y,v)=>Qt(y-v,n),mul:(y,v)=>Qt(y*v,n),pow:(y,v)=>dl(p,y,v),div:(y,v)=>Qt(y*Ji(v,n),n),sqrN:y=>y*y,addN:(y,v)=>y+v,subN:(y,v)=>y-v,mulN:(y,v)=>y*v,inv:y=>Ji(y,n),sqrt:r.sqrt||(y=>c(p,y)),invertBatch:y=>pl(p,y),cmov:(y,v,x)=>x?v:y,toBytes:y=>e?cn(y,s):xr(y,s),fromBytes:y=>{if(y.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${y.length}`);return e?vr(y):rr(y)}});return Object.freeze(p)}function Mu(n){if(typeof n!=\"bigint\")throw new Error(\"field order must be bigint\");let t=n.toString(2).length;return Math.ceil(t/8)}function Rs(n){let t=Mu(n);return t+Math.ceil(t/2)}function Lu(n,t,e=!1){let r=n.length,i=Mu(t),s=Rs(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);let c=e?rr(n):vr(n),p=Qt(c,t-ie)+ie;return e?cn(p,i):xr(p,i)}var Uy,fe,ie,ln,sl,As,_u,Iu,al,ul,Au,ll,On=vt(()=>{Uy=C(z(),1);hn();fe=BigInt(0),ie=BigInt(1),ln=BigInt(2),sl=BigInt(3),As=BigInt(4),_u=BigInt(5),Iu=BigInt(8),al=BigInt(9),ul=BigInt(16);Au=(n,t)=>(Qt(n,t)&ie)===ie,ll=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"]});function Xi(n,t){let e=(s,c)=>{let p=c.negate();return s?p:c},r=s=>{if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error(`Wrong window size=${s}, should be [1..${t}]`)},i=s=>{r(s);let c=Math.ceil(t/s)+1,p=2**(s-1);return{windows:c,windowSize:p}};return{constTimeNegate:e,unsafeLadder(s,c){let p=n.ZERO,y=s;for(;c>gl;)c&Ts&&(p=p.add(y)),y=y.double(),c>>=Ts;return p},precomputeWindow(s,c){let{windows:p,windowSize:y}=i(c),v=[],x=s,k=x;for(let _=0;_<p;_++){k=x,v.push(k);for(let B=1;B<y;B++)k=k.add(x),v.push(k);x=k.double()}return v},wNAF(s,c,p){let{windows:y,windowSize:v}=i(s),x=n.ZERO,k=n.BASE,_=BigInt(2**s-1),B=2**s,P=BigInt(s);for(let I=0;I<y;I++){let E=I*v,O=Number(p&_);p>>=P,O>v&&(O-=B,p+=Ts);let K=E,N=E+Math.abs(O)-1,D=I%2!==0,et=O<0;O===0?k=k.add(e(D,c[K])):x=x.add(e(et,c[N]))}return{p:x,f:k}},wNAFCached(s,c,p){let y=Ru.get(s)||1,v=Ps.get(s);return v||(v=this.precomputeWindow(s,y),y!==1&&Ps.set(s,p(v))),this.wNAF(y,v,c)},setWindowSize(s,c){r(c),Ru.set(s,c),Ps.delete(s)}}}function Qi(n,t,e,r){if(!Array.isArray(e)||!Array.isArray(r)||r.length!==e.length)throw new Error(\"arrays of points and scalars must have equal length\");r.forEach((x,k)=>{if(!t.isValid(x))throw new Error(`wrong scalar at index ${k}`)}),e.forEach((x,k)=>{if(!(x instanceof n))throw new Error(`wrong point at index ${k}`)});let i=_s(BigInt(e.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,p=new Array(c+1).fill(n.ZERO),y=Math.floor((t.BITS-1)/s)*s,v=n.ZERO;for(let x=y;x>=0;x-=s){p.fill(n.ZERO);for(let _=0;_<r.length;_++){let B=r[_],P=Number(B>>BigInt(x)&BigInt(c));p[P]=p[P].add(e[_])}let k=n.ZERO;for(let _=p.length-1,B=n.ZERO;_>0;_--)B=B.add(p[_]),k=k.add(B);if(v=v.add(k),x!==0)for(let _=0;_<s;_++)v=v.double()}return v}function di(n){return Ms(n.Fp),Ge(n,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...Ls(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}var Fy,gl,Ts,Ps,Ru,Cs=vt(()=>{Fy=C(z(),1);On();hn();gl=BigInt(0),Ts=BigInt(1),Ps=new WeakMap,Ru=new WeakMap});function bl(n){let t=di(n);return Ge(n,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...t})}function Tu(n){let t=bl(n),{Fp:e,n:r,prehash:i,hash:s,randomBytes:c,nByteLength:p,h:y}=t,v=to<<BigInt(p*8)-Le,x=e.create,k=kr(t.n,t.nBitLength),_=t.uvRatio||((f,h)=>{try{return{isValid:!0,value:e.sqrt(f*e.inv(h))}}catch{return{isValid:!1,value:Ke}}}),B=t.adjustScalarBytes||(f=>f),P=t.domain||((f,h,l)=>{if(Fe(\"phflag\",l),h.length||l)throw new Error(\"Contexts/pre-hash are not supported\");return f});function I(f,h){Me(\"coordinate \"+f,h,Ke,v)}function E(f){if(!(f instanceof N))throw new Error(\"ExtendedPoint expected\")}let O=fn((f,h)=>{let{ex:l,ey:w,ez:b}=f,d=f.is0();h==null&&(h=d?ml:e.inv(b));let a=x(l*h),g=x(w*h),M=x(b*h);if(d)return{x:Ke,y:Le};if(M!==Le)throw new Error(\"invZ was invalid\");return{x:a,y:g}}),K=fn(f=>{let{a:h,d:l}=t;if(f.is0())throw new Error(\"bad point: ZERO\");let{ex:w,ey:b,ez:d,et:a}=f,g=x(w*w),M=x(b*b),R=x(d*d),T=x(R*R),F=x(g*h),V=x(R*x(F+M)),X=x(T+x(l*x(g*M)));if(V!==X)throw new Error(\"bad point: equation left != right (1)\");let jt=x(w*b),Y=x(d*a);if(jt!==Y)throw new Error(\"bad point: equation left != right (2)\");return!0});class N{constructor(h,l,w,b){this.ex=h,this.ey=l,this.ez=w,this.et=b,I(\"x\",h),I(\"y\",l),I(\"z\",w),I(\"t\",b),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(h){if(h instanceof N)throw new Error(\"extended point not allowed\");let{x:l,y:w}=h||{};return I(\"x\",l),I(\"y\",w),new N(l,w,Le,x(l*w))}static normalizeZ(h){let l=e.invertBatch(h.map(w=>w.ez));return h.map((w,b)=>w.toAffine(l[b])).map(N.fromAffine)}static msm(h,l){return Qi(N,k,h,l)}_setWindowSize(h){W.setWindowSize(this,h)}assertValidity(){K(this)}equals(h){E(h);let{ex:l,ey:w,ez:b}=this,{ex:d,ey:a,ez:g}=h,M=x(l*g),R=x(d*b),T=x(w*g),F=x(a*b);return M===R&&T===F}is0(){return this.equals(N.ZERO)}negate(){return new N(x(-this.ex),this.ey,this.ez,x(-this.et))}double(){let{a:h}=t,{ex:l,ey:w,ez:b}=this,d=x(l*l),a=x(w*w),g=x(to*x(b*b)),M=x(h*d),R=l+w,T=x(x(R*R)-d-a),F=M+a,V=F-g,X=M-a,jt=x(T*V),Y=x(F*X),tt=x(T*X),Ee=x(V*F);return new N(jt,Y,Ee,tt)}add(h){E(h);let{a:l,d:w}=t,{ex:b,ey:d,ez:a,et:g}=this,{ex:M,ey:R,ez:T,et:F}=h;if(l===BigInt(-1)){let ft=x((d-b)*(R+M)),ht=x((d+b)*(R-M)),Je=x(ht-ft);if(Je===Ke)return this.double();let lt=x(a*to*F),dt=x(g*to*T),hr=dt+lt,pt=ht+ft,yt=dt-lt,Ur=x(hr*Je),wt=x(pt*yt),bt=x(hr*yt),Nr=x(Je*pt);return new N(Ur,wt,Nr,bt)}let V=x(b*M),X=x(d*R),jt=x(g*w*F),Y=x(a*T),tt=x((b+d)*(M+R)-V-X),Ee=Y-jt,ut=Y+jt,ct=x(X-l*V),Cr=x(tt*Ee),gt=x(ut*ct),mt=x(tt*ct),Or=x(Ee*ut);return new N(Cr,gt,Or,mt)}subtract(h){return this.add(h.negate())}wNAF(h){return W.wNAFCached(this,h,N.normalizeZ)}multiply(h){let l=h;Me(\"scalar\",l,Le,r);let{p:w,f:b}=this.wNAF(l);return N.normalizeZ([w,b])[0]}multiplyUnsafe(h){let l=h;return Me(\"scalar\",l,Ke,r),l===Ke?et:this.equals(et)||l===Le?this:this.equals(D)?this.wNAF(l).p:W.unsafeLadder(this,l)}isSmallOrder(){return this.multiplyUnsafe(y).is0()}isTorsionFree(){return W.unsafeLadder(this,r).is0()}toAffine(h){return O(this,h)}clearCofactor(){let{h}=t;return h===Le?this:this.multiplyUnsafe(h)}static fromHex(h,l=!1){let{d:w,a:b}=t,d=e.BYTES;h=ue(\"pointHex\",h,d),Fe(\"zip215\",l);let a=h.slice(),g=h[d-1];a[d-1]=g&-129;let M=vr(a),R=l?v:e.ORDER;Me(\"pointHex.y\",M,Ke,R);let T=x(M*M),F=x(T-Le),V=x(w*T-b),{isValid:X,value:jt}=_(F,V);if(!X)throw new Error(\"Point.fromHex: invalid y coordinate\");let Y=(jt&Le)===Le,tt=(g&128)!==0;if(!l&&jt===Ke&&tt)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return tt!==Y&&(jt=x(-jt)),N.fromAffine({x:jt,y:M})}static fromPrivateKey(h){return nt(h).point}toRawBytes(){let{x:h,y:l}=this.toAffine(),w=cn(l,e.BYTES);return w[w.length-1]|=h&Le?128:0,w}toHex(){return er(this.toRawBytes())}}N.BASE=new N(t.Gx,t.Gy,Le,x(t.Gx*t.Gy)),N.ZERO=new N(Ke,Le,Le,Ke);let{BASE:D,ZERO:et}=N,W=Xi(N,p*8);function J(f){return Qt(f,r)}function Q(f){return J(vr(f))}function nt(f){let h=p;f=ue(\"private key\",f,h);let l=ue(\"hashed private key\",s(f),2*h),w=B(l.slice(0,h)),b=l.slice(h,2*h),d=Q(w),a=D.multiply(d),g=a.toRawBytes();return{head:w,prefix:b,scalar:d,point:a,pointBytes:g}}function ee(f){return nt(f).pointBytes}function G(f=new Uint8Array,...h){let l=nr(...h);return Q(s(P(l,ue(\"context\",f),!!i)))}function st(f,h,l={}){f=ue(\"message\",f),i&&(f=i(f));let{prefix:w,scalar:b,pointBytes:d}=nt(h),a=G(l.context,w,f),g=D.multiply(a).toRawBytes(),M=G(l.context,g,d,f),R=J(a+M*b);Me(\"signature.s\",R,Ke,r);let T=nr(g,cn(R,e.BYTES));return ue(\"result\",T,p*2)}let m=wl;function o(f,h,l,w=m){let{context:b,zip215:d}=w,a=e.BYTES;f=ue(\"signature\",f,2*a),h=ue(\"message\",h),d!==void 0&&Fe(\"zip215\",d),i&&(h=i(h));let g=vr(f.slice(a,2*a)),M,R,T;try{M=N.fromHex(l,d),R=N.fromHex(f.slice(0,a),d),T=D.multiplyUnsafe(g)}catch{return!1}if(!d&&M.isSmallOrder())return!1;let F=G(b,R.toRawBytes(),M.toRawBytes(),h);return R.add(M.multiplyUnsafe(F)).subtract(T).clearCofactor().equals(N.ZERO)}return D._setWindowSize(8),{CURVE:t,getPublicKey:ee,sign:st,verify:o,ExtendedPoint:N,utils:{getExtendedPublicKey:nt,randomPrivateKey:()=>c(e.BYTES),precompute(f=8,h=N.BASE){return h._setWindowSize(f),h.multiply(BigInt(3)),h}}}}var $y,Ke,Le,to,ml,wl,Pu=vt(()=>{$y=C(z(),1);Cs();On();hn();hn();Ke=BigInt(0),Le=BigInt(1),to=BigInt(2),ml=BigInt(8),wl={zip215:!0}});function Sl(n){let t=BigInt(10),e=BigInt(20),r=BigInt(40),i=BigInt(80),s=Os,p=n*n%s*n%s,y=oe(p,Ou,s)*p%s,v=oe(y,vl,s)*n%s,x=oe(v,xl,s)*v%s,k=oe(x,t,s)*x%s,_=oe(k,e,s)*k%s,B=oe(_,r,s)*_%s,P=oe(B,i,s)*B%s,I=oe(P,i,s)*B%s,E=oe(I,t,s)*x%s;return{pow_p_5_8:oe(E,Ou,s)*n%s,b2:p}}function Bl(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function El(n,t){let e=Os,r=Qt(t*t*t,e),i=Qt(r*r*t,e),s=Sl(n*i).pow_p_5_8,c=Qt(n*r*s,e),p=Qt(t*c*c,e),y=c,v=Qt(c*Cu,e),x=p===n,k=p===Qt(-n,e),_=p===Qt(-n*Cu,e);return x&&(c=y),(k||_)&&(c=v),Au(c,e)&&(c=Qt(-c,e)),{isValid:x||k,value:c}}var tg,Os,Cu,Jy,vl,Ou,Xy,xl,kl,_l,Il,dn,Uu=vt(()=>{tg=C(z(),1);Su();gr();Pu();On();Os=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),Cu=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\"),Jy=BigInt(0),vl=BigInt(1),Ou=BigInt(2),Xy=BigInt(3),xl=BigInt(5),kl=BigInt(8);_l=(()=>kr(Os,void 0,!0))(),Il=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:_l,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:kl,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:ku,randomBytes:Gi,adjustScalarBytes:Bl,uvRatio:El}))(),dn=(()=>Tu(Il))()});var Us=he(()=>{var ng=C(z())});var zu=he((Nu,Ns)=>{var ig=C(z());(function(n,t){\"use strict\";function e(m,o){if(!m)throw new Error(o||\"Assertion failed\")}function r(m,o){m.super_=o;var u=function(){};u.prototype=o.prototype,m.prototype=new u,m.prototype.constructor=m}function i(m,o,u){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((o===\"le\"||o===\"be\")&&(u=o,o=10),this._init(m||0,o||10,u||\"be\"))}typeof n==\"object\"?n.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<\"u\"&&typeof window.Buffer<\"u\"?s=window.Buffer:s=Us().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o==\"object\"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,f){if(typeof o==\"number\")return this._initNumber(o,u,f);if(typeof o==\"object\")return this._initArray(o,u,f);u===\"hex\"&&(u=16),e(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\\s+/g,\"\");var h=0;o[0]===\"-\"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,f):(this._parseBase(o,u,h),f===\"le\"&&this._initArray(this.toArray(),u,f)))},i.prototype._initNumber=function(o,u,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(e(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f===\"le\"&&this._initArray(this.toArray(),u,f)},i.prototype._initArray=function(o,u,f){if(e(typeof o.length==\"number\"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var l,w,b=0;if(f===\"be\")for(h=o.length-1,l=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[l]|=w<<b&67108863,this.words[l+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(f===\"le\")for(h=0,l=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[l]|=w<<b&67108863,this.words[l+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this._strip()};function c(m,o){var u=m.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;e(!1,\"Invalid character in \"+m)}function p(m,o,u){var f=c(m,u);return u-1>=o&&(f|=c(m,u-1)<<4),f}i.prototype._parseHex=function(o,u,f){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var l=0,w=0,b;if(f===\"be\")for(h=o.length-1;h>=u;h-=2)b=p(o,u,h)<<l,this.words[w]|=b&67108863,l>=18?(l-=18,w+=1,this.words[w]|=b>>>26):l+=8;else{var d=o.length-u;for(h=d%2===0?u+1:u;h<o.length;h+=2)b=p(o,u,h)<<l,this.words[w]|=b&67108863,l>=18?(l-=18,w+=1,this.words[w]|=b>>>26):l+=8}this._strip()};function y(m,o,u,f){for(var h=0,l=0,w=Math.min(m.length,u),b=o;b<w;b++){var d=m.charCodeAt(b)-48;h*=f,d>=49?l=d-49+10:d>=17?l=d-17+10:l=d,e(d>=0&&l<f,\"Invalid character\"),h+=l}return h}i.prototype._parseBase=function(o,u,f){this.words=[0],this.length=1;for(var h=0,l=1;l<=67108863;l*=u)h++;h--,l=l/u|0;for(var w=o.length-f,b=w%h,d=Math.min(w,w-b)+f,a=0,g=f;g<d;g+=h)a=y(o,g,g+h,u),this.imuln(l),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(b!==0){var M=1;for(a=y(o,g,o.length,u),g=0;g<b;g++)M*=u;this.imuln(M),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function v(m,o){m.words=o.words,m.length=o.length,m.negative=o.negative,m.red=o.red}if(i.prototype._move=function(o){v(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<\"u\"&&typeof Symbol.for==\"function\")try{i.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"}var k=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var f;if(o===16||o===\"hex\"){f=\"\";for(var h=0,l=0,w=0;w<this.length;w++){var b=this.words[w],d=((b<<h|l)&16777215).toString(16);l=b>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),l!==0||w!==this.length-1?f=k[6-d.length]+d+f:f=d+f}for(l!==0&&(f=l.toString(16)+f);f.length%u!==0;)f=\"0\"+f;return this.negative!==0&&(f=\"-\"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=B[o];f=\"\";var M=this.clone();for(M.negative=0;!M.isZero();){var R=M.modrn(g).toString(o);M=M.idivn(g),M.isZero()?f=R+f:f=k[a-R.length]+R+f}for(this.isZero()&&(f=\"0\"+f);f.length%u!==0;)f=\"0\"+f;return this.negative!==0&&(f=\"-\"+f),f}e(!1,\"Base should be between 2 and 36\")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,\"Number can only safely store up to 53 bits\"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(s,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var P=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,f){this._strip();var h=this.byteLength(),l=f||Math.max(1,h);e(h<=l,\"byte array longer than desired length\"),e(l>0,\"Requested array length <= 0\");var w=P(o,l),b=u===\"le\"?\"LE\":\"BE\";return this[\"_toArrayLike\"+b](w,h),w},i.prototype._toArrayLikeLE=function(o,u){for(var f=0,h=0,l=0,w=0;l<this.length;l++){var b=this.words[l]<<w|h;o[f++]=b&255,f<o.length&&(o[f++]=b>>8&255),f<o.length&&(o[f++]=b>>16&255),w===6?(f<o.length&&(o[f++]=b>>24&255),h=0,w=0):(h=b>>>24,w+=2)}if(f<o.length)for(o[f++]=h;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var f=o.length-1,h=0,l=0,w=0;l<this.length;l++){var b=this.words[l]<<w|h;o[f--]=b&255,f>=0&&(o[f--]=b>>8&255),f>=0&&(o[f--]=b>>16&255),w===6?(f>=0&&(o[f--]=b>>24&255),h=0,w=0):(h=b>>>24,w+=2)}if(f>=0)for(o[f--]=h;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,f=0;return u>=4096&&(f+=13,u>>>=13),u>=64&&(f+=7,u>>>=7),u>=8&&(f+=4,u>>>=4),u>=2&&(f+=2,u>>>=2),f+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,f=0;return u&8191||(f+=13,u>>>=13),u&127||(f+=7,u>>>=7),u&15||(f+=4,u>>>=4),u&3||(f+=2,u>>>=2),u&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function I(m){for(var o=new Array(m.bitLength()),u=0;u<o.length;u++){var f=u/26|0,h=u%26;o[u]=m.words[f]>>>h&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var f=this._zeroBits(this.words[u]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return e((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return e((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=u.words[h]^f.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return e((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){e(typeof o==\"number\"&&o>=0);var u=Math.ceil(o/26)|0,f=o%26;this._expand(u),f>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){e(typeof o==\"number\"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),u?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var l=0,w=0;w<h.length;w++)u=(f.words[w]|0)+(h.words[w]|0)+l,this.words[w]=u&67108863,l=u>>>26;for(;l!==0&&w<f.length;w++)u=(f.words[w]|0)+l,this.words[w]=u&67108863,l=u>>>26;if(this.length=f.length,l!==0)this.words[this.length]=l,this.length++;else if(f!==this)for(;w<f.length;w++)this.words[w]=f.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,l;f>0?(h=this,l=o):(h=o,l=this);for(var w=0,b=0;b<l.length;b++)u=(h.words[b]|0)-(l.words[b]|0)+w,w=u>>26,this.words[b]=u&67108863;for(;w!==0&&b<h.length;b++)u=(h.words[b]|0)+w,w=u>>26,this.words[b]=u&67108863;if(w===0&&b<h.length&&h!==this)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=Math.max(this.length,b),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function E(m,o,u){u.negative=o.negative^m.negative;var f=m.length+o.length|0;u.length=f,f=f-1|0;var h=m.words[0]|0,l=o.words[0]|0,w=h*l,b=w&67108863,d=w/67108864|0;u.words[0]=b;for(var a=1;a<f;a++){for(var g=d>>>26,M=d&67108863,R=Math.min(a,o.length-1),T=Math.max(0,a-m.length+1);T<=R;T++){var F=a-T|0;h=m.words[F]|0,l=o.words[T]|0,w=h*l+M,g+=w/67108864|0,M=w&67108863}u.words[a]=M|0,d=g|0}return d!==0?u.words[a]=d|0:u.length--,u._strip()}var O=function(o,u,f){var h=o.words,l=u.words,w=f.words,b=0,d,a,g,M=h[0]|0,R=M&8191,T=M>>>13,F=h[1]|0,V=F&8191,X=F>>>13,jt=h[2]|0,Y=jt&8191,tt=jt>>>13,Ee=h[3]|0,ut=Ee&8191,ct=Ee>>>13,Cr=h[4]|0,gt=Cr&8191,mt=Cr>>>13,Or=h[5]|0,ft=Or&8191,ht=Or>>>13,Je=h[6]|0,lt=Je&8191,dt=Je>>>13,hr=h[7]|0,pt=hr&8191,yt=hr>>>13,Ur=h[8]|0,wt=Ur&8191,bt=Ur>>>13,Nr=h[9]|0,xt=Nr&8191,kt=Nr>>>13,Xn=l[0]|0,St=Xn&8191,Bt=Xn>>>13,Qn=l[1]|0,Et=Qn&8191,_t=Qn>>>13,ti=l[2]|0,It=ti&8191,At=ti>>>13,ei=l[3]|0,Mt=ei&8191,Lt=ei>>>13,ri=l[4]|0,Rt=ri&8191,Tt=ri>>>13,ni=l[5]|0,Pt=ni&8191,Ct=ni>>>13,ii=l[6]|0,Ot=ii&8191,Ut=ii>>>13,oi=l[7]|0,Nt=oi&8191,zt=oi>>>13,si=l[8]|0,qt=si&8191,Ft=si>>>13,ai=l[9]|0,Kt=ai&8191,Dt=ai>>>13;f.negative=o.negative^u.negative,f.length=19,d=Math.imul(R,St),a=Math.imul(R,Bt),a=a+Math.imul(T,St)|0,g=Math.imul(T,Bt);var zr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(zr>>>26)|0,zr&=67108863,d=Math.imul(V,St),a=Math.imul(V,Bt),a=a+Math.imul(X,St)|0,g=Math.imul(X,Bt),d=d+Math.imul(R,Et)|0,a=a+Math.imul(R,_t)|0,a=a+Math.imul(T,Et)|0,g=g+Math.imul(T,_t)|0;var qr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(qr>>>26)|0,qr&=67108863,d=Math.imul(Y,St),a=Math.imul(Y,Bt),a=a+Math.imul(tt,St)|0,g=Math.imul(tt,Bt),d=d+Math.imul(V,Et)|0,a=a+Math.imul(V,_t)|0,a=a+Math.imul(X,Et)|0,g=g+Math.imul(X,_t)|0,d=d+Math.imul(R,It)|0,a=a+Math.imul(R,At)|0,a=a+Math.imul(T,It)|0,g=g+Math.imul(T,At)|0;var Fr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,d=Math.imul(ut,St),a=Math.imul(ut,Bt),a=a+Math.imul(ct,St)|0,g=Math.imul(ct,Bt),d=d+Math.imul(Y,Et)|0,a=a+Math.imul(Y,_t)|0,a=a+Math.imul(tt,Et)|0,g=g+Math.imul(tt,_t)|0,d=d+Math.imul(V,It)|0,a=a+Math.imul(V,At)|0,a=a+Math.imul(X,It)|0,g=g+Math.imul(X,At)|0,d=d+Math.imul(R,Mt)|0,a=a+Math.imul(R,Lt)|0,a=a+Math.imul(T,Mt)|0,g=g+Math.imul(T,Lt)|0;var Kr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,d=Math.imul(gt,St),a=Math.imul(gt,Bt),a=a+Math.imul(mt,St)|0,g=Math.imul(mt,Bt),d=d+Math.imul(ut,Et)|0,a=a+Math.imul(ut,_t)|0,a=a+Math.imul(ct,Et)|0,g=g+Math.imul(ct,_t)|0,d=d+Math.imul(Y,It)|0,a=a+Math.imul(Y,At)|0,a=a+Math.imul(tt,It)|0,g=g+Math.imul(tt,At)|0,d=d+Math.imul(V,Mt)|0,a=a+Math.imul(V,Lt)|0,a=a+Math.imul(X,Mt)|0,g=g+Math.imul(X,Lt)|0,d=d+Math.imul(R,Rt)|0,a=a+Math.imul(R,Tt)|0,a=a+Math.imul(T,Rt)|0,g=g+Math.imul(T,Tt)|0;var Dr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,d=Math.imul(ft,St),a=Math.imul(ft,Bt),a=a+Math.imul(ht,St)|0,g=Math.imul(ht,Bt),d=d+Math.imul(gt,Et)|0,a=a+Math.imul(gt,_t)|0,a=a+Math.imul(mt,Et)|0,g=g+Math.imul(mt,_t)|0,d=d+Math.imul(ut,It)|0,a=a+Math.imul(ut,At)|0,a=a+Math.imul(ct,It)|0,g=g+Math.imul(ct,At)|0,d=d+Math.imul(Y,Mt)|0,a=a+Math.imul(Y,Lt)|0,a=a+Math.imul(tt,Mt)|0,g=g+Math.imul(tt,Lt)|0,d=d+Math.imul(V,Rt)|0,a=a+Math.imul(V,Tt)|0,a=a+Math.imul(X,Rt)|0,g=g+Math.imul(X,Tt)|0,d=d+Math.imul(R,Pt)|0,a=a+Math.imul(R,Ct)|0,a=a+Math.imul(T,Pt)|0,g=g+Math.imul(T,Ct)|0;var Wr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,d=Math.imul(lt,St),a=Math.imul(lt,Bt),a=a+Math.imul(dt,St)|0,g=Math.imul(dt,Bt),d=d+Math.imul(ft,Et)|0,a=a+Math.imul(ft,_t)|0,a=a+Math.imul(ht,Et)|0,g=g+Math.imul(ht,_t)|0,d=d+Math.imul(gt,It)|0,a=a+Math.imul(gt,At)|0,a=a+Math.imul(mt,It)|0,g=g+Math.imul(mt,At)|0,d=d+Math.imul(ut,Mt)|0,a=a+Math.imul(ut,Lt)|0,a=a+Math.imul(ct,Mt)|0,g=g+Math.imul(ct,Lt)|0,d=d+Math.imul(Y,Rt)|0,a=a+Math.imul(Y,Tt)|0,a=a+Math.imul(tt,Rt)|0,g=g+Math.imul(tt,Tt)|0,d=d+Math.imul(V,Pt)|0,a=a+Math.imul(V,Ct)|0,a=a+Math.imul(X,Pt)|0,g=g+Math.imul(X,Ct)|0,d=d+Math.imul(R,Ot)|0,a=a+Math.imul(R,Ut)|0,a=a+Math.imul(T,Ot)|0,g=g+Math.imul(T,Ut)|0;var Hr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,d=Math.imul(pt,St),a=Math.imul(pt,Bt),a=a+Math.imul(yt,St)|0,g=Math.imul(yt,Bt),d=d+Math.imul(lt,Et)|0,a=a+Math.imul(lt,_t)|0,a=a+Math.imul(dt,Et)|0,g=g+Math.imul(dt,_t)|0,d=d+Math.imul(ft,It)|0,a=a+Math.imul(ft,At)|0,a=a+Math.imul(ht,It)|0,g=g+Math.imul(ht,At)|0,d=d+Math.imul(gt,Mt)|0,a=a+Math.imul(gt,Lt)|0,a=a+Math.imul(mt,Mt)|0,g=g+Math.imul(mt,Lt)|0,d=d+Math.imul(ut,Rt)|0,a=a+Math.imul(ut,Tt)|0,a=a+Math.imul(ct,Rt)|0,g=g+Math.imul(ct,Tt)|0,d=d+Math.imul(Y,Pt)|0,a=a+Math.imul(Y,Ct)|0,a=a+Math.imul(tt,Pt)|0,g=g+Math.imul(tt,Ct)|0,d=d+Math.imul(V,Ot)|0,a=a+Math.imul(V,Ut)|0,a=a+Math.imul(X,Ot)|0,g=g+Math.imul(X,Ut)|0,d=d+Math.imul(R,Nt)|0,a=a+Math.imul(R,zt)|0,a=a+Math.imul(T,Nt)|0,g=g+Math.imul(T,zt)|0;var $r=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+($r>>>26)|0,$r&=67108863,d=Math.imul(wt,St),a=Math.imul(wt,Bt),a=a+Math.imul(bt,St)|0,g=Math.imul(bt,Bt),d=d+Math.imul(pt,Et)|0,a=a+Math.imul(pt,_t)|0,a=a+Math.imul(yt,Et)|0,g=g+Math.imul(yt,_t)|0,d=d+Math.imul(lt,It)|0,a=a+Math.imul(lt,At)|0,a=a+Math.imul(dt,It)|0,g=g+Math.imul(dt,At)|0,d=d+Math.imul(ft,Mt)|0,a=a+Math.imul(ft,Lt)|0,a=a+Math.imul(ht,Mt)|0,g=g+Math.imul(ht,Lt)|0,d=d+Math.imul(gt,Rt)|0,a=a+Math.imul(gt,Tt)|0,a=a+Math.imul(mt,Rt)|0,g=g+Math.imul(mt,Tt)|0,d=d+Math.imul(ut,Pt)|0,a=a+Math.imul(ut,Ct)|0,a=a+Math.imul(ct,Pt)|0,g=g+Math.imul(ct,Ct)|0,d=d+Math.imul(Y,Ot)|0,a=a+Math.imul(Y,Ut)|0,a=a+Math.imul(tt,Ot)|0,g=g+Math.imul(tt,Ut)|0,d=d+Math.imul(V,Nt)|0,a=a+Math.imul(V,zt)|0,a=a+Math.imul(X,Nt)|0,g=g+Math.imul(X,zt)|0,d=d+Math.imul(R,qt)|0,a=a+Math.imul(R,Ft)|0,a=a+Math.imul(T,qt)|0,g=g+Math.imul(T,Ft)|0;var Vr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,d=Math.imul(xt,St),a=Math.imul(xt,Bt),a=a+Math.imul(kt,St)|0,g=Math.imul(kt,Bt),d=d+Math.imul(wt,Et)|0,a=a+Math.imul(wt,_t)|0,a=a+Math.imul(bt,Et)|0,g=g+Math.imul(bt,_t)|0,d=d+Math.imul(pt,It)|0,a=a+Math.imul(pt,At)|0,a=a+Math.imul(yt,It)|0,g=g+Math.imul(yt,At)|0,d=d+Math.imul(lt,Mt)|0,a=a+Math.imul(lt,Lt)|0,a=a+Math.imul(dt,Mt)|0,g=g+Math.imul(dt,Lt)|0,d=d+Math.imul(ft,Rt)|0,a=a+Math.imul(ft,Tt)|0,a=a+Math.imul(ht,Rt)|0,g=g+Math.imul(ht,Tt)|0,d=d+Math.imul(gt,Pt)|0,a=a+Math.imul(gt,Ct)|0,a=a+Math.imul(mt,Pt)|0,g=g+Math.imul(mt,Ct)|0,d=d+Math.imul(ut,Ot)|0,a=a+Math.imul(ut,Ut)|0,a=a+Math.imul(ct,Ot)|0,g=g+Math.imul(ct,Ut)|0,d=d+Math.imul(Y,Nt)|0,a=a+Math.imul(Y,zt)|0,a=a+Math.imul(tt,Nt)|0,g=g+Math.imul(tt,zt)|0,d=d+Math.imul(V,qt)|0,a=a+Math.imul(V,Ft)|0,a=a+Math.imul(X,qt)|0,g=g+Math.imul(X,Ft)|0,d=d+Math.imul(R,Kt)|0,a=a+Math.imul(R,Dt)|0,a=a+Math.imul(T,Kt)|0,g=g+Math.imul(T,Dt)|0;var Gr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,d=Math.imul(xt,Et),a=Math.imul(xt,_t),a=a+Math.imul(kt,Et)|0,g=Math.imul(kt,_t),d=d+Math.imul(wt,It)|0,a=a+Math.imul(wt,At)|0,a=a+Math.imul(bt,It)|0,g=g+Math.imul(bt,At)|0,d=d+Math.imul(pt,Mt)|0,a=a+Math.imul(pt,Lt)|0,a=a+Math.imul(yt,Mt)|0,g=g+Math.imul(yt,Lt)|0,d=d+Math.imul(lt,Rt)|0,a=a+Math.imul(lt,Tt)|0,a=a+Math.imul(dt,Rt)|0,g=g+Math.imul(dt,Tt)|0,d=d+Math.imul(ft,Pt)|0,a=a+Math.imul(ft,Ct)|0,a=a+Math.imul(ht,Pt)|0,g=g+Math.imul(ht,Ct)|0,d=d+Math.imul(gt,Ot)|0,a=a+Math.imul(gt,Ut)|0,a=a+Math.imul(mt,Ot)|0,g=g+Math.imul(mt,Ut)|0,d=d+Math.imul(ut,Nt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ct,Nt)|0,g=g+Math.imul(ct,zt)|0,d=d+Math.imul(Y,qt)|0,a=a+Math.imul(Y,Ft)|0,a=a+Math.imul(tt,qt)|0,g=g+Math.imul(tt,Ft)|0,d=d+Math.imul(V,Kt)|0,a=a+Math.imul(V,Dt)|0,a=a+Math.imul(X,Kt)|0,g=g+Math.imul(X,Dt)|0;var Zr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,d=Math.imul(xt,It),a=Math.imul(xt,At),a=a+Math.imul(kt,It)|0,g=Math.imul(kt,At),d=d+Math.imul(wt,Mt)|0,a=a+Math.imul(wt,Lt)|0,a=a+Math.imul(bt,Mt)|0,g=g+Math.imul(bt,Lt)|0,d=d+Math.imul(pt,Rt)|0,a=a+Math.imul(pt,Tt)|0,a=a+Math.imul(yt,Rt)|0,g=g+Math.imul(yt,Tt)|0,d=d+Math.imul(lt,Pt)|0,a=a+Math.imul(lt,Ct)|0,a=a+Math.imul(dt,Pt)|0,g=g+Math.imul(dt,Ct)|0,d=d+Math.imul(ft,Ot)|0,a=a+Math.imul(ft,Ut)|0,a=a+Math.imul(ht,Ot)|0,g=g+Math.imul(ht,Ut)|0,d=d+Math.imul(gt,Nt)|0,a=a+Math.imul(gt,zt)|0,a=a+Math.imul(mt,Nt)|0,g=g+Math.imul(mt,zt)|0,d=d+Math.imul(ut,qt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ct,qt)|0,g=g+Math.imul(ct,Ft)|0,d=d+Math.imul(Y,Kt)|0,a=a+Math.imul(Y,Dt)|0,a=a+Math.imul(tt,Kt)|0,g=g+Math.imul(tt,Dt)|0;var jr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(jr>>>26)|0,jr&=67108863,d=Math.imul(xt,Mt),a=Math.imul(xt,Lt),a=a+Math.imul(kt,Mt)|0,g=Math.imul(kt,Lt),d=d+Math.imul(wt,Rt)|0,a=a+Math.imul(wt,Tt)|0,a=a+Math.imul(bt,Rt)|0,g=g+Math.imul(bt,Tt)|0,d=d+Math.imul(pt,Pt)|0,a=a+Math.imul(pt,Ct)|0,a=a+Math.imul(yt,Pt)|0,g=g+Math.imul(yt,Ct)|0,d=d+Math.imul(lt,Ot)|0,a=a+Math.imul(lt,Ut)|0,a=a+Math.imul(dt,Ot)|0,g=g+Math.imul(dt,Ut)|0,d=d+Math.imul(ft,Nt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(ht,Nt)|0,g=g+Math.imul(ht,zt)|0,d=d+Math.imul(gt,qt)|0,a=a+Math.imul(gt,Ft)|0,a=a+Math.imul(mt,qt)|0,g=g+Math.imul(mt,Ft)|0,d=d+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Dt)|0,a=a+Math.imul(ct,Kt)|0,g=g+Math.imul(ct,Dt)|0;var Yr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,d=Math.imul(xt,Rt),a=Math.imul(xt,Tt),a=a+Math.imul(kt,Rt)|0,g=Math.imul(kt,Tt),d=d+Math.imul(wt,Pt)|0,a=a+Math.imul(wt,Ct)|0,a=a+Math.imul(bt,Pt)|0,g=g+Math.imul(bt,Ct)|0,d=d+Math.imul(pt,Ot)|0,a=a+Math.imul(pt,Ut)|0,a=a+Math.imul(yt,Ot)|0,g=g+Math.imul(yt,Ut)|0,d=d+Math.imul(lt,Nt)|0,a=a+Math.imul(lt,zt)|0,a=a+Math.imul(dt,Nt)|0,g=g+Math.imul(dt,zt)|0,d=d+Math.imul(ft,qt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(ht,qt)|0,g=g+Math.imul(ht,Ft)|0,d=d+Math.imul(gt,Kt)|0,a=a+Math.imul(gt,Dt)|0,a=a+Math.imul(mt,Kt)|0,g=g+Math.imul(mt,Dt)|0;var Jr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,d=Math.imul(xt,Pt),a=Math.imul(xt,Ct),a=a+Math.imul(kt,Pt)|0,g=Math.imul(kt,Ct),d=d+Math.imul(wt,Ot)|0,a=a+Math.imul(wt,Ut)|0,a=a+Math.imul(bt,Ot)|0,g=g+Math.imul(bt,Ut)|0,d=d+Math.imul(pt,Nt)|0,a=a+Math.imul(pt,zt)|0,a=a+Math.imul(yt,Nt)|0,g=g+Math.imul(yt,zt)|0,d=d+Math.imul(lt,qt)|0,a=a+Math.imul(lt,Ft)|0,a=a+Math.imul(dt,qt)|0,g=g+Math.imul(dt,Ft)|0,d=d+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Dt)|0,a=a+Math.imul(ht,Kt)|0,g=g+Math.imul(ht,Dt)|0;var Xr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,d=Math.imul(xt,Ot),a=Math.imul(xt,Ut),a=a+Math.imul(kt,Ot)|0,g=Math.imul(kt,Ut),d=d+Math.imul(wt,Nt)|0,a=a+Math.imul(wt,zt)|0,a=a+Math.imul(bt,Nt)|0,g=g+Math.imul(bt,zt)|0,d=d+Math.imul(pt,qt)|0,a=a+Math.imul(pt,Ft)|0,a=a+Math.imul(yt,qt)|0,g=g+Math.imul(yt,Ft)|0,d=d+Math.imul(lt,Kt)|0,a=a+Math.imul(lt,Dt)|0,a=a+Math.imul(dt,Kt)|0,g=g+Math.imul(dt,Dt)|0;var Qr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,d=Math.imul(xt,Nt),a=Math.imul(xt,zt),a=a+Math.imul(kt,Nt)|0,g=Math.imul(kt,zt),d=d+Math.imul(wt,qt)|0,a=a+Math.imul(wt,Ft)|0,a=a+Math.imul(bt,qt)|0,g=g+Math.imul(bt,Ft)|0,d=d+Math.imul(pt,Kt)|0,a=a+Math.imul(pt,Dt)|0,a=a+Math.imul(yt,Kt)|0,g=g+Math.imul(yt,Dt)|0;var tn=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(tn>>>26)|0,tn&=67108863,d=Math.imul(xt,qt),a=Math.imul(xt,Ft),a=a+Math.imul(kt,qt)|0,g=Math.imul(kt,Ft),d=d+Math.imul(wt,Kt)|0,a=a+Math.imul(wt,Dt)|0,a=a+Math.imul(bt,Kt)|0,g=g+Math.imul(bt,Dt)|0;var en=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(en>>>26)|0,en&=67108863,d=Math.imul(xt,Kt),a=Math.imul(xt,Dt),a=a+Math.imul(kt,Kt)|0,g=Math.imul(kt,Dt);var rn=(b+d|0)+((a&8191)<<13)|0;return b=(g+(a>>>13)|0)+(rn>>>26)|0,rn&=67108863,w[0]=zr,w[1]=qr,w[2]=Fr,w[3]=Kr,w[4]=Dr,w[5]=Wr,w[6]=Hr,w[7]=$r,w[8]=Vr,w[9]=Gr,w[10]=Zr,w[11]=jr,w[12]=Yr,w[13]=Jr,w[14]=Xr,w[15]=Qr,w[16]=tn,w[17]=en,w[18]=rn,b!==0&&(w[19]=b,f.length++),f};Math.imul||(O=E);function K(m,o,u){u.negative=o.negative^m.negative,u.length=m.length+o.length;for(var f=0,h=0,l=0;l<u.length-1;l++){var w=h;h=0;for(var b=f&67108863,d=Math.min(l,o.length-1),a=Math.max(0,l-m.length+1);a<=d;a++){var g=l-a,M=m.words[g]|0,R=o.words[a]|0,T=M*R,F=T&67108863;w=w+(T/67108864|0)|0,F=F+b|0,b=F&67108863,w=w+(F>>>26)|0,h+=w>>>26,w&=67108863}u.words[l]=b,f=w,w=h}return f!==0?u.words[l]=f:u.length--,u._strip()}function N(m,o,u){return K(m,o,u)}i.prototype.mulTo=function(o,u){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=O(this,o,u):h<63?f=E(this,o,u):h<1024?f=K(this,o,u):f=N(this,o,u),f};function D(m,o){this.x=m,this.y=o}D.prototype.makeRBT=function(o){for(var u=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,f,o);return u},D.prototype.revBin=function(o,u,f){if(o===0||o===f-1)return o;for(var h=0,l=0;l<u;l++)h|=(o&1)<<u-l-1,o>>=1;return h},D.prototype.permute=function(o,u,f,h,l,w){for(var b=0;b<w;b++)h[b]=u[o[b]],l[b]=f[o[b]]},D.prototype.transform=function(o,u,f,h,l,w){this.permute(w,o,u,f,h,l);for(var b=1;b<l;b<<=1)for(var d=b<<1,a=Math.cos(2*Math.PI/d),g=Math.sin(2*Math.PI/d),M=0;M<l;M+=d)for(var R=a,T=g,F=0;F<b;F++){var V=f[M+F],X=h[M+F],jt=f[M+F+b],Y=h[M+F+b],tt=R*jt-T*Y;Y=R*Y+T*jt,jt=tt,f[M+F]=V+jt,h[M+F]=X+Y,f[M+F+b]=V-jt,h[M+F+b]=X-Y,F!==d&&(tt=a*R-g*T,T=a*T+g*R,R=tt)}},D.prototype.guessLen13b=function(o,u){var f=Math.max(u,o)|1,h=f&1,l=0;for(f=f/2|0;f;f=f>>>1)l++;return 1<<l+1+h},D.prototype.conjugate=function(o,u,f){if(!(f<=1))for(var h=0;h<f/2;h++){var l=o[h];o[h]=o[f-h-1],o[f-h-1]=l,l=u[h],u[h]=-u[f-h-1],u[f-h-1]=-l}},D.prototype.normalize13b=function(o,u){for(var f=0,h=0;h<u/2;h++){var l=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+f;o[h]=l&67108863,l<67108864?f=0:f=l/67108864|0}return o},D.prototype.convert13b=function(o,u,f,h){for(var l=0,w=0;w<u;w++)l=l+(o[w]|0),f[2*w]=l&8191,l=l>>>13,f[2*w+1]=l&8191,l=l>>>13;for(w=2*u;w<h;++w)f[w]=0;e(l===0),e((l&-8192)===0)},D.prototype.stub=function(o){for(var u=new Array(o),f=0;f<o;f++)u[f]=0;return u},D.prototype.mulp=function(o,u,f){var h=2*this.guessLen13b(o.length,u.length),l=this.makeRBT(h),w=this.stub(h),b=new Array(h),d=new Array(h),a=new Array(h),g=new Array(h),M=new Array(h),R=new Array(h),T=f.words;T.length=h,this.convert13b(o.words,o.length,b,h),this.convert13b(u.words,u.length,g,h),this.transform(b,w,d,a,h,l),this.transform(g,w,M,R,h,l);for(var F=0;F<h;F++){var V=d[F]*M[F]-a[F]*R[F];a[F]=d[F]*R[F]+a[F]*M[F],d[F]=V}return this.conjugate(d,a,h),this.transform(d,a,T,w,h,l),this.conjugate(T,w,h),this.normalize13b(T,h),f.negative=o.negative^u.negative,f.length=o.length+u.length,f._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),N(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),e(typeof o==\"number\"),e(o<67108864);for(var f=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,w=(l&67108863)+(f&67108863);f>>=26,f+=l/67108864|0,f+=w>>>26,this.words[h]=w&67108863}return f!==0&&(this.words[h]=f,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=I(o);if(u.length===0)return new i(1);for(var f=this,h=0;h<u.length&&u[h]===0;h++,f=f.sqr());if(++h<u.length)for(var l=f.sqr();h<u.length;h++,l=l.sqr())u[h]!==0&&(f=f.mul(l));return f},i.prototype.iushln=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26,h=67108863>>>26-u<<26-u,l;if(u!==0){var w=0;for(l=0;l<this.length;l++){var b=this.words[l]&h,d=(this.words[l]|0)-b<<u;this.words[l]=d|w,w=b>>>26-u}w&&(this.words[l]=w,this.length++)}if(f!==0){for(l=this.length-1;l>=0;l--)this.words[l+f]=this.words[l];for(l=0;l<f;l++)this.words[l]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return e(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,f){e(typeof o==\"number\"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var l=o%26,w=Math.min((o-l)/26,this.length),b=67108863^67108863>>>l<<l,d=f;if(h-=w,h=Math.max(0,h),d){for(var a=0;a<w;a++)d.words[a]=this.words[a];d.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=h);a--){var M=this.words[a]|0;this.words[a]=g<<26-l|M>>>l,g=M&b}return d&&g!==0&&(d.words[d.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,f){return e(this.negative===0),this.iushrn(o,u,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26,h=1<<u;if(this.length<=f)return!1;var l=this.words[f];return!!(l&h)},i.prototype.imaskn=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26;if(e(this.negative===0,\"imaskn works only with positive numbers\"),this.length<=f)return this;if(u!==0&&f++,this.length=Math.min(f,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return e(typeof o==\"number\"),e(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(e(typeof o==\"number\"),e(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,f){var h=o.length+f,l;this._expand(h);var w,b=0;for(l=0;l<o.length;l++){w=(this.words[l+f]|0)+b;var d=(o.words[l]|0)*u;w-=d&67108863,b=(w>>26)-(d/67108864|0),this.words[l+f]=w&67108863}for(;l<this.length-f;l++)w=(this.words[l+f]|0)+b,b=w>>26,this.words[l+f]=w&67108863;if(b===0)return this._strip();for(e(b===-1),b=0,l=0;l<this.length;l++)w=-(this.words[l]|0)+b,b=w>>26,this.words[l]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var f=this.length-o.length,h=this.clone(),l=o,w=l.words[l.length-1]|0,b=this._countBits(w);f=26-b,f!==0&&(l=l.ushln(f),h.iushln(f),w=l.words[l.length-1]|0);var d=h.length-l.length,a;if(u!==\"mod\"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var M=h.clone()._ishlnsubmul(l,1,d);M.negative===0&&(h=M,a&&(a.words[d]=1));for(var R=d-1;R>=0;R--){var T=(h.words[l.length+R]|0)*67108864+(h.words[l.length+R-1]|0);for(T=Math.min(T/w|0,67108863),h._ishlnsubmul(l,T,R);h.negative!==0;)T--,h.negative=0,h._ishlnsubmul(l,1,R),h.isZero()||(h.negative^=1);a&&(a.words[R]=T)}return a&&a._strip(),h._strip(),u!==\"div\"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,u,f){if(e(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,l,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!==\"mod\"&&(h=w.div.neg()),u!==\"div\"&&(l=w.mod.neg(),f&&l.negative!==0&&l.iadd(o)),{div:h,mod:l}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!==\"mod\"&&(h=w.div.neg()),{div:h,mod:w.mod}):this.negative&o.negative?(w=this.neg().divmod(o.neg(),u),u!==\"div\"&&(l=w.mod.neg(),f&&l.negative!==0&&l.isub(o)),{div:w.div,mod:l}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u===\"div\"?{div:this.divn(o.words[0]),mod:null}:u===\"mod\"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,\"div\",!1).div},i.prototype.mod=function(o){return this.divmod(o,\"mod\",!1).mod},i.prototype.umod=function(o){return this.divmod(o,\"mod\",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var f=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),l=o.andln(1),w=f.cmp(h);return w<0||l===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),e(o<=67108863);for(var f=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(f*h+(this.words[l]|0))%o;return u?-h:h},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),e(o<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+f*67108864;this.words[h]=l/o|0,f=l%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){e(o.negative===0),e(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new i(1),l=new i(0),w=new i(0),b=new i(1),d=0;u.isEven()&&f.isEven();)u.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),g=u.clone();!u.isZero();){for(var M=0,R=1;!(u.words[0]&R)&&M<26;++M,R<<=1);if(M>0)for(u.iushrn(M);M-- >0;)(h.isOdd()||l.isOdd())&&(h.iadd(a),l.isub(g)),h.iushrn(1),l.iushrn(1);for(var T=0,F=1;!(f.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(a),b.isub(g)),w.iushrn(1),b.iushrn(1);u.cmp(f)>=0?(u.isub(f),h.isub(w),l.isub(b)):(f.isub(u),w.isub(h),b.isub(l))}return{a:w,b,gcd:f.iushln(d)}},i.prototype._invmp=function(o){e(o.negative===0),e(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new i(1),l=new i(0),w=f.clone();u.cmpn(1)>0&&f.cmpn(1)>0;){for(var b=0,d=1;!(u.words[0]&d)&&b<26;++b,d<<=1);if(b>0)for(u.iushrn(b);b-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,g=1;!(f.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(f.iushrn(a);a-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);u.cmp(f)>=0?(u.isub(f),h.isub(l)):(f.isub(u),l.isub(h))}var M;return u.cmpn(1)===0?M=h:M=l,M.cmpn(0)<0&&M.iadd(o),M},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),f=o.clone();u.negative=0,f.negative=0;for(var h=0;u.isEven()&&f.isEven();h++)u.iushrn(1),f.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;f.isEven();)f.iushrn(1);var l=u.cmp(f);if(l<0){var w=u;u=f,f=w}else if(l===0||f.cmpn(1)===0)break;u.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){e(typeof o==\"number\");var u=o%26,f=(o-u)/26,h=1<<u;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var l=h,w=f;l!==0&&w<this.length;w++){var b=this.words[w]|0;b+=l,l=b>>>26,b&=67108863,this.words[w]=b}return l!==0&&(this.words[w]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var f;if(this.length>1)f=1;else{u&&(o=-o),e(o<=67108863,\"Number is too big\");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,l=o.words[f]|0;if(h!==l){h<l?u=-1:h>l&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return e(!this.red,\"Already a number in reduction context\"),e(this.negative===0,\"red works only with positives\"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return e(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return e(!this.red,\"Already a number in reduction context\"),this._forceRed(o)},i.prototype.redAdd=function(o){return e(this.red,\"redAdd works only with red numbers\"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return e(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return e(this.red,\"redSub works only with red numbers\"),this.red.sub(this,o)},i.prototype.redISub=function(o){return e(this.red,\"redISub works only with red numbers\"),this.red.isub(this,o)},i.prototype.redShl=function(o){return e(this.red,\"redShl works only with red numbers\"),this.red.shl(this,o)},i.prototype.redMul=function(o){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return e(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return e(this.red&&!o.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,o)};var et={k256:null,p224:null,p192:null,p25519:null};function W(m,o){this.name=m,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},W.prototype.ireduce=function(o){var u=o,f;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),f=u.bitLength();while(f>this.n);var h=f<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},W.prototype.split=function(o,u){o.iushrn(this.n,0,u)},W.prototype.imulK=function(o){return o.imul(this.k)};function J(){W.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}r(J,W),J.prototype.split=function(o,u){for(var f=4194303,h=Math.min(o.length,9),l=0;l<h;l++)u.words[l]=o.words[l];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&f,l=10;l<o.length;l++){var b=o.words[l]|0;o.words[l-10]=(b&f)<<4|w>>>22,w=b}w>>>=22,o.words[l-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},J.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,f=0;f<o.length;f++){var h=o.words[f]|0;u+=h*977,o.words[f]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Q(){W.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}r(Q,W);function nt(){W.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}r(nt,W);function ee(){W.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}r(ee,W),ee.prototype.imulK=function(o){for(var u=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+u,l=h&67108863;h>>>=26,o.words[f]=l,u=h}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(et[o])return et[o];var u;if(o===\"k256\")u=new J;else if(o===\"p224\")u=new Q;else if(o===\"p192\")u=new nt;else if(o===\"p25519\")u=new ee;else throw new Error(\"Unknown prime \"+o);return et[o]=u,u};function G(m){if(typeof m==\"string\"){var o=i._prime(m);this.m=o.p,this.prime=o}else e(m.gtn(1),\"modulus must be greater than 1\"),this.m=m,this.prime=null}G.prototype._verify1=function(o){e(o.negative===0,\"red works only with positives\"),e(o.red,\"red works only with red numbers\")},G.prototype._verify2=function(o,u){e((o.negative|u.negative)===0,\"red works only with positives\"),e(o.red&&o.red===u.red,\"red works only with red numbers\")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(v(o,o.umod(this.m)._forceRed(this)),o)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,u){this._verify2(o,u);var f=o.add(u);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,u){this._verify2(o,u);var f=o.iadd(u);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,u){this._verify2(o,u);var f=o.sub(u);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,u){this._verify2(o,u);var f=o.isub(u);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},G.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},G.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(e(u%2===1),u===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),l=0;!h.isZero()&&h.andln(1)===0;)l++,h.iushrn(1);e(!h.isZero());var w=new i(1).toRed(this),b=w.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(b)!==0;)a.redIAdd(b);for(var g=this.pow(a,h),M=this.pow(o,h.addn(1).iushrn(1)),R=this.pow(o,h),T=l;R.cmp(w)!==0;){for(var F=R,V=0;F.cmp(w)!==0;V++)F=F.redSqr();e(V<T);var X=this.pow(g,new i(1).iushln(T-V-1));M=M.redMul(X),g=X.redSqr(),R=R.redMul(g),T=V}return M},G.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},G.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var l=2;l<h.length;l++)h[l]=this.mul(h[l-1],o);var w=h[0],b=0,d=0,a=u.bitLength()%26;for(a===0&&(a=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],M=a-1;M>=0;M--){var R=g>>M&1;if(w!==h[0]&&(w=this.sqr(w)),R===0&&b===0){d=0;continue}b<<=1,b|=R,d++,!(d!==f&&(l!==0||M!==0))&&(w=this.mul(w,h[b]),d=0,b=0)}a=26}return w},G.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},G.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new st(o)};function st(m){G.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(st,G),st.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},st.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},st.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(u),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=f.isub(h).iushrn(this.shift),w=l;return l.cmp(this.m)>=0?w=l.isub(this.m):l.cmpn(0)<0&&(w=l.iadd(this.m)),w._forceRed(this)},st.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var f=o.mul(u),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=f.isub(h).iushrn(this.shift),w=l;return l.cmp(this.m)>=0?w=l.isub(this.m):l.cmpn(0)<0&&(w=l.iadd(this.m)),w._forceRed(this)},st.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Ns>\"u\"||Ns,Nu)});var Ku=he((zs,Fu)=>{var og=C(z());var eo=Ln(),Ze=eo.Buffer;function qu(n,t){for(var e in n)t[e]=n[e]}Ze.from&&Ze.alloc&&Ze.allocUnsafe&&Ze.allocUnsafeSlow?Fu.exports=eo:(qu(eo,zs),zs.Buffer=pn);function pn(n,t,e){return Ze(n,t,e)}pn.prototype=Object.create(Ze.prototype);qu(Ze,pn);pn.from=function(n,t,e){if(typeof n==\"number\")throw new TypeError(\"Argument must not be a number\");return Ze(n,t,e)};pn.alloc=function(n,t,e){if(typeof n!=\"number\")throw new TypeError(\"Argument must be a number\");var r=Ze(n);return t!==void 0?typeof e==\"string\"?r.fill(t,e):r.fill(t):r.fill(0),r};pn.allocUnsafe=function(n){if(typeof n!=\"number\")throw new TypeError(\"Argument must be a number\");return Ze(n)};pn.allocUnsafeSlow=function(n){if(typeof n!=\"number\")throw new TypeError(\"Argument must be a number\");return eo.SlowBuffer(n)}});var Wu=he((sg,Du)=>{\"use strict\";var ag=C(z()),ro=Ku().Buffer;function Al(n){if(n.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+\" is ambiguous\");t[s]=r}var c=n.length,p=n.charAt(0),y=Math.log(c)/Math.log(256),v=Math.log(256)/Math.log(c);function x(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=ro.from(B)),!ro.isBuffer(B))throw new TypeError(\"Expected Buffer\");if(B.length===0)return\"\";for(var P=0,I=0,E=0,O=B.length;E!==O&&B[E]===0;)E++,P++;for(var K=(O-E)*v+1>>>0,N=new Uint8Array(K);E!==O;){for(var D=B[E],et=0,W=K-1;(D!==0||et<I)&&W!==-1;W--,et++)D+=256*N[W]>>>0,N[W]=D%c>>>0,D=D/c>>>0;if(D!==0)throw new Error(\"Non-zero carry\");I=et,E++}for(var J=K-I;J!==K&&N[J]===0;)J++;for(var Q=p.repeat(P);J<K;++J)Q+=n.charAt(N[J]);return Q}function k(B){if(typeof B!=\"string\")throw new TypeError(\"Expected String\");if(B.length===0)return ro.alloc(0);for(var P=0,I=0,E=0;B[P]===p;)I++,P++;for(var O=(B.length-P)*y+1>>>0,K=new Uint8Array(O);P<B.length;){var N=t[B.charCodeAt(P)];if(N===255)return;for(var D=0,et=O-1;(N!==0||D<E)&&et!==-1;et--,D++)N+=c*K[et]>>>0,K[et]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error(\"Non-zero carry\");E=D,P++}for(var W=O-E;W!==O&&K[W]===0;)W++;var J=ro.allocUnsafe(I+(O-W));J.fill(0,0,I);for(var Q=I;W!==O;)J[Q++]=K[W++];return J}function _(B){var P=k(B);if(P)return P;throw new Error(\"Non-base\"+c+\" character\")}return{encode:x,decodeUnsafe:k,decode:_}}Du.exports=Al});var qs=he((ug,Hu)=>{var cg=C(z()),Ml=Wu(),Ll=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";Hu.exports=Ml(Ll)});var dg,Rl,Sr,Br,Fs,pi,Ks=vt(()=>{dg=C(z(),1);ds();gr();Rl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Br=new Uint32Array(64),Fs=class extends Pn{constructor(){super(64,32,8,!1),this.A=Sr[0]|0,this.B=Sr[1]|0,this.C=Sr[2]|0,this.D=Sr[3]|0,this.E=Sr[4]|0,this.F=Sr[5]|0,this.G=Sr[6]|0,this.H=Sr[7]|0}get(){let{A:t,B:e,C:r,D:i,E:s,F:c,G:p,H:y}=this;return[t,e,r,i,s,c,p,y]}set(t,e,r,i,s,c,p,y){this.A=t|0,this.B=e|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=p|0,this.H=y|0}process(t,e){for(let k=0;k<16;k++,e+=4)Br[k]=t.getUint32(e,!1);for(let k=16;k<64;k++){let _=Br[k-15],B=Br[k-2],P=qe(_,7)^qe(_,18)^_>>>3,I=qe(B,17)^qe(B,19)^B>>>10;Br[k]=I+Br[k-7]+P+Br[k-16]|0}let{A:r,B:i,C:s,D:c,E:p,F:y,G:v,H:x}=this;for(let k=0;k<64;k++){let _=qe(p,6)^qe(p,11)^qe(p,25),B=x+_+bu(p,y,v)+Rl[k]+Br[k]|0,I=(qe(r,2)^qe(r,13)^qe(r,22))+vu(r,i,s)|0;x=v,v=y,y=p,p=c+B|0,c=s,s=i,i=r,r=B+I|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,p=p+this.E|0,y=y+this.F|0,v=v+this.G|0,x=x+this.H|0,this.set(r,i,s,c,p,y,v,x)}roundClean(){Br.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},pi=Tn(()=>new Fs)});var Vu=he(($u,Ds)=>{var pg=C(z());(function(n,t){\"use strict\";function e(m,o){if(!m)throw new Error(o||\"Assertion failed\")}function r(m,o){m.super_=o;var u=function(){};u.prototype=o.prototype,m.prototype=new u,m.prototype.constructor=m}function i(m,o,u){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((o===\"le\"||o===\"be\")&&(u=o,o=10),this._init(m||0,o||10,u||\"be\"))}typeof n==\"object\"?n.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<\"u\"&&typeof window.Buffer<\"u\"?s=window.Buffer:s=Us().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o==\"object\"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,f){if(typeof o==\"number\")return this._initNumber(o,u,f);if(typeof o==\"object\")return this._initArray(o,u,f);u===\"hex\"&&(u=16),e(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\\s+/g,\"\");var h=0;o[0]===\"-\"&&(h++,this.negative=1),h<o.length&&(u===16?this._parseHex(o,h,f):(this._parseBase(o,u,h),f===\"le\"&&this._initArray(this.toArray(),u,f)))},i.prototype._initNumber=function(o,u,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(e(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f===\"le\"&&this._initArray(this.toArray(),u,f)},i.prototype._initArray=function(o,u,f){if(e(typeof o.length==\"number\"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var l,w,b=0;if(f===\"be\")for(h=o.length-1,l=0;h>=0;h-=3)w=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[l]|=w<<b&67108863,this.words[l+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(f===\"le\")for(h=0,l=0;h<o.length;h+=3)w=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[l]|=w<<b&67108863,this.words[l+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this._strip()};function c(m,o){var u=m.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;e(!1,\"Invalid character in \"+m)}function p(m,o,u){var f=c(m,u);return u-1>=o&&(f|=c(m,u-1)<<4),f}i.prototype._parseHex=function(o,u,f){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var l=0,w=0,b;if(f===\"be\")for(h=o.length-1;h>=u;h-=2)b=p(o,u,h)<<l,this.words[w]|=b&67108863,l>=18?(l-=18,w+=1,this.words[w]|=b>>>26):l+=8;else{var d=o.length-u;for(h=d%2===0?u+1:u;h<o.length;h+=2)b=p(o,u,h)<<l,this.words[w]|=b&67108863,l>=18?(l-=18,w+=1,this.words[w]|=b>>>26):l+=8}this._strip()};function y(m,o,u,f){for(var h=0,l=0,w=Math.min(m.length,u),b=o;b<w;b++){var d=m.charCodeAt(b)-48;h*=f,d>=49?l=d-49+10:d>=17?l=d-17+10:l=d,e(d>=0&&l<f,\"Invalid character\"),h+=l}return h}i.prototype._parseBase=function(o,u,f){this.words=[0],this.length=1;for(var h=0,l=1;l<=67108863;l*=u)h++;h--,l=l/u|0;for(var w=o.length-f,b=w%h,d=Math.min(w,w-b)+f,a=0,g=f;g<d;g+=h)a=y(o,g,g+h,u),this.imuln(l),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(b!==0){var M=1;for(a=y(o,g,o.length,u),g=0;g<b;g++)M*=u;this.imuln(M),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function v(m,o){m.words=o.words,m.length=o.length,m.negative=o.negative,m.red=o.red}if(i.prototype._move=function(o){v(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<\"u\"&&typeof Symbol.for==\"function\")try{i.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"}var k=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var f;if(o===16||o===\"hex\"){f=\"\";for(var h=0,l=0,w=0;w<this.length;w++){var b=this.words[w],d=((b<<h|l)&16777215).toString(16);l=b>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),l!==0||w!==this.length-1?f=k[6-d.length]+d+f:f=d+f}for(l!==0&&(f=l.toString(16)+f);f.length%u!==0;)f=\"0\"+f;return this.negative!==0&&(f=\"-\"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=_[o],g=B[o];f=\"\";var M=this.clone();for(M.negative=0;!M.isZero();){var R=M.modrn(g).toString(o);M=M.idivn(g),M.isZero()?f=R+f:f=k[a-R.length]+R+f}for(this.isZero()&&(f=\"0\"+f);f.length%u!==0;)f=\"0\"+f;return this.negative!==0&&(f=\"-\"+f),f}e(!1,\"Base should be between 2 and 36\")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,\"Number can only safely store up to 53 bits\"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(s,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var P=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,f){this._strip();var h=this.byteLength(),l=f||Math.max(1,h);e(h<=l,\"byte array longer than desired length\"),e(l>0,\"Requested array length <= 0\");var w=P(o,l),b=u===\"le\"?\"LE\":\"BE\";return this[\"_toArrayLike\"+b](w,h),w},i.prototype._toArrayLikeLE=function(o,u){for(var f=0,h=0,l=0,w=0;l<this.length;l++){var b=this.words[l]<<w|h;o[f++]=b&255,f<o.length&&(o[f++]=b>>8&255),f<o.length&&(o[f++]=b>>16&255),w===6?(f<o.length&&(o[f++]=b>>24&255),h=0,w=0):(h=b>>>24,w+=2)}if(f<o.length)for(o[f++]=h;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var f=o.length-1,h=0,l=0,w=0;l<this.length;l++){var b=this.words[l]<<w|h;o[f--]=b&255,f>=0&&(o[f--]=b>>8&255),f>=0&&(o[f--]=b>>16&255),w===6?(f>=0&&(o[f--]=b>>24&255),h=0,w=0):(h=b>>>24,w+=2)}if(f>=0)for(o[f--]=h;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,f=0;return u>=4096&&(f+=13,u>>>=13),u>=64&&(f+=7,u>>>=7),u>=8&&(f+=4,u>>>=4),u>=2&&(f+=2,u>>>=2),f+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,f=0;return u&8191||(f+=13,u>>>=13),u&127||(f+=7,u>>>=7),u&15||(f+=4,u>>>=4),u&3||(f+=2,u>>>=2),u&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function I(m){for(var o=new Array(m.bitLength()),u=0;u<o.length;u++){var f=u/26|0,h=u%26;o[u]=m.words[f]>>>h&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var f=this._zeroBits(this.words[u]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return e((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return e((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=u.words[h]^f.words[h];if(this!==u)for(;h<u.length;h++)this.words[h]=u.words[h];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return e((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){e(typeof o==\"number\"&&o>=0);var u=Math.ceil(o/26)|0,f=o%26;this._expand(u),f>0&&u--;for(var h=0;h<u;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){e(typeof o==\"number\"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),u?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var l=0,w=0;w<h.length;w++)u=(f.words[w]|0)+(h.words[w]|0)+l,this.words[w]=u&67108863,l=u>>>26;for(;l!==0&&w<f.length;w++)u=(f.words[w]|0)+l,this.words[w]=u&67108863,l=u>>>26;if(this.length=f.length,l!==0)this.words[this.length]=l,this.length++;else if(f!==this)for(;w<f.length;w++)this.words[w]=f.words[w];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,l;f>0?(h=this,l=o):(h=o,l=this);for(var w=0,b=0;b<l.length;b++)u=(h.words[b]|0)-(l.words[b]|0)+w,w=u>>26,this.words[b]=u&67108863;for(;w!==0&&b<h.length;b++)u=(h.words[b]|0)+w,w=u>>26,this.words[b]=u&67108863;if(w===0&&b<h.length&&h!==this)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=Math.max(this.length,b),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function E(m,o,u){u.negative=o.negative^m.negative;var f=m.length+o.length|0;u.length=f,f=f-1|0;var h=m.words[0]|0,l=o.words[0]|0,w=h*l,b=w&67108863,d=w/67108864|0;u.words[0]=b;for(var a=1;a<f;a++){for(var g=d>>>26,M=d&67108863,R=Math.min(a,o.length-1),T=Math.max(0,a-m.length+1);T<=R;T++){var F=a-T|0;h=m.words[F]|0,l=o.words[T]|0,w=h*l+M,g+=w/67108864|0,M=w&67108863}u.words[a]=M|0,d=g|0}return d!==0?u.words[a]=d|0:u.length--,u._strip()}var O=function(o,u,f){var h=o.words,l=u.words,w=f.words,b=0,d,a,g,M=h[0]|0,R=M&8191,T=M>>>13,F=h[1]|0,V=F&8191,X=F>>>13,jt=h[2]|0,Y=jt&8191,tt=jt>>>13,Ee=h[3]|0,ut=Ee&8191,ct=Ee>>>13,Cr=h[4]|0,gt=Cr&8191,mt=Cr>>>13,Or=h[5]|0,ft=Or&8191,ht=Or>>>13,Je=h[6]|0,lt=Je&8191,dt=Je>>>13,hr=h[7]|0,pt=hr&8191,yt=hr>>>13,Ur=h[8]|0,wt=Ur&8191,bt=Ur>>>13,Nr=h[9]|0,xt=Nr&8191,kt=Nr>>>13,Xn=l[0]|0,St=Xn&8191,Bt=Xn>>>13,Qn=l[1]|0,Et=Qn&8191,_t=Qn>>>13,ti=l[2]|0,It=ti&8191,At=ti>>>13,ei=l[3]|0,Mt=ei&8191,Lt=ei>>>13,ri=l[4]|0,Rt=ri&8191,Tt=ri>>>13,ni=l[5]|0,Pt=ni&8191,Ct=ni>>>13,ii=l[6]|0,Ot=ii&8191,Ut=ii>>>13,oi=l[7]|0,Nt=oi&8191,zt=oi>>>13,si=l[8]|0,qt=si&8191,Ft=si>>>13,ai=l[9]|0,Kt=ai&8191,Dt=ai>>>13;f.negative=o.negative^u.negative,f.length=19,d=Math.imul(R,St),a=Math.imul(R,Bt),a=a+Math.imul(T,St)|0,g=Math.imul(T,Bt);var zr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(zr>>>26)|0,zr&=67108863,d=Math.imul(V,St),a=Math.imul(V,Bt),a=a+Math.imul(X,St)|0,g=Math.imul(X,Bt),d=d+Math.imul(R,Et)|0,a=a+Math.imul(R,_t)|0,a=a+Math.imul(T,Et)|0,g=g+Math.imul(T,_t)|0;var qr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(qr>>>26)|0,qr&=67108863,d=Math.imul(Y,St),a=Math.imul(Y,Bt),a=a+Math.imul(tt,St)|0,g=Math.imul(tt,Bt),d=d+Math.imul(V,Et)|0,a=a+Math.imul(V,_t)|0,a=a+Math.imul(X,Et)|0,g=g+Math.imul(X,_t)|0,d=d+Math.imul(R,It)|0,a=a+Math.imul(R,At)|0,a=a+Math.imul(T,It)|0,g=g+Math.imul(T,At)|0;var Fr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,d=Math.imul(ut,St),a=Math.imul(ut,Bt),a=a+Math.imul(ct,St)|0,g=Math.imul(ct,Bt),d=d+Math.imul(Y,Et)|0,a=a+Math.imul(Y,_t)|0,a=a+Math.imul(tt,Et)|0,g=g+Math.imul(tt,_t)|0,d=d+Math.imul(V,It)|0,a=a+Math.imul(V,At)|0,a=a+Math.imul(X,It)|0,g=g+Math.imul(X,At)|0,d=d+Math.imul(R,Mt)|0,a=a+Math.imul(R,Lt)|0,a=a+Math.imul(T,Mt)|0,g=g+Math.imul(T,Lt)|0;var Kr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,d=Math.imul(gt,St),a=Math.imul(gt,Bt),a=a+Math.imul(mt,St)|0,g=Math.imul(mt,Bt),d=d+Math.imul(ut,Et)|0,a=a+Math.imul(ut,_t)|0,a=a+Math.imul(ct,Et)|0,g=g+Math.imul(ct,_t)|0,d=d+Math.imul(Y,It)|0,a=a+Math.imul(Y,At)|0,a=a+Math.imul(tt,It)|0,g=g+Math.imul(tt,At)|0,d=d+Math.imul(V,Mt)|0,a=a+Math.imul(V,Lt)|0,a=a+Math.imul(X,Mt)|0,g=g+Math.imul(X,Lt)|0,d=d+Math.imul(R,Rt)|0,a=a+Math.imul(R,Tt)|0,a=a+Math.imul(T,Rt)|0,g=g+Math.imul(T,Tt)|0;var Dr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,d=Math.imul(ft,St),a=Math.imul(ft,Bt),a=a+Math.imul(ht,St)|0,g=Math.imul(ht,Bt),d=d+Math.imul(gt,Et)|0,a=a+Math.imul(gt,_t)|0,a=a+Math.imul(mt,Et)|0,g=g+Math.imul(mt,_t)|0,d=d+Math.imul(ut,It)|0,a=a+Math.imul(ut,At)|0,a=a+Math.imul(ct,It)|0,g=g+Math.imul(ct,At)|0,d=d+Math.imul(Y,Mt)|0,a=a+Math.imul(Y,Lt)|0,a=a+Math.imul(tt,Mt)|0,g=g+Math.imul(tt,Lt)|0,d=d+Math.imul(V,Rt)|0,a=a+Math.imul(V,Tt)|0,a=a+Math.imul(X,Rt)|0,g=g+Math.imul(X,Tt)|0,d=d+Math.imul(R,Pt)|0,a=a+Math.imul(R,Ct)|0,a=a+Math.imul(T,Pt)|0,g=g+Math.imul(T,Ct)|0;var Wr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,d=Math.imul(lt,St),a=Math.imul(lt,Bt),a=a+Math.imul(dt,St)|0,g=Math.imul(dt,Bt),d=d+Math.imul(ft,Et)|0,a=a+Math.imul(ft,_t)|0,a=a+Math.imul(ht,Et)|0,g=g+Math.imul(ht,_t)|0,d=d+Math.imul(gt,It)|0,a=a+Math.imul(gt,At)|0,a=a+Math.imul(mt,It)|0,g=g+Math.imul(mt,At)|0,d=d+Math.imul(ut,Mt)|0,a=a+Math.imul(ut,Lt)|0,a=a+Math.imul(ct,Mt)|0,g=g+Math.imul(ct,Lt)|0,d=d+Math.imul(Y,Rt)|0,a=a+Math.imul(Y,Tt)|0,a=a+Math.imul(tt,Rt)|0,g=g+Math.imul(tt,Tt)|0,d=d+Math.imul(V,Pt)|0,a=a+Math.imul(V,Ct)|0,a=a+Math.imul(X,Pt)|0,g=g+Math.imul(X,Ct)|0,d=d+Math.imul(R,Ot)|0,a=a+Math.imul(R,Ut)|0,a=a+Math.imul(T,Ot)|0,g=g+Math.imul(T,Ut)|0;var Hr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,d=Math.imul(pt,St),a=Math.imul(pt,Bt),a=a+Math.imul(yt,St)|0,g=Math.imul(yt,Bt),d=d+Math.imul(lt,Et)|0,a=a+Math.imul(lt,_t)|0,a=a+Math.imul(dt,Et)|0,g=g+Math.imul(dt,_t)|0,d=d+Math.imul(ft,It)|0,a=a+Math.imul(ft,At)|0,a=a+Math.imul(ht,It)|0,g=g+Math.imul(ht,At)|0,d=d+Math.imul(gt,Mt)|0,a=a+Math.imul(gt,Lt)|0,a=a+Math.imul(mt,Mt)|0,g=g+Math.imul(mt,Lt)|0,d=d+Math.imul(ut,Rt)|0,a=a+Math.imul(ut,Tt)|0,a=a+Math.imul(ct,Rt)|0,g=g+Math.imul(ct,Tt)|0,d=d+Math.imul(Y,Pt)|0,a=a+Math.imul(Y,Ct)|0,a=a+Math.imul(tt,Pt)|0,g=g+Math.imul(tt,Ct)|0,d=d+Math.imul(V,Ot)|0,a=a+Math.imul(V,Ut)|0,a=a+Math.imul(X,Ot)|0,g=g+Math.imul(X,Ut)|0,d=d+Math.imul(R,Nt)|0,a=a+Math.imul(R,zt)|0,a=a+Math.imul(T,Nt)|0,g=g+Math.imul(T,zt)|0;var $r=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+($r>>>26)|0,$r&=67108863,d=Math.imul(wt,St),a=Math.imul(wt,Bt),a=a+Math.imul(bt,St)|0,g=Math.imul(bt,Bt),d=d+Math.imul(pt,Et)|0,a=a+Math.imul(pt,_t)|0,a=a+Math.imul(yt,Et)|0,g=g+Math.imul(yt,_t)|0,d=d+Math.imul(lt,It)|0,a=a+Math.imul(lt,At)|0,a=a+Math.imul(dt,It)|0,g=g+Math.imul(dt,At)|0,d=d+Math.imul(ft,Mt)|0,a=a+Math.imul(ft,Lt)|0,a=a+Math.imul(ht,Mt)|0,g=g+Math.imul(ht,Lt)|0,d=d+Math.imul(gt,Rt)|0,a=a+Math.imul(gt,Tt)|0,a=a+Math.imul(mt,Rt)|0,g=g+Math.imul(mt,Tt)|0,d=d+Math.imul(ut,Pt)|0,a=a+Math.imul(ut,Ct)|0,a=a+Math.imul(ct,Pt)|0,g=g+Math.imul(ct,Ct)|0,d=d+Math.imul(Y,Ot)|0,a=a+Math.imul(Y,Ut)|0,a=a+Math.imul(tt,Ot)|0,g=g+Math.imul(tt,Ut)|0,d=d+Math.imul(V,Nt)|0,a=a+Math.imul(V,zt)|0,a=a+Math.imul(X,Nt)|0,g=g+Math.imul(X,zt)|0,d=d+Math.imul(R,qt)|0,a=a+Math.imul(R,Ft)|0,a=a+Math.imul(T,qt)|0,g=g+Math.imul(T,Ft)|0;var Vr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,d=Math.imul(xt,St),a=Math.imul(xt,Bt),a=a+Math.imul(kt,St)|0,g=Math.imul(kt,Bt),d=d+Math.imul(wt,Et)|0,a=a+Math.imul(wt,_t)|0,a=a+Math.imul(bt,Et)|0,g=g+Math.imul(bt,_t)|0,d=d+Math.imul(pt,It)|0,a=a+Math.imul(pt,At)|0,a=a+Math.imul(yt,It)|0,g=g+Math.imul(yt,At)|0,d=d+Math.imul(lt,Mt)|0,a=a+Math.imul(lt,Lt)|0,a=a+Math.imul(dt,Mt)|0,g=g+Math.imul(dt,Lt)|0,d=d+Math.imul(ft,Rt)|0,a=a+Math.imul(ft,Tt)|0,a=a+Math.imul(ht,Rt)|0,g=g+Math.imul(ht,Tt)|0,d=d+Math.imul(gt,Pt)|0,a=a+Math.imul(gt,Ct)|0,a=a+Math.imul(mt,Pt)|0,g=g+Math.imul(mt,Ct)|0,d=d+Math.imul(ut,Ot)|0,a=a+Math.imul(ut,Ut)|0,a=a+Math.imul(ct,Ot)|0,g=g+Math.imul(ct,Ut)|0,d=d+Math.imul(Y,Nt)|0,a=a+Math.imul(Y,zt)|0,a=a+Math.imul(tt,Nt)|0,g=g+Math.imul(tt,zt)|0,d=d+Math.imul(V,qt)|0,a=a+Math.imul(V,Ft)|0,a=a+Math.imul(X,qt)|0,g=g+Math.imul(X,Ft)|0,d=d+Math.imul(R,Kt)|0,a=a+Math.imul(R,Dt)|0,a=a+Math.imul(T,Kt)|0,g=g+Math.imul(T,Dt)|0;var Gr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,d=Math.imul(xt,Et),a=Math.imul(xt,_t),a=a+Math.imul(kt,Et)|0,g=Math.imul(kt,_t),d=d+Math.imul(wt,It)|0,a=a+Math.imul(wt,At)|0,a=a+Math.imul(bt,It)|0,g=g+Math.imul(bt,At)|0,d=d+Math.imul(pt,Mt)|0,a=a+Math.imul(pt,Lt)|0,a=a+Math.imul(yt,Mt)|0,g=g+Math.imul(yt,Lt)|0,d=d+Math.imul(lt,Rt)|0,a=a+Math.imul(lt,Tt)|0,a=a+Math.imul(dt,Rt)|0,g=g+Math.imul(dt,Tt)|0,d=d+Math.imul(ft,Pt)|0,a=a+Math.imul(ft,Ct)|0,a=a+Math.imul(ht,Pt)|0,g=g+Math.imul(ht,Ct)|0,d=d+Math.imul(gt,Ot)|0,a=a+Math.imul(gt,Ut)|0,a=a+Math.imul(mt,Ot)|0,g=g+Math.imul(mt,Ut)|0,d=d+Math.imul(ut,Nt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ct,Nt)|0,g=g+Math.imul(ct,zt)|0,d=d+Math.imul(Y,qt)|0,a=a+Math.imul(Y,Ft)|0,a=a+Math.imul(tt,qt)|0,g=g+Math.imul(tt,Ft)|0,d=d+Math.imul(V,Kt)|0,a=a+Math.imul(V,Dt)|0,a=a+Math.imul(X,Kt)|0,g=g+Math.imul(X,Dt)|0;var Zr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,d=Math.imul(xt,It),a=Math.imul(xt,At),a=a+Math.imul(kt,It)|0,g=Math.imul(kt,At),d=d+Math.imul(wt,Mt)|0,a=a+Math.imul(wt,Lt)|0,a=a+Math.imul(bt,Mt)|0,g=g+Math.imul(bt,Lt)|0,d=d+Math.imul(pt,Rt)|0,a=a+Math.imul(pt,Tt)|0,a=a+Math.imul(yt,Rt)|0,g=g+Math.imul(yt,Tt)|0,d=d+Math.imul(lt,Pt)|0,a=a+Math.imul(lt,Ct)|0,a=a+Math.imul(dt,Pt)|0,g=g+Math.imul(dt,Ct)|0,d=d+Math.imul(ft,Ot)|0,a=a+Math.imul(ft,Ut)|0,a=a+Math.imul(ht,Ot)|0,g=g+Math.imul(ht,Ut)|0,d=d+Math.imul(gt,Nt)|0,a=a+Math.imul(gt,zt)|0,a=a+Math.imul(mt,Nt)|0,g=g+Math.imul(mt,zt)|0,d=d+Math.imul(ut,qt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ct,qt)|0,g=g+Math.imul(ct,Ft)|0,d=d+Math.imul(Y,Kt)|0,a=a+Math.imul(Y,Dt)|0,a=a+Math.imul(tt,Kt)|0,g=g+Math.imul(tt,Dt)|0;var jr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(jr>>>26)|0,jr&=67108863,d=Math.imul(xt,Mt),a=Math.imul(xt,Lt),a=a+Math.imul(kt,Mt)|0,g=Math.imul(kt,Lt),d=d+Math.imul(wt,Rt)|0,a=a+Math.imul(wt,Tt)|0,a=a+Math.imul(bt,Rt)|0,g=g+Math.imul(bt,Tt)|0,d=d+Math.imul(pt,Pt)|0,a=a+Math.imul(pt,Ct)|0,a=a+Math.imul(yt,Pt)|0,g=g+Math.imul(yt,Ct)|0,d=d+Math.imul(lt,Ot)|0,a=a+Math.imul(lt,Ut)|0,a=a+Math.imul(dt,Ot)|0,g=g+Math.imul(dt,Ut)|0,d=d+Math.imul(ft,Nt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(ht,Nt)|0,g=g+Math.imul(ht,zt)|0,d=d+Math.imul(gt,qt)|0,a=a+Math.imul(gt,Ft)|0,a=a+Math.imul(mt,qt)|0,g=g+Math.imul(mt,Ft)|0,d=d+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Dt)|0,a=a+Math.imul(ct,Kt)|0,g=g+Math.imul(ct,Dt)|0;var Yr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,d=Math.imul(xt,Rt),a=Math.imul(xt,Tt),a=a+Math.imul(kt,Rt)|0,g=Math.imul(kt,Tt),d=d+Math.imul(wt,Pt)|0,a=a+Math.imul(wt,Ct)|0,a=a+Math.imul(bt,Pt)|0,g=g+Math.imul(bt,Ct)|0,d=d+Math.imul(pt,Ot)|0,a=a+Math.imul(pt,Ut)|0,a=a+Math.imul(yt,Ot)|0,g=g+Math.imul(yt,Ut)|0,d=d+Math.imul(lt,Nt)|0,a=a+Math.imul(lt,zt)|0,a=a+Math.imul(dt,Nt)|0,g=g+Math.imul(dt,zt)|0,d=d+Math.imul(ft,qt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(ht,qt)|0,g=g+Math.imul(ht,Ft)|0,d=d+Math.imul(gt,Kt)|0,a=a+Math.imul(gt,Dt)|0,a=a+Math.imul(mt,Kt)|0,g=g+Math.imul(mt,Dt)|0;var Jr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,d=Math.imul(xt,Pt),a=Math.imul(xt,Ct),a=a+Math.imul(kt,Pt)|0,g=Math.imul(kt,Ct),d=d+Math.imul(wt,Ot)|0,a=a+Math.imul(wt,Ut)|0,a=a+Math.imul(bt,Ot)|0,g=g+Math.imul(bt,Ut)|0,d=d+Math.imul(pt,Nt)|0,a=a+Math.imul(pt,zt)|0,a=a+Math.imul(yt,Nt)|0,g=g+Math.imul(yt,zt)|0,d=d+Math.imul(lt,qt)|0,a=a+Math.imul(lt,Ft)|0,a=a+Math.imul(dt,qt)|0,g=g+Math.imul(dt,Ft)|0,d=d+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Dt)|0,a=a+Math.imul(ht,Kt)|0,g=g+Math.imul(ht,Dt)|0;var Xr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,d=Math.imul(xt,Ot),a=Math.imul(xt,Ut),a=a+Math.imul(kt,Ot)|0,g=Math.imul(kt,Ut),d=d+Math.imul(wt,Nt)|0,a=a+Math.imul(wt,zt)|0,a=a+Math.imul(bt,Nt)|0,g=g+Math.imul(bt,zt)|0,d=d+Math.imul(pt,qt)|0,a=a+Math.imul(pt,Ft)|0,a=a+Math.imul(yt,qt)|0,g=g+Math.imul(yt,Ft)|0,d=d+Math.imul(lt,Kt)|0,a=a+Math.imul(lt,Dt)|0,a=a+Math.imul(dt,Kt)|0,g=g+Math.imul(dt,Dt)|0;var Qr=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,d=Math.imul(xt,Nt),a=Math.imul(xt,zt),a=a+Math.imul(kt,Nt)|0,g=Math.imul(kt,zt),d=d+Math.imul(wt,qt)|0,a=a+Math.imul(wt,Ft)|0,a=a+Math.imul(bt,qt)|0,g=g+Math.imul(bt,Ft)|0,d=d+Math.imul(pt,Kt)|0,a=a+Math.imul(pt,Dt)|0,a=a+Math.imul(yt,Kt)|0,g=g+Math.imul(yt,Dt)|0;var tn=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(tn>>>26)|0,tn&=67108863,d=Math.imul(xt,qt),a=Math.imul(xt,Ft),a=a+Math.imul(kt,qt)|0,g=Math.imul(kt,Ft),d=d+Math.imul(wt,Kt)|0,a=a+Math.imul(wt,Dt)|0,a=a+Math.imul(bt,Kt)|0,g=g+Math.imul(bt,Dt)|0;var en=(b+d|0)+((a&8191)<<13)|0;b=(g+(a>>>13)|0)+(en>>>26)|0,en&=67108863,d=Math.imul(xt,Kt),a=Math.imul(xt,Dt),a=a+Math.imul(kt,Kt)|0,g=Math.imul(kt,Dt);var rn=(b+d|0)+((a&8191)<<13)|0;return b=(g+(a>>>13)|0)+(rn>>>26)|0,rn&=67108863,w[0]=zr,w[1]=qr,w[2]=Fr,w[3]=Kr,w[4]=Dr,w[5]=Wr,w[6]=Hr,w[7]=$r,w[8]=Vr,w[9]=Gr,w[10]=Zr,w[11]=jr,w[12]=Yr,w[13]=Jr,w[14]=Xr,w[15]=Qr,w[16]=tn,w[17]=en,w[18]=rn,b!==0&&(w[19]=b,f.length++),f};Math.imul||(O=E);function K(m,o,u){u.negative=o.negative^m.negative,u.length=m.length+o.length;for(var f=0,h=0,l=0;l<u.length-1;l++){var w=h;h=0;for(var b=f&67108863,d=Math.min(l,o.length-1),a=Math.max(0,l-m.length+1);a<=d;a++){var g=l-a,M=m.words[g]|0,R=o.words[a]|0,T=M*R,F=T&67108863;w=w+(T/67108864|0)|0,F=F+b|0,b=F&67108863,w=w+(F>>>26)|0,h+=w>>>26,w&=67108863}u.words[l]=b,f=w,w=h}return f!==0?u.words[l]=f:u.length--,u._strip()}function N(m,o,u){return K(m,o,u)}i.prototype.mulTo=function(o,u){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=O(this,o,u):h<63?f=E(this,o,u):h<1024?f=K(this,o,u):f=N(this,o,u),f};function D(m,o){this.x=m,this.y=o}D.prototype.makeRBT=function(o){for(var u=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)u[h]=this.revBin(h,f,o);return u},D.prototype.revBin=function(o,u,f){if(o===0||o===f-1)return o;for(var h=0,l=0;l<u;l++)h|=(o&1)<<u-l-1,o>>=1;return h},D.prototype.permute=function(o,u,f,h,l,w){for(var b=0;b<w;b++)h[b]=u[o[b]],l[b]=f[o[b]]},D.prototype.transform=function(o,u,f,h,l,w){this.permute(w,o,u,f,h,l);for(var b=1;b<l;b<<=1)for(var d=b<<1,a=Math.cos(2*Math.PI/d),g=Math.sin(2*Math.PI/d),M=0;M<l;M+=d)for(var R=a,T=g,F=0;F<b;F++){var V=f[M+F],X=h[M+F],jt=f[M+F+b],Y=h[M+F+b],tt=R*jt-T*Y;Y=R*Y+T*jt,jt=tt,f[M+F]=V+jt,h[M+F]=X+Y,f[M+F+b]=V-jt,h[M+F+b]=X-Y,F!==d&&(tt=a*R-g*T,T=a*T+g*R,R=tt)}},D.prototype.guessLen13b=function(o,u){var f=Math.max(u,o)|1,h=f&1,l=0;for(f=f/2|0;f;f=f>>>1)l++;return 1<<l+1+h},D.prototype.conjugate=function(o,u,f){if(!(f<=1))for(var h=0;h<f/2;h++){var l=o[h];o[h]=o[f-h-1],o[f-h-1]=l,l=u[h],u[h]=-u[f-h-1],u[f-h-1]=-l}},D.prototype.normalize13b=function(o,u){for(var f=0,h=0;h<u/2;h++){var l=Math.round(o[2*h+1]/u)*8192+Math.round(o[2*h]/u)+f;o[h]=l&67108863,l<67108864?f=0:f=l/67108864|0}return o},D.prototype.convert13b=function(o,u,f,h){for(var l=0,w=0;w<u;w++)l=l+(o[w]|0),f[2*w]=l&8191,l=l>>>13,f[2*w+1]=l&8191,l=l>>>13;for(w=2*u;w<h;++w)f[w]=0;e(l===0),e((l&-8192)===0)},D.prototype.stub=function(o){for(var u=new Array(o),f=0;f<o;f++)u[f]=0;return u},D.prototype.mulp=function(o,u,f){var h=2*this.guessLen13b(o.length,u.length),l=this.makeRBT(h),w=this.stub(h),b=new Array(h),d=new Array(h),a=new Array(h),g=new Array(h),M=new Array(h),R=new Array(h),T=f.words;T.length=h,this.convert13b(o.words,o.length,b,h),this.convert13b(u.words,u.length,g,h),this.transform(b,w,d,a,h,l),this.transform(g,w,M,R,h,l);for(var F=0;F<h;F++){var V=d[F]*M[F]-a[F]*R[F];a[F]=d[F]*R[F]+a[F]*M[F],d[F]=V}return this.conjugate(d,a,h),this.transform(d,a,T,w,h,l),this.conjugate(T,w,h),this.normalize13b(T,h),f.negative=o.negative^u.negative,f.length=o.length+u.length,f._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),N(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),e(typeof o==\"number\"),e(o<67108864);for(var f=0,h=0;h<this.length;h++){var l=(this.words[h]|0)*o,w=(l&67108863)+(f&67108863);f>>=26,f+=l/67108864|0,f+=w>>>26,this.words[h]=w&67108863}return f!==0&&(this.words[h]=f,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=I(o);if(u.length===0)return new i(1);for(var f=this,h=0;h<u.length&&u[h]===0;h++,f=f.sqr());if(++h<u.length)for(var l=f.sqr();h<u.length;h++,l=l.sqr())u[h]!==0&&(f=f.mul(l));return f},i.prototype.iushln=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26,h=67108863>>>26-u<<26-u,l;if(u!==0){var w=0;for(l=0;l<this.length;l++){var b=this.words[l]&h,d=(this.words[l]|0)-b<<u;this.words[l]=d|w,w=b>>>26-u}w&&(this.words[l]=w,this.length++)}if(f!==0){for(l=this.length-1;l>=0;l--)this.words[l+f]=this.words[l];for(l=0;l<f;l++)this.words[l]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return e(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,f){e(typeof o==\"number\"&&o>=0);var h;u?h=(u-u%26)/26:h=0;var l=o%26,w=Math.min((o-l)/26,this.length),b=67108863^67108863>>>l<<l,d=f;if(h-=w,h=Math.max(0,h),d){for(var a=0;a<w;a++)d.words[a]=this.words[a];d.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=h);a--){var M=this.words[a]|0;this.words[a]=g<<26-l|M>>>l,g=M&b}return d&&g!==0&&(d.words[d.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,f){return e(this.negative===0),this.iushrn(o,u,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26,h=1<<u;if(this.length<=f)return!1;var l=this.words[f];return!!(l&h)},i.prototype.imaskn=function(o){e(typeof o==\"number\"&&o>=0);var u=o%26,f=(o-u)/26;if(e(this.negative===0,\"imaskn works only with positive numbers\"),this.length<=f)return this;if(u!==0&&f++,this.length=Math.min(f,this.length),u!==0){var h=67108863^67108863>>>u<<u;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return e(typeof o==\"number\"),e(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(e(typeof o==\"number\"),e(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,f){var h=o.length+f,l;this._expand(h);var w,b=0;for(l=0;l<o.length;l++){w=(this.words[l+f]|0)+b;var d=(o.words[l]|0)*u;w-=d&67108863,b=(w>>26)-(d/67108864|0),this.words[l+f]=w&67108863}for(;l<this.length-f;l++)w=(this.words[l+f]|0)+b,b=w>>26,this.words[l+f]=w&67108863;if(b===0)return this._strip();for(e(b===-1),b=0,l=0;l<this.length;l++)w=-(this.words[l]|0)+b,b=w>>26,this.words[l]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var f=this.length-o.length,h=this.clone(),l=o,w=l.words[l.length-1]|0,b=this._countBits(w);f=26-b,f!==0&&(l=l.ushln(f),h.iushln(f),w=l.words[l.length-1]|0);var d=h.length-l.length,a;if(u!==\"mod\"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var M=h.clone()._ishlnsubmul(l,1,d);M.negative===0&&(h=M,a&&(a.words[d]=1));for(var R=d-1;R>=0;R--){var T=(h.words[l.length+R]|0)*67108864+(h.words[l.length+R-1]|0);for(T=Math.min(T/w|0,67108863),h._ishlnsubmul(l,T,R);h.negative!==0;)T--,h.negative=0,h._ishlnsubmul(l,1,R),h.isZero()||(h.negative^=1);a&&(a.words[R]=T)}return a&&a._strip(),h._strip(),u!==\"div\"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,u,f){if(e(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,l,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,u),u!==\"mod\"&&(h=w.div.neg()),u!==\"div\"&&(l=w.mod.neg(),f&&l.negative!==0&&l.iadd(o)),{div:h,mod:l}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),u),u!==\"mod\"&&(h=w.div.neg()),{div:h,mod:w.mod}):this.negative&o.negative?(w=this.neg().divmod(o.neg(),u),u!==\"div\"&&(l=w.mod.neg(),f&&l.negative!==0&&l.isub(o)),{div:w.div,mod:l}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u===\"div\"?{div:this.divn(o.words[0]),mod:null}:u===\"mod\"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,\"div\",!1).div},i.prototype.mod=function(o){return this.divmod(o,\"mod\",!1).mod},i.prototype.umod=function(o){return this.divmod(o,\"mod\",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var f=u.div.negative!==0?u.mod.isub(o):u.mod,h=o.ushrn(1),l=o.andln(1),w=f.cmp(h);return w<0||l===1&&w===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),e(o<=67108863);for(var f=(1<<26)%o,h=0,l=this.length-1;l>=0;l--)h=(f*h+(this.words[l]|0))%o;return u?-h:h},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),e(o<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var l=(this.words[h]|0)+f*67108864;this.words[h]=l/o|0,f=l%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){e(o.negative===0),e(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new i(1),l=new i(0),w=new i(0),b=new i(1),d=0;u.isEven()&&f.isEven();)u.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),g=u.clone();!u.isZero();){for(var M=0,R=1;!(u.words[0]&R)&&M<26;++M,R<<=1);if(M>0)for(u.iushrn(M);M-- >0;)(h.isOdd()||l.isOdd())&&(h.iadd(a),l.isub(g)),h.iushrn(1),l.iushrn(1);for(var T=0,F=1;!(f.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(a),b.isub(g)),w.iushrn(1),b.iushrn(1);u.cmp(f)>=0?(u.isub(f),h.isub(w),l.isub(b)):(f.isub(u),w.isub(h),b.isub(l))}return{a:w,b,gcd:f.iushln(d)}},i.prototype._invmp=function(o){e(o.negative===0),e(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var h=new i(1),l=new i(0),w=f.clone();u.cmpn(1)>0&&f.cmpn(1)>0;){for(var b=0,d=1;!(u.words[0]&d)&&b<26;++b,d<<=1);if(b>0)for(u.iushrn(b);b-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var a=0,g=1;!(f.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(f.iushrn(a);a-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);u.cmp(f)>=0?(u.isub(f),h.isub(l)):(f.isub(u),l.isub(h))}var M;return u.cmpn(1)===0?M=h:M=l,M.cmpn(0)<0&&M.iadd(o),M},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),f=o.clone();u.negative=0,f.negative=0;for(var h=0;u.isEven()&&f.isEven();h++)u.iushrn(1),f.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;f.isEven();)f.iushrn(1);var l=u.cmp(f);if(l<0){var w=u;u=f,f=w}else if(l===0||f.cmpn(1)===0)break;u.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){e(typeof o==\"number\");var u=o%26,f=(o-u)/26,h=1<<u;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var l=h,w=f;l!==0&&w<this.length;w++){var b=this.words[w]|0;b+=l,l=b>>>26,b&=67108863,this.words[w]=b}return l!==0&&(this.words[w]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var f;if(this.length>1)f=1;else{u&&(o=-o),e(o<=67108863,\"Number is too big\");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,l=o.words[f]|0;if(h!==l){h<l?u=-1:h>l&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return e(!this.red,\"Already a number in reduction context\"),e(this.negative===0,\"red works only with positives\"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return e(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return e(!this.red,\"Already a number in reduction context\"),this._forceRed(o)},i.prototype.redAdd=function(o){return e(this.red,\"redAdd works only with red numbers\"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return e(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return e(this.red,\"redSub works only with red numbers\"),this.red.sub(this,o)},i.prototype.redISub=function(o){return e(this.red,\"redISub works only with red numbers\"),this.red.isub(this,o)},i.prototype.redShl=function(o){return e(this.red,\"redShl works only with red numbers\"),this.red.shl(this,o)},i.prototype.redMul=function(o){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return e(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return e(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return e(this.red&&!o.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,o)};var et={k256:null,p224:null,p192:null,p25519:null};function W(m,o){this.name=m,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},W.prototype.ireduce=function(o){var u=o,f;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),f=u.bitLength();while(f>this.n);var h=f<this.n?-1:u.ucmp(this.p);return h===0?(u.words[0]=0,u.length=1):h>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},W.prototype.split=function(o,u){o.iushrn(this.n,0,u)},W.prototype.imulK=function(o){return o.imul(this.k)};function J(){W.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}r(J,W),J.prototype.split=function(o,u){for(var f=4194303,h=Math.min(o.length,9),l=0;l<h;l++)u.words[l]=o.words[l];if(u.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(u.words[u.length++]=w&f,l=10;l<o.length;l++){var b=o.words[l]|0;o.words[l-10]=(b&f)<<4|w>>>22,w=b}w>>>=22,o.words[l-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},J.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,f=0;f<o.length;f++){var h=o.words[f]|0;u+=h*977,o.words[f]=u&67108863,u=h*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Q(){W.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}r(Q,W);function nt(){W.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}r(nt,W);function ee(){W.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}r(ee,W),ee.prototype.imulK=function(o){for(var u=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+u,l=h&67108863;h>>>=26,o.words[f]=l,u=h}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(et[o])return et[o];var u;if(o===\"k256\")u=new J;else if(o===\"p224\")u=new Q;else if(o===\"p192\")u=new nt;else if(o===\"p25519\")u=new ee;else throw new Error(\"Unknown prime \"+o);return et[o]=u,u};function G(m){if(typeof m==\"string\"){var o=i._prime(m);this.m=o.p,this.prime=o}else e(m.gtn(1),\"modulus must be greater than 1\"),this.m=m,this.prime=null}G.prototype._verify1=function(o){e(o.negative===0,\"red works only with positives\"),e(o.red,\"red works only with red numbers\")},G.prototype._verify2=function(o,u){e((o.negative|u.negative)===0,\"red works only with positives\"),e(o.red&&o.red===u.red,\"red works only with red numbers\")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(v(o,o.umod(this.m)._forceRed(this)),o)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,u){this._verify2(o,u);var f=o.add(u);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,u){this._verify2(o,u);var f=o.iadd(u);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,u){this._verify2(o,u);var f=o.sub(u);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,u){this._verify2(o,u);var f=o.isub(u);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},G.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},G.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(e(u%2===1),u===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),l=0;!h.isZero()&&h.andln(1)===0;)l++,h.iushrn(1);e(!h.isZero());var w=new i(1).toRed(this),b=w.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(b)!==0;)a.redIAdd(b);for(var g=this.pow(a,h),M=this.pow(o,h.addn(1).iushrn(1)),R=this.pow(o,h),T=l;R.cmp(w)!==0;){for(var F=R,V=0;F.cmp(w)!==0;V++)F=F.redSqr();e(V<T);var X=this.pow(g,new i(1).iushln(T-V-1));M=M.redMul(X),g=X.redSqr(),R=R.redMul(g),T=V}return M},G.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},G.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var l=2;l<h.length;l++)h[l]=this.mul(h[l-1],o);var w=h[0],b=0,d=0,a=u.bitLength()%26;for(a===0&&(a=26),l=u.length-1;l>=0;l--){for(var g=u.words[l],M=a-1;M>=0;M--){var R=g>>M&1;if(w!==h[0]&&(w=this.sqr(w)),R===0&&b===0){d=0;continue}b<<=1,b|=R,d++,!(d!==f&&(l!==0||M!==0))&&(w=this.mul(w,h[b]),d=0,b=0)}a=26}return w},G.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},G.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new st(o)};function st(m){G.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(st,G),st.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},st.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},st.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(u),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=f.isub(h).iushrn(this.shift),w=l;return l.cmp(this.m)>=0?w=l.isub(this.m):l.cmpn(0)<0&&(w=l.iadd(this.m)),w._forceRed(this)},st.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var f=o.mul(u),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=f.isub(h).iushrn(this.shift),w=l;return l.cmp(this.m)>=0?w=l.isub(this.m):l.cmpn(0)<0&&(w=l.iadd(this.m)),w._forceRed(this)},st.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Ds>\"u\"||Ds,$u)});var Gu=he($s=>{\"use strict\";var gg=C(z());function ir(n,t,e){return t<=n&&n<=e}function ao(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError(\"Could not convert argument to dictionary\")}function Tl(n){for(var t=String(n),e=t.length,r=0,i=[];r<e;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===e-1)i.push(65533);else{var c=n.charCodeAt(r+1);if(56320<=c&&c<=57343){var p=s&1023,y=c&1023;i.push(65536+(p<<10)+y),r+=1}else i.push(65533)}r+=1}return i}function Pl(n){for(var t=\"\",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var no=-1;function Hs(n){this.tokens=[].slice.call(n)}Hs.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():no},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Un=-1;function Ws(n,t){if(n)throw TypeError(\"Decoder error\");return t||65533}var io=\"utf-8\";function oo(n,t){if(!(this instanceof oo))return new oo(n,t);if(n=n!==void 0?String(n).toLowerCase():io,n!==io)throw new Error(\"Encoding not supported. Only utf-8 is supported\");t=ao(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,\"encoding\",{value:\"utf-8\"}),Object.defineProperty(this,\"fatal\",{value:this._fatal}),Object.defineProperty(this,\"ignoreBOM\",{value:this._ignoreBOM})}oo.prototype={decode:function(t,e){var r;typeof t==\"object\"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t==\"object\"&&\"buffer\"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=ao(e),this._streaming||(this._decoder=new Cl({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var i=new Hs(r),s=[],c;!i.endOfStream()&&(c=this._decoder.handler(i,i.read()),c!==Un);)c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c));if(!this._streaming){do{if(c=this._decoder.handler(i,i.read()),c===Un)break;c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c))}while(!i.endOfStream());this._decoder=null}return s.length&&[\"utf-8\"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Pl(s)}};function so(n,t){if(!(this instanceof so))return new so(n,t);if(n=n!==void 0?String(n).toLowerCase():io,n!==io)throw new Error(\"Encoding not supported. Only utf-8 is supported\");t=ao(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,\"encoding\",{value:\"utf-8\"})}so.prototype={encode:function(t,e){t=t?String(t):\"\",e=ao(e),this._streaming||(this._encoder=new Ol(this._options)),this._streaming=!!e.stream;for(var r=[],i=new Hs(Tl(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Un);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Un;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function Cl(n){var t=n.fatal,e=0,r=0,i=0,s=128,c=191;this.handler=function(p,y){if(y===no&&i!==0)return i=0,Ws(t);if(y===no)return Un;if(i===0){if(ir(y,0,127))return y;if(ir(y,194,223))i=1,e=y-192;else if(ir(y,224,239))y===224&&(s=160),y===237&&(c=159),i=2,e=y-224;else if(ir(y,240,244))y===240&&(s=144),y===244&&(c=143),i=3,e=y-240;else return Ws(t);return e=e<<6*i,null}if(!ir(y,s,c))return e=i=r=0,s=128,c=191,p.prepend(y),Ws(t);if(s=128,c=191,r+=1,e+=y-128<<6*(i-r),r!==i)return null;var v=e;return e=i=r=0,v}}function Ol(n){var t=n.fatal;this.handler=function(e,r){if(r===no)return Un;if(ir(r,0,127))return r;var i,s;ir(r,128,2047)?(i=1,s=192):ir(r,2048,65535)?(i=2,s=224):ir(r,65536,1114111)&&(i=3,s=240);for(var c=[(r>>6*i)+s];i>0;){var p=r>>6*(i-1);c.push(128|p&63),i-=1}return c}}$s.TextEncoder=so;$s.TextDecoder=oo});var Xu=he(te=>{\"use strict\";var wg=C(z()),Ul=te&&te.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),Nl=te&&te.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,\"default\",{enumerable:!0,value:t})}:function(n,t){n.default=t}),je=te&&te.__decorate||function(n,t,e,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,c;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(c=n[p])&&(s=(i<3?c(s):i>3?c(t,e,s):c(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s},zl=te&&te.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!==\"default\"&&Object.hasOwnProperty.call(n,e)&&Ul(t,n,e);return Nl(t,n),t},Zu=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(te,\"__esModule\",{value:!0});te.deserializeUnchecked=te.deserialize=te.serialize=te.BinaryReader=te.BinaryWriter=te.BorshError=te.baseDecode=te.baseEncode=void 0;var Er=Zu(Vu()),ju=Zu(qs()),ql=zl(Gu()),Fl=typeof TextDecoder!=\"function\"?ql.TextDecoder:TextDecoder,Kl=new Fl(\"utf-8\",{fatal:!0});function Dl(n){return typeof n==\"string\"&&(n=Buffer.from(n,\"utf8\")),ju.default.encode(Buffer.from(n))}te.baseEncode=Dl;function Wl(n){return Buffer.from(ju.default.decode(n))}te.baseDecode=Wl;var Vs=1024,ge=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+\": \"+this.fieldPath.join(\".\")}};te.BorshError=ge;var uo=class{constructor(){this.buf=Buffer.alloc(Vs),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Vs)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(t).toArray(\"le\",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(t).toArray(\"le\",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(t).toArray(\"le\",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(t).toArray(\"le\",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Vs)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,\"utf8\");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}};te.BinaryWriter=uo;function Ye(n,t,e){let r=e.value;e.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){let c=s.code;if([\"ERR_BUFFER_OUT_OF_BOUNDS\",\"ERR_OUT_OF_RANGE\"].indexOf(c)>=0)throw new ge(\"Reached the end of buffer when deserializing\")}throw s}}}var _e=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Er.default(t,\"le\")}readU128(){let t=this.readBuffer(16);return new Er.default(t,\"le\")}readU256(){let t=this.readBuffer(32);return new Er.default(t,\"le\")}readU512(){let t=this.readBuffer(64);return new Er.default(t,\"le\")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ge(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return Kl.decode(e)}catch(r){throw new ge(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),r=Array();for(let i=0;i<e;++i)r.push(t());return r}};je([Ye],_e.prototype,\"readU8\",null);je([Ye],_e.prototype,\"readU16\",null);je([Ye],_e.prototype,\"readU32\",null);je([Ye],_e.prototype,\"readU64\",null);je([Ye],_e.prototype,\"readU128\",null);je([Ye],_e.prototype,\"readU256\",null);je([Ye],_e.prototype,\"readU512\",null);je([Ye],_e.prototype,\"readString\",null);je([Ye],_e.prototype,\"readFixedArray\",null);je([Ye],_e.prototype,\"readArray\",null);te.BinaryReader=_e;function Yu(n){return n.charAt(0).toUpperCase()+n.slice(1)}function yn(n,t,e,r,i){try{if(typeof r==\"string\")i[`write${Yu(r)}`](e);else if(r instanceof Array)if(typeof r[0]==\"number\"){if(e.length!==r[0])throw new ge(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);i.writeFixedArray(e)}else if(r.length===2&&typeof r[1]==\"number\"){if(e.length!==r[1])throw new ge(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let s=0;s<r[1];s++)yn(n,null,e[s],r[0],i)}else i.writeArray(e,s=>{yn(n,t,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case\"option\":{e==null?i.writeU8(0):(i.writeU8(1),yn(n,t,e,r.type,i));break}case\"map\":{i.writeU32(e.size),e.forEach((s,c)=>{yn(n,t,c,r.key,i),yn(n,t,s,r.value,i)});break}default:throw new ge(`FieldType ${r} unrecognized`)}else Ju(n,e,i)}catch(s){throw s instanceof ge&&s.addToFieldPath(t),s}}function Ju(n,t,e){if(typeof t.borshSerialize==\"function\"){t.borshSerialize(e);return}let r=n.get(t.constructor);if(!r)throw new ge(`Class ${t.constructor.name} is missing in schema`);if(r.kind===\"struct\")r.fields.map(([i,s])=>{yn(n,i,t[i],s,e)});else if(r.kind===\"enum\"){let i=t[r.field];for(let s=0;s<r.values.length;++s){let[c,p]=r.values[s];if(c===i){e.writeU8(s),yn(n,c,t[c],p,e);break}}}else throw new ge(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Hl(n,t,e=uo){let r=new e;return Ju(n,t,r),r.toArray()}te.serialize=Hl;function gn(n,t,e,r){try{if(typeof e==\"string\")return r[`read${Yu(e)}`]();if(e instanceof Array){if(typeof e[0]==\"number\")return r.readFixedArray(e[0]);if(typeof e[1]==\"number\"){let i=[];for(let s=0;s<e[1];s++)i.push(gn(n,null,e[0],r));return i}else return r.readArray(()=>gn(n,t,e[0],r))}if(e.kind===\"option\")return r.readU8()?gn(n,t,e.type,r):void 0;if(e.kind===\"map\"){let i=new Map,s=r.readU32();for(let c=0;c<s;c++){let p=gn(n,t,e.key,r),y=gn(n,t,e.value,r);i.set(p,y)}return i}return Gs(n,e,r)}catch(i){throw i instanceof ge&&i.addToFieldPath(t),i}}function Gs(n,t,e){if(typeof t.borshDeserialize==\"function\")return t.borshDeserialize(e);let r=n.get(t);if(!r)throw new ge(`Class ${t.name} is missing in schema`);if(r.kind===\"struct\"){let i={};for(let[s,c]of n.get(t).fields)i[s]=gn(n,s,c,e);return new t(i)}if(r.kind===\"enum\"){let i=e.readU8();if(i>=r.values.length)throw new ge(`Enum index: ${i} is out of range`);let[s,c]=r.values[i],p=gn(n,s,c,e);return new t({[s]:p})}throw new ge(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function $l(n,t,e,r=_e){let i=new r(e),s=Gs(n,t,i);if(i.offset<e.length)throw new ge(`Unexpected ${e.length-i.offset} bytes after deserialized data`);return s}te.deserialize=$l;function Vl(n,t,e,r=_e){let i=new r(e);return Gs(n,t,i)}te.deserializeUnchecked=Vl});var Js=he(L=>{\"use strict\";var vg=C(z());Object.defineProperty(L,\"__esModule\",{value:!0});L.s16=L.s8=L.nu64be=L.u48be=L.u40be=L.u32be=L.u24be=L.u16be=L.nu64=L.u48=L.u40=L.u32=L.u24=L.u16=L.u8=L.offset=L.greedy=L.Constant=L.UTF8=L.CString=L.Blob=L.Boolean=L.BitField=L.BitStructure=L.VariantLayout=L.Union=L.UnionLayoutDiscriminator=L.UnionDiscriminator=L.Structure=L.Sequence=L.DoubleBE=L.Double=L.FloatBE=L.Float=L.NearInt64BE=L.NearInt64=L.NearUInt64BE=L.NearUInt64=L.IntBE=L.Int=L.UIntBE=L.UInt=L.OffsetLayout=L.GreedyCount=L.ExternalLayout=L.bindConstructorLayout=L.nameWithProperty=L.Layout=L.uint8ArrayToBuffer=L.checkUint8Array=void 0;L.constant=L.utf8=L.cstr=L.blob=L.unionLayoutDiscriminator=L.union=L.seq=L.bits=L.struct=L.f64be=L.f64=L.f32be=L.f32=L.ns64be=L.s48be=L.s40be=L.s32be=L.s24be=L.s16be=L.ns64=L.s48=L.s40=L.s32=L.s24=void 0;var js=Ln();function qn(n){if(!(n instanceof Uint8Array))throw new TypeError(\"b must be a Uint8Array\")}L.checkUint8Array=qn;function Yt(n){return qn(n),js.Buffer.from(n.buffer,n.byteOffset,n.length)}L.uint8ArrayToBuffer=Yt;var Jt=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError(\"span must be an integer\");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError(\"indeterminate span\");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};L.Layout=Jt;function Ys(n,t){return t.property?n+\"[\"+t.property+\"]\":n}L.nameWithProperty=Ys;function Gl(n,t){if(typeof n!=\"function\")throw new TypeError(\"Class must be constructor\");if(Object.prototype.hasOwnProperty.call(n,\"layout_\"))throw new Error(\"Class is already bound to a layout\");if(!(t&&t instanceof Jt))throw new TypeError(\"layout must be a Layout\");if(Object.prototype.hasOwnProperty.call(t,\"boundConstructor_\"))throw new Error(\"layout is already bound to a constructor\");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,\"encode\",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,\"decode\",{value(e,r){return t.decode(e,r)},writable:!0})}L.bindConstructorLayout=Gl;var we=class extends Jt{isCount(){throw new Error(\"ExternalLayout is abstract\")}};L.ExternalLayout=we;var co=class extends we{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError(\"elementSpan must be a (positive) integer\");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){qn(t);let r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}};L.GreedyCount=co;var yi=class extends we{constructor(t,e=0,r){if(!(t instanceof Jt))throw new TypeError(\"layout must be a Layout\");if(!Number.isInteger(e))throw new TypeError(\"offset must be integer or undefined\");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Re||this.layout instanceof Te}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}};L.OffsetLayout=yi;var Re=class extends Jt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return Yt(t).readUIntLE(e,this.span)}encode(t,e,r=0){return Yt(e).writeUIntLE(t,r,this.span),this.span}};L.UInt=Re;var Te=class extends Jt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return Yt(t).readUIntBE(e,this.span)}encode(t,e,r=0){return Yt(e).writeUIntBE(t,r,this.span),this.span}};L.UIntBE=Te;var or=class extends Jt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return Yt(t).readIntLE(e,this.span)}encode(t,e,r=0){return Yt(e).writeIntLE(t,r,this.span),this.span}};L.Int=or;var _r=class extends Jt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError(\"span must not exceed 6 bytes\")}decode(t,e=0){return Yt(t).readIntBE(e,this.span)}encode(t,e,r=0){return Yt(e).writeIntBE(t,r,this.span),this.span}};L.IntBE=_r;var Zs=Math.pow(2,32);function Io(n){let t=Math.floor(n/Zs),e=n-t*Zs;return{hi32:t,lo32:e}}function Ao(n,t){return n*Zs+t}var fo=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){let r=Yt(t),i=r.readUInt32LE(e),s=r.readUInt32LE(e+4);return Ao(s,i)}encode(t,e,r=0){let i=Io(t),s=Yt(e);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}};L.NearUInt64=fo;var ho=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){let r=Yt(t),i=r.readUInt32BE(e),s=r.readUInt32BE(e+4);return Ao(i,s)}encode(t,e,r=0){let i=Io(t),s=Yt(e);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};L.NearUInt64BE=ho;var lo=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){let r=Yt(t),i=r.readUInt32LE(e),s=r.readInt32LE(e+4);return Ao(s,i)}encode(t,e,r=0){let i=Io(t),s=Yt(e);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}};L.NearInt64=lo;var po=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){let r=Yt(t),i=r.readInt32BE(e),s=r.readUInt32BE(e+4);return Ao(i,s)}encode(t,e,r=0){let i=Io(t),s=Yt(e);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};L.NearInt64BE=po;var yo=class extends Jt{constructor(t){super(4,t)}decode(t,e=0){return Yt(t).readFloatLE(e)}encode(t,e,r=0){return Yt(e).writeFloatLE(t,r),4}};L.Float=yo;var go=class extends Jt{constructor(t){super(4,t)}decode(t,e=0){return Yt(t).readFloatBE(e)}encode(t,e,r=0){return Yt(e).writeFloatBE(t,r),4}};L.FloatBE=go;var mo=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){return Yt(t).readDoubleLE(e)}encode(t,e,r=0){return Yt(e).writeDoubleLE(t,r),8}};L.Double=mo;var wo=class extends Jt{constructor(t){super(8,t)}decode(t,e=0){return Yt(t).readDoubleBE(e)}encode(t,e,r=0){return Yt(e).writeDoubleBE(t,r),8}};L.DoubleBE=wo;var bo=class extends Jt{constructor(t,e,r){if(!(t instanceof Jt))throw new TypeError(\"elementLayout must be a Layout\");if(!(e instanceof we&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError(\"count must be non-negative integer or an unsigned integer ExternalLayout\");let i=-1;!(e instanceof we)&&0<t.span&&(i=e*t.span),super(i,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof we&&(i=i.decode(t,e)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(t,e+r),++s}return r}decode(t,e=0){let r=[],i=0,s=this.count;for(s instanceof we&&(s=s.decode(t,e));i<s;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return r}encode(t,e,r=0){let i=this.elementLayout,s=t.reduce((c,p)=>c+i.encode(p,e,r+c),0);return this.count instanceof we&&this.count.encode(t.length,e,r),s}};L.Sequence=bo;var vo=class extends Jt{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((s,c)=>s&&c instanceof Jt,!0)))throw new TypeError(\"fields must be array of Layout instances\");typeof e==\"boolean\"&&r===void 0&&(r=e,e=void 0);for(let s of t)if(0>s.span&&s.property===void 0)throw new Error(\"fields cannot contain unnamed variable-length layout\");let i=-1;try{i=t.reduce((s,c)=>s+c.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{let c=s.getSpan(t,e);return e+=c,i+c},0)}catch{throw new RangeError(\"indeterminate span\")}return r}decode(t,e=0){qn(t);let r=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){let i=r,s=0,c=0;for(let p of this.fields){let y=p.span;if(c=0<y?y:0,p.property!==void 0){let v=t[p.property];v!==void 0&&(c=p.encode(v,e,r),0>y&&(y=p.getSpan(e,r)))}s=r,r+=y}return s+c-i}fromArray(t){let e=this.makeDestinationObject();for(let r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");let e=0;for(let r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}};L.Structure=vo;var gi=class{constructor(t){this.property=t}decode(t,e){throw new Error(\"UnionDiscriminator is abstract\")}encode(t,e,r){throw new Error(\"UnionDiscriminator is abstract\")}};L.UnionDiscriminator=gi;var zn=class extends gi{constructor(t,e){if(!(t instanceof we&&t.isCount()))throw new TypeError(\"layout must be an unsigned integer ExternalLayout\");super(e||t.property||\"variant\"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}};L.UnionLayoutDiscriminator=zn;var mi=class extends Jt{constructor(t,e,r){let i;if(t instanceof Re||t instanceof Te)i=new zn(new yi(t));else if(t instanceof we&&t.isCount())i=new zn(t);else if(t instanceof gi)i=t;else throw new TypeError(\"discr must be a UnionDiscriminator or an unsigned integer layout\");if(e===void 0&&(e=null),!(e===null||e instanceof Jt))throw new TypeError(\"defaultLayout must be null or a Layout\");if(e!==null){if(0>e.span)throw new Error(\"defaultLayout must have constant span\");e.property===void 0&&(e=e.replicate(\"content\"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof Re||t instanceof Te)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Re||t instanceof Te,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(p){return c(p)},this.configGetSourceVariant=function(p){c=p.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let r=this.getVariant(t,e);if(!r)throw new Error(\"unable to determine span for unrecognized variant\");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error(\"unable to infer src variant\")}decode(t,e=0){let r,i=this.discriminator,s=i.decode(t,e),c=this.registry[s];if(c===void 0){let p=this.defaultLayout,y=0;this.usesPrefixDiscriminator&&(y=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[p.property]=p.decode(t,e+y)}else r=c.decode(t,e);return r}encode(t,e,r=0){let i=this.getSourceVariant(t);if(i===void 0){let s=this.discriminator,c=this.defaultLayout,p=0;return this.usesPrefixDiscriminator&&(p=s.layout.span),s.encode(t[s.property],e,r),p+c.encode(t[c.property],e,r+p)}return i.encode(t,e,r)}addVariant(t,e,r){let i=new xo(this,t,e,r);return this.registry[t]=i,i}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}};L.Union=mi;var xo=class extends Jt{constructor(t,e,r,i){if(!(t instanceof mi))throw new TypeError(\"union must be a Union\");if(!Number.isInteger(e)||0>e)throw new TypeError(\"variant must be a (non-negative) integer\");if(typeof r==\"string\"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Jt))throw new TypeError(\"layout must be a Layout\");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error(\"variant span exceeds span of containing union\");if(typeof i!=\"string\")throw new TypeError(\"variant must have a String property\")}let s=t.span;0>t.span&&(s=r?r.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+r)),r+i}decode(t,e=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error(\"variant mismatch\");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError(\"variant lacks property \"+this.property);this.union.discriminator.encode(this.variant,e,r);let s=i;if(this.layout&&(this.layout.encode(t[this.property],e,r+i),s+=this.layout.getSpan(e,r+i),0<=this.union.span&&s>this.union.span))throw new Error(\"encoded variant overruns containing union\");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};L.VariantLayout=xo;function Nn(n){return 0>n&&(n+=4294967296),n}var wi=class extends Jt{constructor(t,e,r){if(!(t instanceof Re||t instanceof Te))throw new TypeError(\"word must be a UInt or UIntBE layout\");if(typeof e==\"string\"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError(\"word cannot exceed 32 bits\");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Nn(s),this},this._packedGetValue=function(){return i}}decode(t,e=0){let r=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(t));return r}encode(t,e,r=0){let i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let c=t[s.property];c!==void 0&&s.encode(c)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){let r=new bi(this,t,e);return this.fields.push(r),r}addBoolean(t){let e=new ko(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!=\"string\")throw new TypeError(\"property must be string\");for(let e of this.fields)if(e.property===t)return e}};L.BitStructure=wi;var bi=class{constructor(t,e,r){if(!(t instanceof wi))throw new TypeError(\"container must be a BitStructure\");if(!Number.isInteger(e)||0>=e)throw new TypeError(\"bits must be positive integer\");let i=8*t.span,s=t.fields.reduce((c,p)=>c+p.bits,0);if(e+s>i)throw new Error(\"bits too long for span remainder (\"+(i-s)+\" of \"+i+\" remain)\");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-e),this.wordMask=Nn(this.valueMask<<this.start),this.property=r}decode(t,e){let r=this.container._packedGetValue();return Nn(r&this.wordMask)>>>this.start}encode(t){if(typeof t!=\"number\"||!Number.isInteger(t)||t!==Nn(t&this.valueMask))throw new TypeError(Ys(\"BitField.encode\",this)+\" value must be integer not exceeding \"+this.valueMask);let e=this.container._packedGetValue(),r=Nn(t<<this.start);this.container._packedSetValue(Nn(e&~this.wordMask)|r)}};L.BitField=bi;var ko=class extends bi{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t==\"boolean\"&&(t=+t),super.encode(t)}};L.Boolean=ko;var So=class extends Jt{constructor(t,e){if(!(t instanceof we&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError(\"length must be positive integer or an unsigned integer ExternalLayout\");let r=-1;t instanceof we||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),Yt(t).slice(e,e+r)}encode(t,e,r){let i=this.length;if(this.length instanceof we&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(Ys(\"Blob.encode\",this)+\" requires (length \"+i+\") Uint8Array as src\");if(r+i>e.length)throw new RangeError(\"encoding overruns Uint8Array\");let s=Yt(t);return Yt(e).write(s.toString(\"hex\"),r,i,\"hex\"),this.length instanceof we&&this.length.encode(i,e,r),i}};L.Blob=So;var Bo=class extends Jt{constructor(t){super(-1,t)}getSpan(t,e=0){qn(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){let r=this.getSpan(t,e);return Yt(t).slice(e,e+r-1).toString(\"utf-8\")}encode(t,e,r=0){typeof t!=\"string\"&&(t=String(t));let i=js.Buffer.from(t,\"utf8\"),s=i.length;if(r+s>e.length)throw new RangeError(\"encoding overruns Buffer\");let c=Yt(e);return i.copy(c,r),c[r+s]=0,s+1}};L.CString=Bo;var Eo=class extends Jt{constructor(t,e){if(typeof t==\"string\"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError(\"maxSpan must be an integer\");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return qn(t),t.length-e}decode(t,e=0){let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError(\"text length exceeds maxSpan\");return Yt(t).slice(e,e+r).toString(\"utf-8\")}encode(t,e,r=0){typeof t!=\"string\"&&(t=String(t));let i=js.Buffer.from(t,\"utf8\"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError(\"text length exceeds maxSpan\");if(r+s>e.length)throw new RangeError(\"encoding overruns Buffer\");return i.copy(Yt(e),r),s}};L.UTF8=Eo;var _o=class extends Jt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}};L.Constant=_o;L.greedy=(n,t)=>new co(n,t);L.offset=(n,t,e)=>new yi(n,t,e);L.u8=n=>new Re(1,n);L.u16=n=>new Re(2,n);L.u24=n=>new Re(3,n);L.u32=n=>new Re(4,n);L.u40=n=>new Re(5,n);L.u48=n=>new Re(6,n);L.nu64=n=>new fo(n);L.u16be=n=>new Te(2,n);L.u24be=n=>new Te(3,n);L.u32be=n=>new Te(4,n);L.u40be=n=>new Te(5,n);L.u48be=n=>new Te(6,n);L.nu64be=n=>new ho(n);L.s8=n=>new or(1,n);L.s16=n=>new or(2,n);L.s24=n=>new or(3,n);L.s32=n=>new or(4,n);L.s40=n=>new or(5,n);L.s48=n=>new or(6,n);L.ns64=n=>new lo(n);L.s16be=n=>new _r(2,n);L.s24be=n=>new _r(3,n);L.s32be=n=>new _r(4,n);L.s40be=n=>new _r(5,n);L.s48be=n=>new _r(6,n);L.ns64be=n=>new po(n);L.f32=n=>new yo(n);L.f32be=n=>new go(n);L.f64=n=>new mo(n);L.f64be=n=>new wo(n);L.struct=(n,t,e)=>new vo(n,t,e);L.bits=(n,t,e)=>new wi(n,t,e);L.seq=(n,t,e)=>new bo(n,t,e);L.union=(n,t,e)=>new mi(n,t,e);L.unionLayoutDiscriminator=(n,t)=>new zn(n,t);L.blob=(n,t)=>new So(n,t);L.cstr=n=>new Bo(n);L.utf8=(n,t)=>new Eo(n,t);L.constant=(n,t)=>new _o(n,t)});var Qu=he(Fn=>{\"use strict\";var kg=C(z());Object.defineProperty(Fn,\"__esModule\",{value:!0});var Mo;function Zl(n){{let t=Buffer.from(n);t.reverse();let e=t.toString(\"hex\");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Mo.toBigInt(n,!1)}Fn.toBigIntLE=Zl;function jl(n){{let t=n.toString(\"hex\");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Mo.toBigInt(n,!0)}Fn.toBigIntBE=jl;function Yl(n,t){{let e=n.toString(16),r=Buffer.from(e.padStart(t*2,\"0\").slice(0,t*2),\"hex\");return r.reverse(),r}return Mo.fromBigInt(n,Buffer.allocUnsafe(t),!1)}Fn.toBufferLE=Yl;function Jl(n,t){{let e=n.toString(16);return Buffer.from(e.padStart(t*2,\"0\").slice(0,t*2),\"hex\")}return Mo.fromBigInt(n,Buffer.allocUnsafe(t),!0)}Fn.toBufferBE=Jl});function Xl(n){return vi(n)&&typeof n[Symbol.iterator]==\"function\"}function vi(n){return typeof n==\"object\"&&n!=null}function Lo(n){return vi(n)&&!Array.isArray(n)}function De(n){return typeof n==\"symbol\"?n.toString():typeof n==\"string\"?JSON.stringify(n):`${n}`}function Ql(n){let{done:t,value:e}=n.next();return t?void 0:e}function t0(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n==\"string\"&&(n={message:n});let{path:i,branch:s}=t,{type:c}=e,{refinement:p,message:y=`Expected a value of type \\`${c}\\`${p?` with refinement \\`${p}\\``:\"\"}, but received: \\`${De(r)}\\``}=n;return{value:r,type:c,refinement:p,key:i[i.length-1],path:i,branch:s,...n,message:y}}function*tc(n,t,e,r){Xl(n)||(n=[n]);for(let i of n){let s=t0(i,t,e,r);s&&(yield s)}}function*Qs(n,t,e={}){let{path:r=[],branch:i=[n],coerce:s=!1,mask:c=!1}=e,p={path:r,branch:i,mask:c};s&&(n=t.coercer(n,p));let y=\"valid\";for(let v of t.validator(n,p))v.explanation=e.message,y=\"not_valid\",yield[v,void 0];for(let[v,x,k]of t.entries(n,p)){let _=Qs(x,k,{path:v===void 0?r:[...r,v],branch:v===void 0?i:[...i,x],coerce:s,mask:c,message:e.message});for(let B of _)B[0]?(y=B[0].refinement!=null?\"not_refined\":\"not_valid\",yield[B[0],void 0]):s&&(x=B[1],v===void 0?n=x:n instanceof Map?n.set(v,x):n instanceof Set?n.add(x):vi(n)&&(x!==void 0||v in n)&&(n[v]=x))}if(y!==\"not_valid\")for(let v of t.refiner(n,p))v.explanation=e.message,y=\"not_refined\",yield[v,void 0];y===\"valid\"&&(yield[void 0,n])}function ec(n,t,e){let r=xi(n,t,{message:e});if(r[0])throw r[0]}function $(n,t,e){let r=xi(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function e0(n,t,e){let r=xi(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function rc(n,t){return!xi(n,t)[0]}function xi(n,t,e={}){let r=Qs(n,t,e),i=Ql(r);return i[0]?[new Xs(i[0],function*(){for(let c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function mn(n,t){return new Ne({type:n,schema:null,validator:t})}function nc(){return mn(\"any\",()=>!0)}function Z(n){return new Ne({type:\"array\",schema:n,*entries(t){if(n&&Array.isArray(t))for(let[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${De(t)}`}})}function We(){return mn(\"boolean\",n=>typeof n==\"boolean\")}function Ro(n){return mn(\"instance\",t=>t instanceof n||`Expected a \\`${n.name}\\` instance, but received: ${De(t)}`)}function se(n){let t=De(n),e=typeof n;return new Ne({type:\"literal\",schema:e===\"string\"||e===\"number\"||e===\"boolean\"?n:null,validator(r){return r===n||`Expected the literal \\`${t}\\`, but received: ${De(r)}`}})}function r0(){return mn(\"never\",()=>!1)}function j(n){return new Ne({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function A(){return mn(\"number\",n=>typeof n==\"number\"&&!isNaN(n)||`Expected a number, but received: ${De(n)}`)}function it(n){return new Ne({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function ta(n,t){return new Ne({type:\"record\",schema:null,*entries(e){if(vi(e))for(let r in e){let i=e[r];yield[r,r,n],yield[r,i,t]}},validator(e){return Lo(e)||`Expected an object, but received: ${De(e)}`},coercer(e){return Lo(e)?{...e}:e}})}function H(){return mn(\"string\",n=>typeof n==\"string\"||`Expected a string, but received: ${De(n)}`)}function To(n){let t=r0();return new Ne({type:\"tuple\",schema:null,*entries(e){if(Array.isArray(e)){let r=Math.max(n.length,e.length);for(let i=0;i<r;i++)yield[i,e[i],n[i]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${De(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function q(n){let t=Object.keys(n);return new Ne({type:\"type\",schema:n,*entries(e){if(vi(e))for(let r of t)yield[r,e[r],n[r]]},validator(e){return Lo(e)||`Expected an object, but received: ${De(e)}`},coercer(e){return Lo(e)?{...e}:e}})}function be(n){let t=n.map(e=>e.type).join(\" | \");return new Ne({type:\"union\",schema:null,coercer(e,r){for(let i of n){let[s,c]=i.validate(e,{coerce:!0,mask:r.mask});if(!s)return c}return e},validator(e,r){let i=[];for(let s of n){let[...c]=Qs(e,s,r),[p]=c;if(p[0])for(let[y]of c)y&&i.push(y);else return[]}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${De(e)}`,...i]}})}function wn(){return mn(\"unknown\",()=>!0)}function Kn(n,t,e){return new Ne({...n,coercer:(r,i)=>rc(r,t)?n.coercer(e(r,i),i):n.coercer(r,i)})}var Bg,Xs,Ne,ic=vt(()=>{Bg=C(z(),1),Xs=class extends TypeError{constructor(t,e){let r,{message:i,explanation:s,...c}=t,{path:p}=t,y=p.length===0?i:`At path: ${p.join(\".\")} -- ${i}`;super(s??y),s!=null&&(this.cause=y),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}};Ne=class{constructor(t){let{type:e,schema:r,validator:i,refiner:s,coercer:c=y=>y,entries:p=function*(){}}=t;this.type=e,this.schema=r,this.entries=p,this.coercer=c,i?this.validator=(y,v)=>{let x=i(y,v);return tc(x,v,this,y)}:this.validator=()=>[],s?this.refiner=(y,v)=>{let x=s(y,v);return tc(x,v,this,y)}:this.refiner=()=>[]}assert(t,e){return ec(t,this,e)}create(t,e){return $(t,this,e)}is(t){return rc(t,this)}mask(t,e){return e0(t,this,e)}validate(t,e={}){return xi(t,this,e)}}});function ki(){if(!Po&&(Po=typeof crypto<\"u\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<\"u\"&&typeof msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto),!Po))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return Po(n0)}var _g,Po,n0,ea=vt(()=>{_g=C(z()),n0=new Uint8Array(16)});var Ag,oc,sc=vt(()=>{Ag=C(z()),oc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function i0(n){return typeof n==\"string\"&&oc.test(n)}var Rg,Ir,Si=vt(()=>{Rg=C(z());sc();Ir=i0});function o0(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(me[n[t+0]]+me[n[t+1]]+me[n[t+2]]+me[n[t+3]]+\"-\"+me[n[t+4]]+me[n[t+5]]+\"-\"+me[n[t+6]]+me[n[t+7]]+\"-\"+me[n[t+8]]+me[n[t+9]]+\"-\"+me[n[t+10]]+me[n[t+11]]+me[n[t+12]]+me[n[t+13]]+me[n[t+14]]+me[n[t+15]]).toLowerCase();if(!Ir(e))throw TypeError(\"Stringified UUID is invalid\");return e}var Cg,me,Co,Ar,Bi=vt(()=>{Cg=C(z());Si();me=[];for(Co=0;Co<256;++Co)me.push((Co+256).toString(16).substr(1));Ar=o0});function s0(n,t,e){var r=t&&e||0,i=t||new Array(16);n=n||{};var s=n.node||ac,c=n.clockseq!==void 0?n.clockseq:ra;if(s==null||c==null){var p=n.random||(n.rng||ki)();s==null&&(s=ac=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),c==null&&(c=ra=(p[6]<<8|p[7])&16383)}var y=n.msecs!==void 0?n.msecs:Date.now(),v=n.nsecs!==void 0?n.nsecs:ia+1,x=y-na+(v-ia)/1e4;if(x<0&&n.clockseq===void 0&&(c=c+1&16383),(x<0||y>na)&&n.nsecs===void 0&&(v=0),v>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");na=y,ia=v,ra=c,y+=122192928e5;var k=((y&268435455)*1e4+v)%4294967296;i[r++]=k>>>24&255,i[r++]=k>>>16&255,i[r++]=k>>>8&255,i[r++]=k&255;var _=y/4294967296*1e4&268435455;i[r++]=_>>>8&255,i[r++]=_&255,i[r++]=_>>>24&15|16,i[r++]=_>>>16&255,i[r++]=c>>>8|128,i[r++]=c&255;for(var B=0;B<6;++B)i[r+B]=s[B];return t||Ar(i)}var zg,ac,ra,na,ia,uc,cc=vt(()=>{zg=C(z());ea();Bi();na=0,ia=0;uc=s0});function a0(n){if(!Ir(n))throw TypeError(\"Invalid UUID\");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Kg,Oo,oa=vt(()=>{Kg=C(z());Si();Oo=a0});function u0(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}function Uo(n,t,e){function r(i,s,c,p){if(typeof i==\"string\"&&(i=u0(i)),typeof s==\"string\"&&(s=Oo(s)),s.length!==16)throw TypeError(\"Namespace must be array-like (16 iterable integer values, 0-255)\");var y=new Uint8Array(16+i.length);if(y.set(s),y.set(i,s.length),y=e(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,c){p=p||0;for(var v=0;v<16;++v)c[p+v]=y[v];return c}return Ar(y)}try{r.name=n}catch{}return r.DNS=c0,r.URL=f0,r}var $g,c0,f0,sa=vt(()=>{$g=C(z());Bi();oa();c0=\"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",f0=\"6ba7b811-9dad-11d1-80b4-00c04fd430c8\"});function h0(n){if(typeof n==\"string\"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return l0(d0(p0(n),n.length*8))}function l0(n){for(var t=[],e=n.length*32,r=\"0123456789abcdef\",i=0;i<e;i+=8){var s=n[i>>5]>>>i%32&255,c=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);t.push(c)}return t}function fc(n){return(n+64>>>9<<4)+14+1}function d0(n,t){n[t>>5]|=128<<t%32,n[fc(t)-1]=t;for(var e=1732584193,r=-271733879,i=-1732584194,s=271733878,c=0;c<n.length;c+=16){var p=e,y=r,v=i,x=s;e=ve(e,r,i,s,n[c],7,-680876936),s=ve(s,e,r,i,n[c+1],12,-389564586),i=ve(i,s,e,r,n[c+2],17,606105819),r=ve(r,i,s,e,n[c+3],22,-1044525330),e=ve(e,r,i,s,n[c+4],7,-176418897),s=ve(s,e,r,i,n[c+5],12,1200080426),i=ve(i,s,e,r,n[c+6],17,-1473231341),r=ve(r,i,s,e,n[c+7],22,-45705983),e=ve(e,r,i,s,n[c+8],7,1770035416),s=ve(s,e,r,i,n[c+9],12,-1958414417),i=ve(i,s,e,r,n[c+10],17,-42063),r=ve(r,i,s,e,n[c+11],22,-1990404162),e=ve(e,r,i,s,n[c+12],7,1804603682),s=ve(s,e,r,i,n[c+13],12,-40341101),i=ve(i,s,e,r,n[c+14],17,-1502002290),r=ve(r,i,s,e,n[c+15],22,1236535329),e=xe(e,r,i,s,n[c+1],5,-165796510),s=xe(s,e,r,i,n[c+6],9,-1069501632),i=xe(i,s,e,r,n[c+11],14,643717713),r=xe(r,i,s,e,n[c],20,-373897302),e=xe(e,r,i,s,n[c+5],5,-701558691),s=xe(s,e,r,i,n[c+10],9,38016083),i=xe(i,s,e,r,n[c+15],14,-660478335),r=xe(r,i,s,e,n[c+4],20,-405537848),e=xe(e,r,i,s,n[c+9],5,568446438),s=xe(s,e,r,i,n[c+14],9,-1019803690),i=xe(i,s,e,r,n[c+3],14,-187363961),r=xe(r,i,s,e,n[c+8],20,1163531501),e=xe(e,r,i,s,n[c+13],5,-1444681467),s=xe(s,e,r,i,n[c+2],9,-51403784),i=xe(i,s,e,r,n[c+7],14,1735328473),r=xe(r,i,s,e,n[c+12],20,-1926607734),e=ke(e,r,i,s,n[c+5],4,-378558),s=ke(s,e,r,i,n[c+8],11,-2022574463),i=ke(i,s,e,r,n[c+11],16,1839030562),r=ke(r,i,s,e,n[c+14],23,-35309556),e=ke(e,r,i,s,n[c+1],4,-1530992060),s=ke(s,e,r,i,n[c+4],11,1272893353),i=ke(i,s,e,r,n[c+7],16,-155497632),r=ke(r,i,s,e,n[c+10],23,-1094730640),e=ke(e,r,i,s,n[c+13],4,681279174),s=ke(s,e,r,i,n[c],11,-358537222),i=ke(i,s,e,r,n[c+3],16,-722521979),r=ke(r,i,s,e,n[c+6],23,76029189),e=ke(e,r,i,s,n[c+9],4,-640364487),s=ke(s,e,r,i,n[c+12],11,-421815835),i=ke(i,s,e,r,n[c+15],16,530742520),r=ke(r,i,s,e,n[c+2],23,-995338651),e=Se(e,r,i,s,n[c],6,-198630844),s=Se(s,e,r,i,n[c+7],10,1126891415),i=Se(i,s,e,r,n[c+14],15,-1416354905),r=Se(r,i,s,e,n[c+5],21,-57434055),e=Se(e,r,i,s,n[c+12],6,1700485571),s=Se(s,e,r,i,n[c+3],10,-1894986606),i=Se(i,s,e,r,n[c+10],15,-1051523),r=Se(r,i,s,e,n[c+1],21,-2054922799),e=Se(e,r,i,s,n[c+8],6,1873313359),s=Se(s,e,r,i,n[c+15],10,-30611744),i=Se(i,s,e,r,n[c+6],15,-1560198380),r=Se(r,i,s,e,n[c+13],21,1309151649),e=Se(e,r,i,s,n[c+4],6,-145523070),s=Se(s,e,r,i,n[c+11],10,-1120210379),i=Se(i,s,e,r,n[c+2],15,718787259),r=Se(r,i,s,e,n[c+9],21,-343485551),e=Mr(e,p),r=Mr(r,y),i=Mr(i,v),s=Mr(s,x)}return[e,r,i,s]}function p0(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(fc(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function Mr(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function y0(n,t){return n<<t|n>>>32-t}function No(n,t,e,r,i,s){return Mr(y0(Mr(Mr(t,n),Mr(r,s)),i),e)}function ve(n,t,e,r,i,s,c){return No(t&e|~t&r,n,t,i,s,c)}function xe(n,t,e,r,i,s,c){return No(t&r|e&~r,n,t,i,s,c)}function ke(n,t,e,r,i,s,c){return No(t^e^r,n,t,i,s,c)}function Se(n,t,e,r,i,s,c){return No(e^(t|~r),n,t,i,s,c)}var Gg,hc,lc=vt(()=>{Gg=C(z());hc=h0});var Jg,g0,dc,pc=vt(()=>{Jg=C(z());sa();lc();g0=Uo(\"v3\",48,hc),dc=g0});function m0(n,t,e){n=n||{};var r=n.random||(n.rng||ki)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return Ar(r)}var em,yc,gc=vt(()=>{em=C(z());ea();Bi();yc=m0});function w0(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function aa(n,t){return n<<t|n>>>32-t}function b0(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n==\"string\"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var s=n.length/4+2,c=Math.ceil(s/16),p=new Array(c),y=0;y<c;++y){for(var v=new Uint32Array(16),x=0;x<16;++x)v[x]=n[y*64+x*4]<<24|n[y*64+x*4+1]<<16|n[y*64+x*4+2]<<8|n[y*64+x*4+3];p[y]=v}p[c-1][14]=(n.length-1)*8/Math.pow(2,32),p[c-1][14]=Math.floor(p[c-1][14]),p[c-1][15]=(n.length-1)*8&4294967295;for(var k=0;k<c;++k){for(var _=new Uint32Array(80),B=0;B<16;++B)_[B]=p[k][B];for(var P=16;P<80;++P)_[P]=aa(_[P-3]^_[P-8]^_[P-14]^_[P-16],1);for(var I=e[0],E=e[1],O=e[2],K=e[3],N=e[4],D=0;D<80;++D){var et=Math.floor(D/20),W=aa(I,5)+w0(et,E,O,K)+N+t[et]+_[D]>>>0;N=K,K=O,O=aa(E,30)>>>0,E=I,I=W}e[0]=e[0]+I>>>0,e[1]=e[1]+E>>>0,e[2]=e[2]+O>>>0,e[3]=e[3]+K>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var nm,mc,wc=vt(()=>{nm=C(z());mc=b0});var am,v0,bc,vc=vt(()=>{am=C(z());sa();wc();v0=Uo(\"v5\",80,mc),bc=v0});var cm,xc,kc=vt(()=>{cm=C(z()),xc=\"00000000-0000-0000-0000-000000000000\"});function x0(n){if(!Ir(n))throw TypeError(\"Invalid UUID\");return parseInt(n.substr(14,1),16)}var lm,Sc,Bc=vt(()=>{lm=C(z());Si();Sc=x0});var ua={};Na(ua,{NIL:()=>xc,parse:()=>Oo,stringify:()=>Ar,v1:()=>uc,v3:()=>dc,v4:()=>yc,v5:()=>bc,validate:()=>Ir,version:()=>Sc});var dm,ca=vt(()=>{dm=C(z());cc();pc();gc();vc();kc();Bc();Si();Bi();oa()});var _c=he((Sm,Ec)=>{\"use strict\";var Bm=C(z()),k0=(ca(),qa(ua)).v4,S0=function(n,t,e,r){if(typeof n!=\"string\")throw new TypeError(n+\" must be a string\");r=r||{};let i=typeof r.version==\"number\"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+\" must be 1 or 2\");let s={method:n};if(i===2&&(s.jsonrpc=\"2.0\"),t){if(typeof t!=\"object\"&&!Array.isArray(t))throw new TypeError(t+\" must be an object, array or omitted\");s.params=t}if(typeof e>\"u\"){let c=typeof r.generator==\"function\"?r.generator:function(){return k0()};s.id=c(s,r)}else i===2&&e===null?r.notificationIdNull&&(s.id=null):s.id=e;return s};Ec.exports=S0});var Ac=he((Em,Ic)=>{\"use strict\";var _m=C(z()),B0=(ca(),qa(ua)).v4,E0=_c(),Ei=function(n,t){if(!(this instanceof Ei))return new Ei(n,t);t||(t={}),this.options={reviver:typeof t.reviver<\"u\"?t.reviver:null,replacer:typeof t.replacer<\"u\"?t.replacer:null,generator:typeof t.generator<\"u\"?t.generator:function(){return B0()},version:typeof t.version<\"u\"?t.version:2,notificationIdNull:typeof t.notificationIdNull==\"boolean\"?t.notificationIdNull:!1},this.callServer=n};Ic.exports=Ei;Ei.prototype.request=function(n,t,e,r){let i=this,s=null,c=Array.isArray(n)&&typeof t==\"function\";if(this.options.version===1&&c)throw new TypeError(\"JSON-RPC 1.0 does not support batching\");if(c||!c&&n&&typeof n==\"object\"&&typeof t==\"function\")r=t,s=n;else{typeof e==\"function\"&&(r=e,e=void 0);let v=typeof r==\"function\";try{s=E0(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(x){if(v)return r(x);throw x}if(!v)return s}let y;try{y=JSON.stringify(s,this.options.replacer)}catch(v){return r(v)}return this.callServer(y,function(v,x){i._parseResponse(v,x,r)}),s};Ei.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(i){return e(i)}if(e.length===3)if(Array.isArray(r)){let i=function(c){return typeof c.error<\"u\"},s=function(c){return!i(c)};return e(null,r.filter(i),r.filter(s))}else return e(null,r.error,r.result);e(null,r)}});var Lc=he((Im,fa)=>{\"use strict\";var Am=C(z()),_0=Object.prototype.hasOwnProperty,Ie=\"~\";function _i(){}Object.create&&(_i.prototype=Object.create(null),new _i().__proto__||(Ie=!1));function I0(n,t,e){this.fn=n,this.context=t,this.once=e||!1}function Mc(n,t,e,r,i){if(typeof e!=\"function\")throw new TypeError(\"The listener must be a function\");var s=new I0(e,r||n,i),c=Ie?Ie+t:t;return n._events[c]?n._events[c].fn?n._events[c]=[n._events[c],s]:n._events[c].push(s):(n._events[c]=s,n._eventsCount++),n}function zo(n,t){--n._eventsCount===0?n._events=new _i:delete n._events[t]}function Be(){this._events=new _i,this._eventsCount=0}Be.prototype.eventNames=function(){var t=[],e,r;if(this._eventsCount===0)return t;for(r in e=this._events)_0.call(e,r)&&t.push(Ie?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Be.prototype.listeners=function(t){var e=Ie?Ie+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,c=new Array(s);i<s;i++)c[i]=r[i].fn;return c};Be.prototype.listenerCount=function(t){var e=Ie?Ie+t:t,r=this._events[e];return r?r.fn?1:r.length:0};Be.prototype.emit=function(t,e,r,i,s,c){var p=Ie?Ie+t:t;if(!this._events[p])return!1;var y=this._events[p],v=arguments.length,x,k;if(y.fn){switch(y.once&&this.removeListener(t,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,e),!0;case 3:return y.fn.call(y.context,e,r),!0;case 4:return y.fn.call(y.context,e,r,i),!0;case 5:return y.fn.call(y.context,e,r,i,s),!0;case 6:return y.fn.call(y.context,e,r,i,s,c),!0}for(k=1,x=new Array(v-1);k<v;k++)x[k-1]=arguments[k];y.fn.apply(y.context,x)}else{var _=y.length,B;for(k=0;k<_;k++)switch(y[k].once&&this.removeListener(t,y[k].fn,void 0,!0),v){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,e);break;case 3:y[k].fn.call(y[k].context,e,r);break;case 4:y[k].fn.call(y[k].context,e,r,i);break;default:if(!x)for(B=1,x=new Array(v-1);B<v;B++)x[B-1]=arguments[B];y[k].fn.apply(y[k].context,x)}}return!0};Be.prototype.on=function(t,e,r){return Mc(this,t,e,r,!1)};Be.prototype.once=function(t,e,r){return Mc(this,t,e,r,!0)};Be.prototype.removeListener=function(t,e,r,i){var s=Ie?Ie+t:t;if(!this._events[s])return this;if(!e)return zo(this,s),this;var c=this._events[s];if(c.fn)c.fn===e&&(!i||c.once)&&(!r||c.context===r)&&zo(this,s);else{for(var p=0,y=[],v=c.length;p<v;p++)(c[p].fn!==e||i&&!c[p].once||r&&c[p].context!==r)&&y.push(c[p]);y.length?this._events[s]=y.length===1?y[0]:y:zo(this,s)}return this};Be.prototype.removeAllListeners=function(t){var e;return t?(e=Ie?Ie+t:t,this._events[e]&&zo(this,e)):(this._events=new _i,this._eventsCount=0),this};Be.prototype.off=Be.prototype.removeListener;Be.prototype.addListener=Be.prototype.on;Be.prefixed=Ie;Be.EventEmitter=Be;typeof fa<\"u\"&&(fa.exports=Be)});var Lm,qo,Rc=vt(()=>{Lm=C(z(),1),qo=C(Lc(),1)});function Pc(n,t){return new A0(n,t)}var Pm,Tc,A0,M0,Cc,Oc=vt(()=>{Pm=C(z(),1),Tc=C(Ln(),1);Rc();A0=class extends qo.default{socket;constructor(n,t,e){super(),this.socket=new window.WebSocket(n,e),this.socket.onopen=()=>this.emit(\"open\"),this.socket.onmessage=r=>this.emit(\"message\",r.data),this.socket.onerror=r=>this.emit(\"error\",r),this.socket.onclose=r=>{this.emit(\"close\",r.code,r.reason)}}send(n,t,e){let r=e||t;try{this.socket.send(n),r()}catch(i){r(i)}}close(n,t){this.socket.close(n,t)}addEventListener(n,t,e){this.socket.addEventListener(n,t,e)}};M0=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},Cc=class extends qo.default{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(n,t=\"ws://localhost:8080\",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...c}={},p,y){super(),this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=p||(()=>++this.rpc_id),y?this.dataPack=y:this.dataPack=new M0,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,t,e,r){return!r&&typeof e==\"object\"&&(r=e,e=null),new Promise((i,s)=>{if(!this.ready)return s(new Error(\"socket not ready\"));let c=this.generate_request_id(n,t),p={jsonrpc:\"2.0\",method:n,params:t||void 0,id:c};this.socket.send(this.dataPack.encode(p),r,y=>{if(y)return s(y);this.queue[c]={promise:[i,s]},e&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],s(new Error(\"reply timeout\"))},e))})})}async login(n){let t=await this.call(\"rpc.login\",n);if(!t)throw new Error(\"authentication failed\");return t}async listMethods(){return await this.call(\"__listMethods\")}notify(n,t){return new Promise((e,r)=>{if(!this.ready)return r(new Error(\"socket not ready\"));let i={jsonrpc:\"2.0\",method:n,params:t};this.socket.send(this.dataPack.encode(i),s=>{if(s)return r(s);e()})})}async subscribe(n){typeof n==\"string\"&&(n=[n]);let t=await this.call(\"rpc.on\",n);if(typeof n==\"string\"&&t[n]!==\"ok\")throw new Error(\"Failed subscribing to an event '\"+n+\"' with: \"+t[n]);return t}async unsubscribe(n){typeof n==\"string\"&&(n=[n]);let t=await this.call(\"rpc.off\",n);if(typeof n==\"string\"&&t[n]!==\"ok\")throw new Error(\"Failed unsubscribing from an event with: \"+t);return t}close(n,t){this.socket.close(n||1e3,t)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,t),this.socket.addEventListener(\"open\",()=>{this.ready=!0,this.emit(\"open\"),this.current_reconnects=0}),this.socket.addEventListener(\"message\",({data:e})=>{e instanceof ArrayBuffer&&(e=Tc.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let r=[e.notification];if(e.params.constructor===Object)r.push(e.params);else for(let i=0;i<e.params.length;i++)r.push(e.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;\"error\"in e==\"result\"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either \"result\" or \"error\", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener(\"error\",e=>this.emit(\"error\",e)),this.socket.addEventListener(\"close\",({code:e,reason:r})=>{this.ready&&setTimeout(()=>this.emit(\"close\",e,r),0),this.ready=!1,this.socket=void 0,e!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,t),this.reconnect_interval)))})}}});function N0(n,t=24){let e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let c=0;c<10;c++)e[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){let p=(c+8)%10,y=(c+2)%10,v=e[y],x=e[y+1],k=Uc(v,x,1)^e[p],_=Nc(v,x,1)^e[p+1];for(let B=0;B<50;B+=10)n[c+B]^=k,n[c+B+1]^=_}let i=n[2],s=n[3];for(let c=0;c<24;c++){let p=qc[c],y=Uc(i,s,p),v=Nc(i,s,p),x=zc[c];i=n[x],s=n[x+1],n[x]=y,n[x+1]=v}for(let c=0;c<50;c+=10){for(let p=0;p<10;p++)e[p]=n[c+p];for(let p=0;p<10;p++)n[c+p]^=~e[(p+2)%10]&e[(p+4)%10]}n[0]^=O0[r],n[1]^=U0[r]}e.fill(0)}var Ym,zc,qc,Fc,L0,Ii,R0,T0,P0,C0,O0,U0,Uc,Nc,Dn,Lr,Fm,Km,Dm,Wm,Hm,ha,$m,Vm,Kc,Gm,Zm,Dc=vt(()=>{Ym=C(z(),1);fi();vs();gr();zc=[],qc=[],Fc=[],L0=BigInt(0),Ii=BigInt(1),R0=BigInt(2),T0=BigInt(7),P0=BigInt(256),C0=BigInt(113);for(let n=0,t=Ii,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],zc.push(2*(5*r+e)),qc.push((n+1)*(n+2)/2%64);let i=L0;for(let s=0;s<7;s++)t=(t<<Ii^(t>>T0)*C0)%P0,t&R0&&(i^=Ii<<(Ii<<BigInt(s))-Ii);Fc.push(i)}[O0,U0]=ys(Fc,!0),Uc=(n,t,e)=>e>32?ws(n,t,e):gs(n,t,e),Nc=(n,t,e)=>e>32?bs(n,t,e):ms(n,t,e);Dn=class extends pr{constructor(t,e,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ci(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=gu(this.state)}keccak(){fs||hs(this.state32),N0(this.state32,this.rounds),fs||hs(this.state32),this.posOut=0,this.pos=0}update(t){Qe(this);let{blockLen:e,state:r}=this;t=yr(t);let i=t.length;for(let s=0;s<i;){let c=Math.min(e-this.pos,i-s);for(let p=0;p<c;p++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:r,blockLen:i}=this;t[r]^=e,e&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Qe(this,!1),dr(t),this.finish();let e=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();let c=Math.min(r-this.posOut,s-i);t.set(e.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return ci(t),this.xofInto(new Uint8Array(t))}digestInto(t){if($i(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return t||(t=new Dn(e,r,i,c,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=c,t.destroyed=this.destroyed,t}},Lr=(n,t,e)=>Tn(()=>new Dn(t,n,e)),Fm=Lr(6,144,224/8),Km=Lr(6,136,256/8),Dm=Lr(6,104,384/8),Wm=Lr(6,72,512/8),Hm=Lr(1,144,224/8),ha=Lr(1,136,256/8),$m=Lr(1,104,384/8),Vm=Lr(1,72,512/8),Kc=(n,t,e)=>wu((r={})=>new Dn(t,n,r.dkLen===void 0?e:r.dkLen,!0)),Gm=Kc(31,168,128/8),Zm=Kc(31,136,256/8)});var t1,Fo,la,Wc=vt(()=>{t1=C(z(),1);fi();gr();Fo=class extends pr{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,pu(t);let r=yr(e);if(this.iHash=t.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=t.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),s.fill(0)}update(t){return Qe(this),this.iHash.update(t),this}digestInto(t){Qe(this),dr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:i,destroyed:s,blockLen:c,outputLen:p}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=c,t.outputLen=p,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},la=(n,t,e)=>new Fo(n,t).update(e).digest();la.create=(n,t)=>new Fo(n,t)});function Hc(n){n.lowS!==void 0&&Fe(\"lowS\",n.lowS),n.prehash!==void 0&&Fe(\"prehash\",n.prehash)}function z0(n){let t=di(n);Ge(t,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});let{endo:e,Fp:r,a:i}=t;if(e){if(!r.eql(i,r.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(typeof e!=\"object\"||typeof e.beta!=\"bigint\"||typeof e.splitScalar!=\"function\")throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...t})}function K0(n){let t=z0(n),{Fp:e}=t,r=kr(t.n,t.nBitLength),i=t.toBytes||((I,E,O)=>{let K=E.toAffine();return nr(Uint8Array.from([4]),e.toBytes(K.x),e.toBytes(K.y))}),s=t.fromBytes||(I=>{let E=I.subarray(1),O=e.fromBytes(E.subarray(0,e.BYTES)),K=e.fromBytes(E.subarray(e.BYTES,2*e.BYTES));return{x:O,y:K}});function c(I){let{a:E,b:O}=t,K=e.sqr(I),N=e.mul(K,I);return e.add(e.add(N,e.mul(I,E)),O)}if(!e.eql(e.sqr(t.Gy),c(t.Gx)))throw new Error(\"bad generator point: equation left != right\");function p(I){return hi(I,de,t.n)}function y(I){let{allowedPrivateKeyLengths:E,nByteLength:O,wrapPrivateKey:K,n:N}=t;if(E&&typeof I!=\"bigint\"){if(br(I)&&(I=er(I)),typeof I!=\"string\"||!E.includes(I.length))throw new Error(\"Invalid key\");I=I.padStart(O*2,\"0\")}let D;try{D=typeof I==\"bigint\"?I:rr(ue(\"private key\",I,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof I}`)}return K&&(D=Qt(D,N)),Me(\"private key\",D,de,N),D}function v(I){if(!(I instanceof _))throw new Error(\"ProjectivePoint expected\")}let x=fn((I,E)=>{let{px:O,py:K,pz:N}=I;if(e.eql(N,e.ONE))return{x:O,y:K};let D=I.is0();E==null&&(E=D?e.ONE:e.inv(N));let et=e.mul(O,E),W=e.mul(K,E),J=e.mul(N,E);if(D)return{x:e.ZERO,y:e.ZERO};if(!e.eql(J,e.ONE))throw new Error(\"invZ was invalid\");return{x:et,y:W}}),k=fn(I=>{if(I.is0()){if(t.allowInfinityPoint&&!e.is0(I.py))return;throw new Error(\"bad point: ZERO\")}let{x:E,y:O}=I.toAffine();if(!e.isValid(E)||!e.isValid(O))throw new Error(\"bad point: x or y not FE\");let K=e.sqr(O),N=c(E);if(!e.eql(K,N))throw new Error(\"bad point: equation left != right\");if(!I.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class _{constructor(E,O,K){if(this.px=E,this.py=O,this.pz=K,E==null||!e.isValid(E))throw new Error(\"x required\");if(O==null||!e.isValid(O))throw new Error(\"y required\");if(K==null||!e.isValid(K))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(E){let{x:O,y:K}=E||{};if(!E||!e.isValid(O)||!e.isValid(K))throw new Error(\"invalid affine point\");if(E instanceof _)throw new Error(\"projective point not allowed\");let N=D=>e.eql(D,e.ZERO);return N(O)&&N(K)?_.ZERO:new _(O,K,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){let O=e.invertBatch(E.map(K=>K.pz));return E.map((K,N)=>K.toAffine(O[N])).map(_.fromAffine)}static fromHex(E){let O=_.fromAffine(s(ue(\"pointHex\",E)));return O.assertValidity(),O}static fromPrivateKey(E){return _.BASE.multiply(y(E))}static msm(E,O){return Qi(_,r,E,O)}_setWindowSize(E){P.setWindowSize(this,E)}assertValidity(){k(this)}hasEvenY(){let{y:E}=this.toAffine();if(e.isOdd)return!e.isOdd(E);throw new Error(\"Field doesn't support isOdd\")}equals(E){v(E);let{px:O,py:K,pz:N}=this,{px:D,py:et,pz:W}=E,J=e.eql(e.mul(O,W),e.mul(D,N)),Q=e.eql(e.mul(K,W),e.mul(et,N));return J&&Q}negate(){return new _(this.px,e.neg(this.py),this.pz)}double(){let{a:E,b:O}=t,K=e.mul(O,$c),{px:N,py:D,pz:et}=this,W=e.ZERO,J=e.ZERO,Q=e.ZERO,nt=e.mul(N,N),ee=e.mul(D,D),G=e.mul(et,et),st=e.mul(N,D);return st=e.add(st,st),Q=e.mul(N,et),Q=e.add(Q,Q),W=e.mul(E,Q),J=e.mul(K,G),J=e.add(W,J),W=e.sub(ee,J),J=e.add(ee,J),J=e.mul(W,J),W=e.mul(st,W),Q=e.mul(K,Q),G=e.mul(E,G),st=e.sub(nt,G),st=e.mul(E,st),st=e.add(st,Q),Q=e.add(nt,nt),nt=e.add(Q,nt),nt=e.add(nt,G),nt=e.mul(nt,st),J=e.add(J,nt),G=e.mul(D,et),G=e.add(G,G),nt=e.mul(G,st),W=e.sub(W,nt),Q=e.mul(G,ee),Q=e.add(Q,Q),Q=e.add(Q,Q),new _(W,J,Q)}add(E){v(E);let{px:O,py:K,pz:N}=this,{px:D,py:et,pz:W}=E,J=e.ZERO,Q=e.ZERO,nt=e.ZERO,ee=t.a,G=e.mul(t.b,$c),st=e.mul(O,D),m=e.mul(K,et),o=e.mul(N,W),u=e.add(O,K),f=e.add(D,et);u=e.mul(u,f),f=e.add(st,m),u=e.sub(u,f),f=e.add(O,N);let h=e.add(D,W);return f=e.mul(f,h),h=e.add(st,o),f=e.sub(f,h),h=e.add(K,N),J=e.add(et,W),h=e.mul(h,J),J=e.add(m,o),h=e.sub(h,J),nt=e.mul(ee,f),J=e.mul(G,o),nt=e.add(J,nt),J=e.sub(m,nt),nt=e.add(m,nt),Q=e.mul(J,nt),m=e.add(st,st),m=e.add(m,st),o=e.mul(ee,o),f=e.mul(G,f),m=e.add(m,o),o=e.sub(st,o),o=e.mul(ee,o),f=e.add(f,o),st=e.mul(m,f),Q=e.add(Q,st),st=e.mul(h,f),J=e.mul(u,J),J=e.sub(J,st),st=e.mul(u,m),nt=e.mul(h,nt),nt=e.add(nt,st),new _(J,Q,nt)}subtract(E){return this.add(E.negate())}is0(){return this.equals(_.ZERO)}wNAF(E){return P.wNAFCached(this,E,_.normalizeZ)}multiplyUnsafe(E){Me(\"scalar\",E,ar,t.n);let O=_.ZERO;if(E===ar)return O;if(E===de)return this;let{endo:K}=t;if(!K)return P.unsafeLadder(this,E);let{k1neg:N,k1:D,k2neg:et,k2:W}=K.splitScalar(E),J=O,Q=O,nt=this;for(;D>ar||W>ar;)D&de&&(J=J.add(nt)),W&de&&(Q=Q.add(nt)),nt=nt.double(),D>>=de,W>>=de;return N&&(J=J.negate()),et&&(Q=Q.negate()),Q=new _(e.mul(Q.px,K.beta),Q.py,Q.pz),J.add(Q)}multiply(E){let{endo:O,n:K}=t;Me(\"scalar\",E,de,K);let N,D;if(O){let{k1neg:et,k1:W,k2neg:J,k2:Q}=O.splitScalar(E),{p:nt,f:ee}=this.wNAF(W),{p:G,f:st}=this.wNAF(Q);nt=P.constTimeNegate(et,nt),G=P.constTimeNegate(J,G),G=new _(e.mul(G.px,O.beta),G.py,G.pz),N=nt.add(G),D=ee.add(st)}else{let{p:et,f:W}=this.wNAF(E);N=et,D=W}return _.normalizeZ([N,D])[0]}multiplyAndAddUnsafe(E,O,K){let N=_.BASE,D=(W,J)=>J===ar||J===de||!W.equals(N)?W.multiplyUnsafe(J):W.multiply(J),et=D(this,O).add(D(E,K));return et.is0()?void 0:et}toAffine(E){return x(this,E)}isTorsionFree(){let{h:E,isTorsionFree:O}=t;if(E===de)return!0;if(O)return O(_,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){let{h:E,clearCofactor:O}=t;return E===de?this:O?O(_,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return Fe(\"isCompressed\",E),this.assertValidity(),i(_,this,E)}toHex(E=!0){return Fe(\"isCompressed\",E),er(this.toRawBytes(E))}}_.BASE=new _(t.Gx,t.Gy,e.ONE),_.ZERO=new _(e.ZERO,e.ONE,e.ZERO);let B=t.nBitLength,P=Xi(_,t.endo?Math.ceil(B/2):B);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:y,weierstrassEquation:c,isWithinCurveOrder:p}}function D0(n){let t=di(n);return Ge(t,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...t})}function Vc(n){let t=D0(n),{Fp:e,n:r}=t,i=e.BYTES+1,s=2*e.BYTES+1;function c(o){return Qt(o,r)}function p(o){return Ji(o,r)}let{ProjectivePoint:y,normPrivateKeyToScalar:v,weierstrassEquation:x,isWithinCurveOrder:k}=K0({...t,toBytes(o,u,f){let h=u.toAffine(),l=e.toBytes(h.x),w=nr;return Fe(\"isCompressed\",f),f?w(Uint8Array.from([u.hasEvenY()?2:3]),l):w(Uint8Array.from([4]),l,e.toBytes(h.y))},fromBytes(o){let u=o.length,f=o[0],h=o.subarray(1);if(u===i&&(f===2||f===3)){let l=rr(h);if(!hi(l,de,e.ORDER))throw new Error(\"Point is not on curve\");let w=x(l),b;try{b=e.sqrt(w)}catch(g){let M=g instanceof Error?\": \"+g.message:\"\";throw new Error(\"Point is not on curve\"+M)}let d=(b&de)===de;return(f&1)===1!==d&&(b=e.neg(b)),{x:l,y:b}}else if(u===s&&f===4){let l=e.fromBytes(h.subarray(0,e.BYTES)),w=e.fromBytes(h.subarray(e.BYTES,2*e.BYTES));return{x:l,y:w}}else throw new Error(`Point of length ${u} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=o=>er(xr(o,t.nByteLength));function B(o){let u=r>>de;return o>u}function P(o){return B(o)?c(-o):o}let I=(o,u,f)=>rr(o.slice(u,f));class E{constructor(u,f,h){this.r=u,this.s=f,this.recovery=h,this.assertValidity()}static fromCompact(u){let f=t.nByteLength;return u=ue(\"compactSignature\",u,f*2),new E(I(u,0,f),I(u,f,2*f))}static fromDER(u){let{r:f,s:h}=sr.toSig(ue(\"DER\",u));return new E(f,h)}assertValidity(){Me(\"r\",this.r,de,r),Me(\"s\",this.s,de,r)}addRecoveryBit(u){return new E(this.r,this.s,u)}recoverPublicKey(u){let{r:f,s:h,recovery:l}=this,w=W(ue(\"msgHash\",u));if(l==null||![0,1,2,3].includes(l))throw new Error(\"recovery id invalid\");let b=l===2||l===3?f+t.n:f;if(b>=e.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");let d=l&1?\"03\":\"02\",a=y.fromHex(d+_(b)),g=p(b),M=c(-w*g),R=c(h*g),T=y.BASE.multiplyAndAddUnsafe(a,M,R);if(!T)throw new Error(\"point at infinify\");return T.assertValidity(),T}hasHighS(){return B(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return un(this.toDERHex())}toDERHex(){return sr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return un(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}let O={isValidPrivateKey(o){try{return v(o),!0}catch{return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{let o=Rs(t.n);return Lu(t.randomBytes(o),t.n)},precompute(o=8,u=y.BASE){return u._setWindowSize(o),u.multiply(BigInt(3)),u}};function K(o,u=!0){return y.fromPrivateKey(o).toRawBytes(u)}function N(o){let u=br(o),f=typeof o==\"string\",h=(u||f)&&o.length;return u?h===i||h===s:f?h===2*i||h===2*s:o instanceof y}function D(o,u,f=!0){if(N(o))throw new Error(\"first arg must be private key\");if(!N(u))throw new Error(\"second arg must be public key\");return y.fromHex(u).multiply(v(o)).toRawBytes(f)}let et=t.bits2int||function(o){let u=rr(o),f=o.length*8-t.nBitLength;return f>0?u>>BigInt(f):u},W=t.bits2int_modN||function(o){return c(et(o))},J=li(t.nBitLength);function Q(o){return Me(`num < 2^${t.nBitLength}`,o,ar,J),xr(o,t.nByteLength)}function nt(o,u,f=ee){if([\"recovered\",\"canonical\"].some(V=>V in f))throw new Error(\"sign() legacy options not supported\");let{hash:h,randomBytes:l}=t,{lowS:w,prehash:b,extraEntropy:d}=f;w==null&&(w=!0),o=ue(\"msgHash\",o),Hc(f),b&&(o=ue(\"prehashed msgHash\",h(o)));let a=W(o),g=v(u),M=[Q(g),Q(a)];if(d!=null&&d!==!1){let V=d===!0?l(e.BYTES):d;M.push(ue(\"extraEntropy\",V))}let R=nr(...M),T=a;function F(V){let X=et(V);if(!k(X))return;let jt=p(X),Y=y.BASE.multiply(X).toAffine(),tt=c(Y.x);if(tt===ar)return;let Ee=c(jt*c(T+tt*g));if(Ee===ar)return;let ut=(Y.x===tt?0:2)|Number(Y.y&de),ct=Ee;return w&&B(Ee)&&(ct=P(Ee),ut^=1),new E(tt,ct,ut)}return{seed:R,k2sig:F}}let ee={lowS:t.lowS,prehash:!1},G={lowS:t.lowS,prehash:!1};function st(o,u,f=ee){let{seed:h,k2sig:l}=nt(o,u,f),w=t;return Is(w.hash.outputLen,w.nByteLength,w.hmac)(h,l)}y.BASE._setWindowSize(8);function m(o,u,f,h=G){let l=o;if(u=ue(\"msgHash\",u),f=ue(\"publicKey\",f),\"strict\"in h)throw new Error(\"options.strict was renamed to lowS\");Hc(h);let{lowS:w,prehash:b}=h,d,a;try{if(typeof l==\"string\"||br(l))try{d=E.fromDER(l)}catch(Y){if(!(Y instanceof sr.Err))throw Y;d=E.fromCompact(l)}else if(typeof l==\"object\"&&typeof l.r==\"bigint\"&&typeof l.s==\"bigint\"){let{r:Y,s:tt}=l;d=new E(Y,tt)}else throw new Error(\"PARSE\");a=y.fromHex(f)}catch(Y){if(Y.message===\"PARSE\")throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(w&&d.hasHighS())return!1;b&&(u=t.hash(u));let{r:g,s:M}=d,R=W(u),T=p(M),F=c(R*T),V=c(g*T),X=y.BASE.multiplyAndAddUnsafe(a,F,V)?.toAffine();return X?c(X.x)===g:!1}return{CURVE:t,getPublicKey:K,getSharedSecret:D,sign:st,verify:m,ProjectivePoint:y,Signature:E,utils:O}}var a1,q0,F0,sr,ar,de,i1,$c,o1,Gc=vt(()=>{a1=C(z(),1);Cs();On();hn();hn();({bytesToNumberBE:q0,hexToBytes:F0}=Yi),sr={Err:class extends Error{constructor(t=\"\"){super(t)}},_tlv:{encode:(n,t)=>{let{Err:e}=sr;if(n<0||n>256)throw new e(\"tlv.encode: wrong tag\");if(t.length&1)throw new e(\"tlv.encode: unpadded data\");let r=t.length/2,i=an(r);if(i.length/2&128)throw new e(\"tlv.encode: long form length too big\");let s=r>127?an(i.length/2|128):\"\";return`${an(n)}${s}${i}${t}`},decode(n,t){let{Err:e}=sr,r=0;if(n<0||n>256)throw new e(\"tlv.encode: wrong tag\");if(t.length<2||t[r++]!==n)throw new e(\"tlv.decode: wrong tlv\");let i=t[r++],s=!!(i&128),c=0;if(!s)c=i;else{let y=i&127;if(!y)throw new e(\"tlv.decode(long): indefinite length not supported\");if(y>4)throw new e(\"tlv.decode(long): byte length is too big\");let v=t.subarray(r,r+y);if(v.length!==y)throw new e(\"tlv.decode: length bytes not complete\");if(v[0]===0)throw new e(\"tlv.decode(long): zero leftmost byte\");for(let x of v)c=c<<8|x;if(r+=y,c<128)throw new e(\"tlv.decode(long): not minimal encoding\")}let p=t.subarray(r,r+c);if(p.length!==c)throw new e(\"tlv.decode: wrong value length\");return{v:p,l:t.subarray(r+c)}}},_int:{encode(n){let{Err:t}=sr;if(n<ar)throw new t(\"integer: negative integers are not allowed\");let e=an(n);if(Number.parseInt(e[0],16)&8&&(e=\"00\"+e),e.length&1)throw new t(\"unexpected assertion\");return e},decode(n){let{Err:t}=sr;if(n[0]&128)throw new t(\"Invalid signature integer: negative\");if(n[0]===0&&!(n[1]&128))throw new t(\"Invalid signature integer: unnecessary leading zero\");return q0(n)}},toSig(n){let{Err:t,_int:e,_tlv:r}=sr,i=typeof n==\"string\"?F0(n):n;Cn(i);let{v:s,l:c}=r.decode(48,i);if(c.length)throw new t(\"Invalid signature: left bytes after parsing\");let{v:p,l:y}=r.decode(2,s),{v,l:x}=r.decode(2,y);if(x.length)throw new t(\"Invalid signature: left bytes after parsing\");return{r:e.decode(p),s:e.decode(v)}},hexFromSig(n){let{_tlv:t,_int:e}=sr,r=`${t.encode(2,e.encode(n.r))}${t.encode(2,e.encode(n.s))}`;return t.encode(48,r)}},ar=BigInt(0),de=BigInt(1),i1=BigInt(2),$c=BigInt(3),o1=BigInt(4)});function W0(n){return{hash:n,hmac:(t,...e)=>la(n,t,ls(...e)),randomBytes:Gi}}function Zc(n,t){let e=r=>Vc({...n,...W0(r)});return Object.freeze({...e(t),create:e})}var l1,jc=vt(()=>{l1=C(z(),1);Wc();gr();Gc();});function $0(n){let t=Xc,e=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),c=BigInt(23),p=BigInt(44),y=BigInt(88),v=n*n*n%t,x=v*v*n%t,k=oe(x,e,t)*x%t,_=oe(k,e,t)*x%t,B=oe(_,da,t)*v%t,P=oe(B,i,t)*B%t,I=oe(P,s,t)*P%t,E=oe(I,p,t)*I%t,O=oe(E,y,t)*E%t,K=oe(O,p,t)*I%t,N=oe(K,e,t)*x%t,D=oe(N,c,t)*P%t,et=oe(D,r,t)*v%t,W=oe(et,da,t);if(!pa.eql(pa.sqr(W),n))throw new Error(\"Cannot find square root\");return W}var b1,Xc,Yc,H0,da,Jc,pa,Ai,g1,m1,Qc=vt(()=>{b1=C(z(),1);Ks();jc();On();Xc=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),Yc=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),H0=BigInt(1),da=BigInt(2),Jc=(n,t)=>(n+t/da)/t;pa=kr(Xc,void 0,void 0,{sqrt:$0}),Ai=Zc({a:BigInt(0),b:BigInt(7),Fp:pa,n:Yc,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:n=>{let t=Yc,e=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),r=-H0*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=e,c=BigInt(\"0x100000000000000000000000000000000\"),p=Jc(s*n,t),y=Jc(-r*n,t),v=Qt(n-p*e-y*i,t),x=Qt(-p*r-y*s,t),k=v>c,_=x>c;if(k&&(v=t-v),_&&(x=t-x),v>c||x>c)throw new Error(\"splitScalar: Endomorphism failed, k=\"+n);return{k1neg:k,k1:v,k2neg:_,k2:x}}}},pi),g1=BigInt(0),m1=Ai.ProjectivePoint});function ef(n){try{return dn.ExtendedPoint.fromHex(n),!0}catch{return!1}}function Z0(n){return n._bn!==void 0}function kf(n,t){let e=i=>{if(i.span>=0)return i.span;if(typeof i.alloc==\"function\")return i.alloc(t[i.property]);if(\"count\"in i&&\"elementLayout\"in i){let s=t[i.property];if(Array.isArray(s))return s.length*e(i.elementLayout)}else if(\"fields\"in i)return kf({layout:i},t[i.property]);return 0},r=0;return n.layout.fields.forEach(i=>{r+=e(i)}),r}function Pe(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Ce(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function Xt(n,t){if(!n)throw new Error(t||\"Assertion failed\")}function cr(n){if(n.length===0)throw new Error(Sf);return n.shift()}function Oe(n,...t){let[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(Sf);return n.splice(...t)}async function nf(n,t,e,r){let i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(t,e,i),c;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:p}=t.nonceInfo,y=p.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:t.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn(\"sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable.\"),c=(await n.confirmTransaction(s,r&&r.commitment)).value;if(c.err)throw s!=null?new Ci({action:\"send\",signature:s,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(c)})`);return s}function bn(n){return new Promise(t=>setTimeout(t,n))}function Gt(n,t){let e=n.layout.span>=0?n.layout.span:kf(n,t),r=at.Buffer.alloc(e),i=Object.assign({instruction:n.index},t);return n.layout.encode(i,r),r}function ud(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n}function Ti(n,t){var e,r,i,s,c,p,y;if(n===!0)return\"true\";if(n===!1)return\"false\";switch(typeof n){case\"object\":if(n===null)return null;if(n.toJSON&&typeof n.toJSON==\"function\")return Ti(n.toJSON(),t);if(y=cd.call(n),y===\"[object Array]\"){for(i=\"[\",r=n.length-1,e=0;e<r;e++)i+=Ti(n[e],!0)+\",\";return r>-1&&(i+=Ti(n[e],!0)),i+\"]\"}else if(y===\"[object Object]\"){for(s=fd(n).sort(),r=s.length,i=\"\",e=0;e<r;)c=s[e],p=Ti(n[c],!1),p!==void 0&&(i&&(i+=\",\"),i+=JSON.stringify(c)+\":\"+p),e++;return\"{\"+i+\"}\"}else return JSON.stringify(n);case\"function\":case\"undefined\":return t?null:void 0;case\"string\":return JSON.stringify(n);default:return isFinite(n)?n:null}}function ma(n){let t=0;for(;n>1;)n/=2,t++;return t}function ld(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}function pd(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error(\"invalid instruction; \"+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}function md(n){let t=n.match(gd);if(t==null)throw TypeError(`Failed to validate endpoint URL \\`${n}\\``);let[e,r,i,s]=t,c=n.startsWith(\"https:\")?\"wss:\":\"ws:\",p=i==null?null:parseInt(i.slice(1),10),y=p==null?\"\":`:${p+1}`;return`${c}//${r}${y}${s}`}function bd(n){if(/^https?:/.test(n)===!1)throw new TypeError(\"Endpoint URL must start with `http:` or `https:`.\");return n}function ne(n){let t,e;if(typeof n==\"string\")t=n;else if(n){let{commitment:r,...i}=n;t=r,e=i}return{commitment:t,config:e}}function uf(n){return n.map(t=>\"memcmp\"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??\"base58\"}}:t)}function Af(n){return be([q({jsonrpc:se(\"2.0\"),id:H(),result:n}),q({jsonrpc:se(\"2.0\"),id:H(),error:q({code:wn(),message:H(),data:it(nc())})})])}function Ht(n){return Kn(Af(n),vd,t=>\"error\"in t?t:{...t,result:$(t.result,n)})}function ce(n){return Ht(q({context:q({slot:A()}),value:n}))}function Jo(n){return q({context:q({slot:A()}),value:n})}function wa(n,t){return n===0?new Sn({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new ot(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pe.default.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new He(t)}function Cd(n,t,e,r,i,s){let c=e||dd,p;s!=null&&console.warn(\"You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.\");let y;return r&&(y=async(x,k)=>{let _=await new Promise((B,P)=>{try{r(x,k,(I,E)=>B([I,E]))}catch(I){P(I)}});return await c(..._)}),new vf.default(async(x,k)=>{let _={method:\"POST\",body:x,agent:p,headers:Object.assign({\"Content-Type\":\"application/json\"},t||{},Op)};try{let B=5,P,I=500;for(;y?P=await y(n,_):P=await c(n,_),!(P.status!==429||i===!0||(B-=1,B===0));)console.error(`Server responded with ${P.status} ${P.statusText}.  Retrying after ${I}ms delay...`),await bn(I),I*=2;let E=await P.text();P.ok?k(null,E):k(new Error(`${P.status} ${P.statusText}: ${E}`))}catch(B){B instanceof Error&&k(B)}},{})}function Od(n){return(t,e)=>new Promise((r,i)=>{n.request(t,e,(s,c)=>{if(s){i(s);return}r(c)})})}function Ud(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);let i=t.map(s=>n.request(s.methodName,s.args));n.request(i,(s,c)=>{if(s){r(s);return}e(c)})})}function zf(n,t){let e=t===!1?\"http\":\"https\";if(!n)return wf[e].devnet;let r=wf[e][n];if(!r)throw new Error(`Unknown ${e} cluster: ${n}`);return r}var K1,at,ka,pe,Yn,S,bf,qi,vf,_1,tf,Sa,Ta,V0,Vt,Ba,Wo,xf,G0,Pr,rf,ot,I1,xn,Pa,Ho,$o,Vo,vn,Hn,$t,j0,Wn,Y0,J0,X0,Q0,$n,Sf,He,Sn,Bf,Rr,td,re,Zt,Vn,ed,rd,nd,Ef,ur,A1,M1,ya,Pi,L1,R1,T1,ga,Ci,rt,id,_f,of,Oi,od,sd,Gn,ze,ye,ad,Zn,P1,cd,fd,hd,sf,Mi,Ea,dd,_a,af,Go,yd,gd,ae,If,Ca,wd,vd,xd,kd,Sd,Bd,Ed,_d,Id,Bn,Ad,Md,Ld,Rd,Td,cf,Pd,Nd,zd,qd,Fd,Kd,Dd,Wd,Hd,Ia,$d,Vd,Aa,Gd,Zd,Ui,jd,Yd,Ma,Jd,Xd,Qd,tp,ep,rp,np,ip,op,sp,ap,up,cp,fp,ff,hp,lp,dp,pp,yp,Mf,Oa,Lf,Rf,Tf,Pf,gp,mp,Cf,Of,Zo,Uf,Xo,Ua,Jn,En,wp,bp,vp,xp,kp,Sp,Bp,hf,ba,Ko,Ep,_p,Ip,Ap,Mp,Lp,Rp,Tp,Pp,Cp,Op,jo,fr,Li,La,Do,Ra,lf,df,pf,yf,Ni,Up,Np,gf,va,mf,zp,xa,kn,Nf,qp,zi,Tr,C1,Yo,Ri,O1,jn,U1,N1,z1,q1,wf,qf=vt(()=>{K1=C(z()),at=C(Ln());Uu();ka=C(zu()),pe=C(qs());Ks();Yn=C(Xu()),S=C(Js()),bf=C(Js()),qi=C(Qu());ic();vf=C(Ac());Oc();Dc();Qc();_1=dn.utils.randomPrivateKey,tf=()=>{let n=dn.utils.randomPrivateKey(),t=Sa(n),e=new Uint8Array(64);return e.set(n),e.set(t,32),{publicKey:t,secretKey:e}},Sa=dn.getPublicKey;Ta=(n,t)=>dn.sign(n,t.slice(0,32)),V0=dn.verify,Vt=n=>at.Buffer.isBuffer(n)?n:n instanceof Uint8Array?at.Buffer.from(n.buffer,n.byteOffset,n.byteLength):at.Buffer.from(n),Ba=class{constructor(t){Object.assign(this,t)}encode(){return at.Buffer.from((0,Yn.serialize)(Wo,this))}static decode(t){return(0,Yn.deserialize)(Wo,this,t)}static decodeUnchecked(t){return(0,Yn.deserializeUnchecked)(Wo,this,t)}},Wo=new Map,G0=32,Pr=32;rf=1,ot=class extends Ba{constructor(t){if(super({}),this._bn=void 0,Z0(t))this._bn=t._bn;else{if(typeof t==\"string\"){let e=pe.default.decode(t);if(e.length!=Pr)throw new Error(\"Invalid public key input\");this._bn=new ka.default(e)}else this._bn=new ka.default(t);if(this._bn.byteLength()>Pr)throw new Error(\"Invalid public key input\")}}static unique(){let t=new ot(rf);return rf+=1,new ot(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pe.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(at.Buffer);if(t.length===Pr)return t;let e=at.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){let i=at.Buffer.concat([t.toBuffer(),at.Buffer.from(e),r.toBuffer()]),s=pi(i);return new ot(s)}static createProgramAddressSync(t,e){let r=at.Buffer.alloc(0);t.forEach(function(s){if(s.length>G0)throw new TypeError(\"Max seed length exceeded\");r=at.Buffer.concat([r,Vt(s)])}),r=at.Buffer.concat([r,e.toBuffer(),at.Buffer.from(\"ProgramDerivedAddress\")]);let i=pi(r);if(ef(i))throw new Error(\"Invalid seeds, address must fall off the curve\");return new ot(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,i;for(;r!=0;){try{let s=t.concat(at.Buffer.from([r]));i=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error(\"Unable to find a viable program address nonce\")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new ot(t);return ef(e.toBytes())}};xf=ot;ot.default=new xf(\"11111111111111111111111111111111\");Wo.set(ot,{kind:\"struct\",fields:[[\"_bn\",\"u256\"]]});I1=new ot(\"BPFLoader1111111111111111111111111111111111\"),xn=1280-40-8,Pa=127,Ho=64,$o=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty($o.prototype,\"name\",{value:\"TransactionExpiredBlockheightExceededError\"});Vo=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Vo.prototype,\"name\",{value:\"TransactionExpiredTimeoutError\"});vn=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(vn.prototype,\"name\",{value:\"TransactionExpiredNonceInvalidError\"});Hn=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error(\"Account index overflow encountered during compilation\");let r=new Map;this.keySegments().flat().forEach((s,c)=>{r.set(s.toBase58(),c)});let i=s=>{let c=r.get(s.toBase58());if(c===void 0)throw new Error(\"Encountered an unknown instruction account key during compilation\");return c};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(c=>i(c.pubkey)),data:s.data}))}},$t=(n=\"publicKey\")=>S.blob(32,n),j0=(n=\"signature\")=>S.blob(64,n),Wn=(n=\"string\")=>{let t=S.struct([S.u32(\"length\"),S.u32(\"lengthPadding\"),S.blob(S.offset(S.u32(),-8),\"chars\")],n),e=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(s,c)=>e(s,c).chars.toString(),i.encode=(s,c,p)=>{let y={chars:at.Buffer.from(s,\"utf8\")};return r(y,c,p)},i.alloc=s=>S.u32().span+S.u32().span+at.Buffer.from(s,\"utf8\").length,i},Y0=(n=\"authorized\")=>S.struct([$t(\"staker\"),$t(\"withdrawer\")],n),J0=(n=\"lockup\")=>S.struct([S.ns64(\"unixTimestamp\"),S.ns64(\"epoch\"),$t(\"custodian\")],n),X0=(n=\"voteInit\")=>S.struct([$t(\"nodePubkey\"),$t(\"authorizedVoter\"),$t(\"authorizedWithdrawer\"),S.u8(\"commission\")],n),Q0=(n=\"voteAuthorizeWithSeedArgs\")=>S.struct([S.u32(\"voteAuthorizationType\"),$t(\"currentAuthorityDerivedKeyOwnerPubkey\"),Wn(\"currentAuthorityDerivedKeySeed\"),$t(\"newAuthorized\")],n);$n=class{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let r=new Map,i=c=>{let p=c.toBase58(),y=r.get(p);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(p,y)),y},s=i(e);s.isSigner=!0,s.isWritable=!0;for(let c of t){i(c.programId).isInvoked=!0;for(let p of c.keys){let y=i(p.pubkey);y.isSigner||=p.isSigner,y.isWritable||=p.isWritable}}return new $n(e,r)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];Xt(t.length<=256,\"Max static account keys length exceeded\");let e=t.filter(([,y])=>y.isSigner&&y.isWritable),r=t.filter(([,y])=>y.isSigner&&!y.isWritable),i=t.filter(([,y])=>!y.isSigner&&y.isWritable),s=t.filter(([,y])=>!y.isSigner&&!y.isWritable),c={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Xt(e.length>0,\"Expected at least one writable signer key\");let[y]=e[0];Xt(y===this.payer.toBase58(),\"Expected first writable signer key to be the fee payer\")}let p=[...e.map(([y])=>new ot(y)),...r.map(([y])=>new ot(y)),...i.map(([y])=>new ot(y)),...s.map(([y])=>new ot(y))];return[c,p]}extractTableLookup(t){let[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(e.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(t,e){let r=new Array,i=new Array;for(let[s,c]of this.keyMetaMap.entries())if(e(c)){let p=new ot(s),y=t.findIndex(v=>v.equals(p));y>=0&&(Xt(y<256,\"Max lookup table index exceeded\"),r.push(y),i.push(p),this.keyMetaMap.delete(s))}return[r,i]}},Sf=\"Reached end of buffer unexpectedly\";He=class{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new ot(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return\"legacy\"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:pe.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Hn(this.staticAccountKeys)}static compile(t){let e=$n.compile(t.instructions,t.payerKey),[r,i]=e.getMessageComponents(),c=new Hn(i).compileInstructions(t.instructions).map(p=>({programIdIndex:p.programIdIndex,accounts:p.accountKeyIndexes,data:pe.default.encode(p.data)}));return new He({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:c})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let r=t-e,s=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<s}else{let r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];Ce(e,t);let r=this.instructions.map(k=>{let{accounts:_,programIdIndex:B}=k,P=Array.from(pe.default.decode(k.data)),I=[];Ce(I,_.length);let E=[];return Ce(E,P.length),{programIdIndex:B,keyIndicesCount:at.Buffer.from(I),keyIndices:_,dataLength:at.Buffer.from(E),data:P}}),i=[];Ce(i,r.length);let s=at.Buffer.alloc(xn);at.Buffer.from(i).copy(s);let c=i.length;r.forEach(k=>{let B=S.struct([S.u8(\"programIdIndex\"),S.blob(k.keyIndicesCount.length,\"keyIndicesCount\"),S.seq(S.u8(\"keyIndex\"),k.keyIndices.length,\"keyIndices\"),S.blob(k.dataLength.length,\"dataLength\"),S.seq(S.u8(\"userdatum\"),k.data.length,\"data\")]).encode(k,s,c);c+=B}),s=s.slice(0,c);let p=S.struct([S.blob(1,\"numRequiredSignatures\"),S.blob(1,\"numReadonlySignedAccounts\"),S.blob(1,\"numReadonlyUnsignedAccounts\"),S.blob(e.length,\"keyCount\"),S.seq($t(\"key\"),t,\"keys\"),$t(\"recentBlockhash\")]),y={numRequiredSignatures:at.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:at.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:at.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:at.Buffer.from(e),keys:this.accountKeys.map(k=>Vt(k.toBytes())),recentBlockhash:pe.default.decode(this.recentBlockhash)},v=at.Buffer.alloc(2048),x=p.encode(y,v);return s.copy(v,x),v.slice(0,x+s.length)}static from(t){let e=[...t],r=cr(e);if(r!==(r&Pa))throw new Error(\"Versioned messages must be deserialized with VersionedMessage.deserialize()\");let i=cr(e),s=cr(e),c=Pe(e),p=[];for(let _=0;_<c;_++){let B=Oe(e,0,Pr);p.push(new ot(at.Buffer.from(B)))}let y=Oe(e,0,Pr),v=Pe(e),x=[];for(let _=0;_<v;_++){let B=cr(e),P=Pe(e),I=Oe(e,0,P),E=Pe(e),O=Oe(e,0,E),K=pe.default.encode(at.Buffer.from(O));x.push({programIdIndex:B,accounts:I,data:K})}let k={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:pe.default.encode(at.Buffer.from(y)),accountKeys:p,instructions:x};return new He(k)}},Sn=class{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&\"accountKeysFromLookups\"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error(\"Failed to get account keys because of a mismatch in the number of account keys from lookups\");e=t.accountKeysFromLookups}else if(t&&\"addressLookupTableAccounts\"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error(\"Failed to get account keys because address table lookups were not resolved\");return new Hn(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){let i=t-r,s=this.addressTableLookups.reduce((c,p)=>c+p.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){let i=t-e,c=r-e-this.header.numReadonlyUnsignedAccounts;return i<c}else{let i=e-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let r of this.addressTableLookups){let i=t.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let s of r.writableIndexes)if(s<i.state.addresses.length)e.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(let s of r.readonlyIndexes)if(s<i.state.addresses.length)e.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){let e=$n.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(let x of s){let k=e.extractTableLookup(x);if(k!==void 0){let[_,{writable:B,readonly:P}]=k;r.push(_),i.writable.push(...B),i.readonly.push(...P)}}let[c,p]=e.getMessageComponents(),v=new Hn(p,i).compileInstructions(t.instructions);return new Sn({header:c,staticAccountKeys:p,recentBlockhash:t.recentBlockhash,compiledInstructions:v,addressTableLookups:r})}serialize(){let t=Array();Ce(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),r=Array();Ce(r,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();Ce(s,this.addressTableLookups.length);let c=S.struct([S.u8(\"prefix\"),S.struct([S.u8(\"numRequiredSignatures\"),S.u8(\"numReadonlySignedAccounts\"),S.u8(\"numReadonlyUnsignedAccounts\")],\"header\"),S.blob(t.length,\"staticAccountKeysLength\"),S.seq($t(),this.staticAccountKeys.length,\"staticAccountKeys\"),$t(\"recentBlockhash\"),S.blob(r.length,\"instructionsLength\"),S.blob(e.length,\"serializedInstructions\"),S.blob(s.length,\"addressTableLookupsLength\"),S.blob(i.length,\"serializedAddressTableLookups\")]),p=new Uint8Array(xn),y=128,v=c.encode({prefix:y,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(x=>x.toBytes()),recentBlockhash:pe.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},p);return p.slice(0,v)}serializeInstructions(){let t=0,e=new Uint8Array(xn);for(let r of this.compiledInstructions){let i=Array();Ce(i,r.accountKeyIndexes.length);let s=Array();Ce(s,r.data.length);let c=S.struct([S.u8(\"programIdIndex\"),S.blob(i.length,\"encodedAccountKeyIndexesLength\"),S.seq(S.u8(),r.accountKeyIndexes.length,\"accountKeyIndexes\"),S.blob(s.length,\"encodedDataLength\"),S.blob(r.data.length,\"data\")]);t+=c.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(xn);for(let r of this.addressTableLookups){let i=Array();Ce(i,r.writableIndexes.length);let s=Array();Ce(s,r.readonlyIndexes.length);let c=S.struct([$t(\"accountKey\"),S.blob(i.length,\"encodedWritableIndexesLength\"),S.seq(S.u8(),r.writableIndexes.length,\"writableIndexes\"),S.blob(s.length,\"encodedReadonlyIndexesLength\"),S.seq(S.u8(),r.readonlyIndexes.length,\"readonlyIndexes\")]);t+=c.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],r=cr(e),i=r&Pa;Xt(r!==i,\"Expected versioned message but received legacy message\");let s=i;Xt(s===0,`Expected versioned message with version 0 but found version ${s}`);let c={numRequiredSignatures:cr(e),numReadonlySignedAccounts:cr(e),numReadonlyUnsignedAccounts:cr(e)},p=[],y=Pe(e);for(let P=0;P<y;P++)p.push(new ot(Oe(e,0,Pr)));let v=pe.default.encode(Oe(e,0,Pr)),x=Pe(e),k=[];for(let P=0;P<x;P++){let I=cr(e),E=Pe(e),O=Oe(e,0,E),K=Pe(e),N=new Uint8Array(Oe(e,0,K));k.push({programIdIndex:I,accountKeyIndexes:O,data:N})}let _=Pe(e),B=[];for(let P=0;P<_;P++){let I=new ot(Oe(e,0,Pr)),E=Pe(e),O=Oe(e,0,E),K=Pe(e),N=Oe(e,0,K);B.push({accountKey:I,writableIndexes:O,readonlyIndexes:N})}return new Sn({header:c,staticAccountKeys:p,recentBlockhash:v,compiledInstructions:k,addressTableLookups:B})}},Bf={deserializeMessageVersion(n){let t=n[0],e=t&Pa;return e===t?\"legacy\":e},deserialize:n=>{let t=Bf.deserializeMessageVersion(n);if(t===\"legacy\")return He.from(n);if(t===0)return Sn.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},Rr=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]=\"BLOCKHEIGHT_EXCEEDED\",n[n.PROCESSED=1]=\"PROCESSED\",n[n.TIMED_OUT=2]=\"TIMED_OUT\",n[n.NONCE_INVALID=3]=\"NONCE_INVALID\",n}({}),td=at.Buffer.alloc(Ho).fill(0),re=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=at.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Zt=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,\"nonceInfo\")){let{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,\"lastValidBlockHeight\")){let{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{let{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error(\"No instructions\");return t.forEach(e=>{\"instructions\"in e?this.instructions=this.instructions.concat(e.instructions):\"data\"in e&&\"programId\"in e&&\"keys\"in e?this.instructions.push(e):this.instructions.push(new re(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error(\"Transaction recentBlockhash required\");e.length<1&&console.warn(\"No instructions provided\");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error(\"Transaction fee payer required\");for(let I=0;I<e.length;I++)if(e[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);let i=[],s=[];e.forEach(I=>{I.keys.forEach(O=>{s.push({...O})});let E=I.programId.toString();i.includes(E)||i.push(E)}),i.forEach(I=>{s.push({pubkey:new ot(I),isSigner:!1,isWritable:!1})});let c=[];s.forEach(I=>{let E=I.pubkey.toString(),O=c.findIndex(K=>K.pubkey.toString()===E);O>-1?(c[O].isWritable=c[O].isWritable||I.isWritable,c[O].isSigner=c[O].isSigner||I.isSigner):c.push(I)}),c.sort(function(I,E){if(I.isSigner!==E.isSigner)return I.isSigner?-1:1;if(I.isWritable!==E.isWritable)return I.isWritable?-1:1;let O={localeMatcher:\"best fit\",usage:\"sort\",sensitivity:\"variant\",ignorePunctuation:!1,numeric:!1,caseFirst:\"lower\"};return I.pubkey.toBase58().localeCompare(E.pubkey.toBase58(),\"en\",O)});let p=c.findIndex(I=>I.pubkey.equals(r));if(p>-1){let[I]=c.splice(p,1);I.isSigner=!0,I.isWritable=!0,c.unshift(I)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let I of this.signatures){let E=c.findIndex(O=>O.pubkey.equals(I.publicKey));if(E>-1)c[E].isSigner||(c[E].isSigner=!0,console.warn(\"Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release.\"));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let y=0,v=0,x=0,k=[],_=[];c.forEach(({pubkey:I,isSigner:E,isWritable:O})=>{E?(k.push(I.toString()),y+=1,O||(v+=1)):(_.push(I.toString()),O||(x+=1))});let B=k.concat(_),P=e.map(I=>{let{data:E,programId:O}=I;return{programIdIndex:B.indexOf(O.toString()),accounts:I.keys.map(K=>B.indexOf(K.pubkey.toString())),data:pe.default.encode(E)}});return P.forEach(I=>{Xt(I.programIdIndex>=0),I.accounts.forEach(E=>Xt(E>=0))}),new He({header:{numRequiredSignatures:y,numReadonlySignedAccounts:v,numReadonlyUnsignedAccounts:x},accountKeys:B,recentBlockhash:t,instructions:P})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((i,s)=>e[s].equals(i.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set;this.signatures=t.filter(r=>{let i=r.toString();return e.has(i)?!1:(e.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set,r=[];for(let s of t){let c=s.publicKey.toString();e.has(c)||(e.add(c),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error(\"No signers\");let e=new Set,r=[];for(let s of t){let c=s.publicKey.toString();e.has(c)||(e.add(c),r.push(s))}let i=this._compile();this._partialSign(i,...r)}_partialSign(t,...e){let r=t.serialize();e.forEach(i=>{let s=Ta(r,i.secretKey);this._addSignature(i.publicKey,Vt(s))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Xt(e.length===64);let r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=at.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){let r={};for(let{signature:i,publicKey:s}of this.signatures)i===null?e&&(r.missing||=[]).push(s):V0(i,t,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){let s=this._getMessageSignednessErrors(i,e);if(s){let c=\"Signature verification failed.\";throw s.invalid&&(c+=`\nInvalid signature for public key${s.invalid.length===1?\"\":\"(s)\"} [\\`${s.invalid.map(p=>p.toBase58()).join(\"`, `\")}\\`].`),s.missing&&(c+=`\nMissing signature for public key${s.missing.length===1?\"\":\"(s)\"} [\\`${s.missing.map(p=>p.toBase58()).join(\"`, `\")}\\`].`),new Error(c)}}return this._serialize(i)}_serialize(t){let{signatures:e}=this,r=[];Ce(r,e.length);let i=r.length+e.length*64+t.length,s=at.Buffer.alloc(i);return Xt(e.length<256),at.Buffer.from(r).copy(s,0),e.forEach(({signature:c},p)=>{c!==null&&(Xt(c.length===64,\"signature has invalid length\"),at.Buffer.from(c).copy(s,r.length+p*64))}),t.copy(s,r.length+e.length*64),Xt(s.length<=xn,`Transaction too large: ${s.length} > ${xn}`),s}get keys(){return Xt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Xt(this.instructions.length===1),this.instructions[0].programId}get data(){return Xt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],r=Pe(e),i=[];for(let s=0;s<r;s++){let c=Oe(e,0,Ho);i.push(pe.default.encode(at.Buffer.from(c)))}return Zt.populate(He.from(e),i)}static populate(t,e=[]){let r=new Zt;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((i,s)=>{let c={signature:i==pe.default.encode(td)?null:pe.default.decode(i),publicKey:t.accountKeys[s]};r.signatures.push(c)}),t.instructions.forEach(i=>{let s=i.accounts.map(c=>{let p=t.accountKeys[c];return{pubkey:p,isSigner:r.signatures.some(y=>y.publicKey.toString()===p.toString())||t.isAccountSigner(c),isWritable:t.isAccountWritable(c)}});r.instructions.push(new re({keys:s,programId:t.accountKeys[i.programIdIndex],data:pe.default.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}},Vn=class{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Xt(e.length===t.header.numRequiredSignatures,\"Expected signatures length to be equal to the number of required signatures\"),this.signatures=e;else{let r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(Ho));this.signatures=r}this.message=t}serialize(){let t=this.message.serialize(),e=Array();Ce(e,this.signatures.length);let r=S.struct([S.blob(e.length,\"encodedSignaturesLength\"),S.seq(j0(),this.signatures.length,\"signatures\"),S.blob(t.length,\"serializedMessage\")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let e=[...t],r=[],i=Pe(e);for(let c=0;c<i;c++)r.push(new Uint8Array(Oe(e,0,Ho)));let s=Bf.deserialize(new Uint8Array(e));return new Vn(s,r)}sign(t){let e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of t){let s=r.findIndex(c=>c.equals(i.publicKey));Xt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Ta(e,i.secretKey)}}addSignature(t,e){Xt(e.byteLength===64,\"Signature must be 64 bytes long\");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));Xt(i>=0,`Can not add signature; \\`${t.toBase58()}\\` is not required to sign this transaction`),this.signatures[i]=e}},ed=160,rd=64,nd=ed/rd,Ef=1e3/nd,ur=new ot(\"SysvarC1ock11111111111111111111111111111111\"),A1=new ot(\"SysvarEpochSchedu1e111111111111111111111111\"),M1=new ot(\"Sysvar1nstructions1111111111111111111111111\"),ya=new ot(\"SysvarRecentB1ockHashes11111111111111111111\"),Pi=new ot(\"SysvarRent111111111111111111111111111111111\"),L1=new ot(\"SysvarRewards111111111111111111111111111111\"),R1=new ot(\"SysvarS1otHashes111111111111111111111111111\"),T1=new ot(\"SysvarS1otHistory11111111111111111111111111\"),ga=new ot(\"SysvarStakeHistory1111111111111111111111111\"),Ci=class extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:i}){let s=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:\"\",c=\"\\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.\",p;switch(t){case\"send\":p=`Transaction ${e} resulted in an error. \n${r}. `+s+c;break;case\"simulate\":p=`Simulation failed. \nMessage: ${r}. \n`+s+c;break;default:p=`Unknown action '${(y=>y)(t)}'`}super(p),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(!(t!=null&&typeof t==\"object\"&&\"then\"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,e(s)}else r(new Error(\"Log messages not found\"))}).catch(r)})),await this.transactionLogs}},rt=class extends Error{constructor({code:t,message:e,data:r},i){super(i!=null?`${i}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name=\"SolanaJSONRPCError\"}};id=S.nu64(\"lamportsPerSignature\"),_f=S.struct([S.u32(\"version\"),S.u32(\"state\"),$t(\"authorizedPubkey\"),$t(\"nonce\"),S.struct([id],\"feeCalculator\")]),of=_f.span,Oi=class{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let e=_f.decode(Vt(t),0);return new Oi({authorizedPubkey:new ot(e.authorizedPubkey),nonce:new ot(e.nonce).toString(),feeCalculator:e.feeCalculator})}},od=n=>{let t=n.decode.bind(n),e=n.encode.bind(n);return{decode:t,encode:e}},sd=n=>t=>{let e=(0,bf.blob)(n,t),{encode:r,decode:i}=od(e),s=e;return s.decode=(c,p)=>{let y=i(c,p);return(0,qi.toBigIntLE)(at.Buffer.from(y))},s.encode=(c,p,y)=>{let v=(0,qi.toBufferLE)(c,n);return r(v,p,y)},s},Gn=sd(8),ze=Object.freeze({Create:{index:0,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"lamports\"),S.ns64(\"space\"),$t(\"programId\")])},Assign:{index:1,layout:S.struct([S.u32(\"instruction\"),$t(\"programId\")])},Transfer:{index:2,layout:S.struct([S.u32(\"instruction\"),Gn(\"lamports\")])},CreateWithSeed:{index:3,layout:S.struct([S.u32(\"instruction\"),$t(\"base\"),Wn(\"seed\"),S.ns64(\"lamports\"),S.ns64(\"space\"),$t(\"programId\")])},AdvanceNonceAccount:{index:4,layout:S.struct([S.u32(\"instruction\")])},WithdrawNonceAccount:{index:5,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"lamports\")])},InitializeNonceAccount:{index:6,layout:S.struct([S.u32(\"instruction\"),$t(\"authorized\")])},AuthorizeNonceAccount:{index:7,layout:S.struct([S.u32(\"instruction\"),$t(\"authorized\")])},Allocate:{index:8,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"space\")])},AllocateWithSeed:{index:9,layout:S.struct([S.u32(\"instruction\"),$t(\"base\"),Wn(\"seed\"),S.ns64(\"space\"),$t(\"programId\")])},AssignWithSeed:{index:10,layout:S.struct([S.u32(\"instruction\"),$t(\"base\"),Wn(\"seed\"),$t(\"programId\")])},TransferWithSeed:{index:11,layout:S.struct([S.u32(\"instruction\"),Gn(\"lamports\"),Wn(\"seed\"),$t(\"programId\")])},UpgradeNonceAccount:{index:12,layout:S.struct([S.u32(\"instruction\")])}}),ye=class{constructor(){}static createAccount(t){let e=ze.Create,r=Gt(e,{lamports:t.lamports,space:t.space,programId:Vt(t.programId.toBuffer())});return new re({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if(\"basePubkey\"in t){let i=ze.TransferWithSeed;e=Gt(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Vt(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ze.Transfer;e=Gt(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new re({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if(\"basePubkey\"in t){let i=ze.AssignWithSeed;e=Gt(i,{base:Vt(t.basePubkey.toBuffer()),seed:t.seed,programId:Vt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ze.Assign;e=Gt(i,{programId:Vt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new re({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=ze.CreateWithSeed,r=Gt(e,{base:Vt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Vt(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new re({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){let e=new Zt;\"basePubkey\"in t&&\"seed\"in t?e.add(ye.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:of,programId:this.programId})):e.add(ye.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:of,programId:this.programId}));let r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){let e=ze.InitializeNonceAccount,r=Gt(e,{authorized:Vt(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:Pi,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new re(i)}static nonceAdvance(t){let e=ze.AdvanceNonceAccount,r=Gt(e),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new re(i)}static nonceWithdraw(t){let e=ze.WithdrawNonceAccount,r=Gt(e,{lamports:t.lamports});return new re({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:Pi,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){let e=ze.AuthorizeNonceAccount,r=Gt(e,{authorized:Vt(t.newAuthorizedPubkey.toBuffer())});return new re({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if(\"basePubkey\"in t){let i=ze.AllocateWithSeed;e=Gt(i,{base:Vt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Vt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ze.Allocate;e=Gt(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new re({keys:r,programId:this.programId,data:e})}};ye.programId=new ot(\"11111111111111111111111111111111\");ad=xn-300,Zn=class{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Zn.chunkSize)+1+1)}static async load(t,e,r,i,s){{let k=await t.getMinimumBalanceForRentExemption(s.length),_=await t.getAccountInfo(r.publicKey,\"confirmed\"),B=null;if(_!==null){if(_.executable)return console.error(\"Program load failed, account is already executable\"),!1;_.data.length!==s.length&&(B=B||new Zt,B.add(ye.allocate({accountPubkey:r.publicKey,space:s.length}))),_.owner.equals(i)||(B=B||new Zt,B.add(ye.assign({accountPubkey:r.publicKey,programId:i}))),_.lamports<k&&(B=B||new Zt,B.add(ye.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:k-_.lamports})))}else B=new Zt().add(ye.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:k>0?k:1,space:s.length,programId:i}));B!==null&&await nf(t,B,[e,r],{commitment:\"confirmed\"})}let c=S.struct([S.u32(\"instruction\"),S.u32(\"offset\"),S.u32(\"bytesLength\"),S.u32(\"bytesLengthPadding\"),S.seq(S.u8(\"byte\"),S.offset(S.u32(),-8),\"bytes\")]),p=Zn.chunkSize,y=0,v=s,x=[];for(;v.length>0;){let k=v.slice(0,p),_=at.Buffer.alloc(p+16);c.encode({instruction:0,offset:y,bytes:k,bytesLength:0,bytesLengthPadding:0},_);let B=new Zt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:_});x.push(nf(t,B,[e,r],{commitment:\"confirmed\"})),t._rpcEndpoint.includes(\"solana.com\")&&await bn(1e3/4),y+=p,v=v.slice(p)}await Promise.all(x);{let k=S.struct([S.u32(\"instruction\")]),_=at.Buffer.alloc(k.span);k.encode({instruction:1},_);let B=new Zt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Pi,isSigner:!1,isWritable:!1}],programId:i,data:_}),P=\"processed\",I=await t.sendTransaction(B,[e,r],{preflightCommitment:P}),{context:E,value:O}=await t.confirmTransaction({signature:I,lastValidBlockHeight:B.lastValidBlockHeight,blockhash:B.recentBlockhash},P);if(O.err)throw new Error(`Transaction ${I} failed (${JSON.stringify(O)})`);for(;;){try{if(await t.getSlot({commitment:P})>E.slot)break}catch{}await new Promise(K=>setTimeout(K,Math.round(Ef/2)))}}return!0}};Zn.chunkSize=ad;P1=new ot(\"BPFLoader2111111111111111111111111111111111\");cd=Object.prototype.toString,fd=Object.keys||function(n){var t=[];for(var e in n)t.push(e);return t};hd=function(n){var t=Ti(n,!1);if(t!==void 0)return\"\"+t},sf=ud(hd),Mi=32;Ea=class{constructor(t,e,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){let e=ma(ld(t+Mi+1))-ma(Mi)-1,r=this.getSlotsInEpoch(e),i=t-(r-Mi);return[e,i]}else{let e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=e%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Mi:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+ma(Mi)):this.slotsPerEpoch}},dd=globalThis.fetch,_a=class extends Cc{constructor(t,e,r){let i=s=>{let c=Pc(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return\"socket\"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(i,t,e,r),this.underlyingSocket=void 0}call(...t){let e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error(\"Tried to call a JSON-RPC method `\"+t[0]+\"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was \"+e+\")\"))}notify(...t){let e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error(\"Tried to send a JSON-RPC notification `\"+t[0]+\"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was \"+e+\")\"))}};af=56,Go=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt(\"0xffffffffffffffff\");return this.state.deactivationSlot===t}static deserialize(t){let e=pd(yd,t),r=t.length-af;Xt(r>=0,\"lookup table is invalid\"),Xt(r%32===0,\"lookup table is invalid\");let i=r/32,{addresses:s}=S.struct([S.seq($t(),i,\"addresses\")]).decode(t.slice(af));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new ot(e.authority[0]):void 0,addresses:s.map(c=>new ot(c))}}},yd={index:1,layout:S.struct([S.u32(\"typeIndex\"),Gn(\"deactivationSlot\"),S.nu64(\"lastExtendedSlot\"),S.u8(\"lastExtendedStartIndex\"),S.u8(),S.seq($t(),S.offset(S.u8(),-1),\"authority\")])},gd=/^[^:]+:\\/\\/([^:[]+|\\[[^\\]]+\\])(:\\d+)?(.*)/i;ae=Kn(Ro(ot),H(),n=>new ot(n)),If=To([H(),se(\"base64\")]),Ca=Kn(Ro(at.Buffer),If,n=>at.Buffer.from(n[0],\"base64\")),wd=30*1e3;vd=Af(wn());xd=q({foundation:A(),foundationTerm:A(),initial:A(),taper:A(),terminal:A()}),kd=Ht(Z(j(q({epoch:A(),effectiveSlot:A(),amount:A(),postBalance:A(),commission:it(j(A()))})))),Sd=Z(q({slot:A(),prioritizationFee:A()})),Bd=q({total:A(),validator:A(),foundation:A(),epoch:A()}),Ed=q({epoch:A(),slotIndex:A(),slotsInEpoch:A(),absoluteSlot:A(),blockHeight:it(A()),transactionCount:it(A())}),_d=q({slotsPerEpoch:A(),leaderScheduleSlotOffset:A(),warmup:We(),firstNormalEpoch:A(),firstNormalSlot:A()}),Id=ta(H(),Z(A())),Bn=j(be([q({}),H()])),Ad=q({err:Bn}),Md=se(\"receivedSignature\"),Ld=q({\"solana-core\":H(),\"feature-set\":it(A())}),Rd=q({program:H(),programId:ae,parsed:wn()}),Td=q({programId:ae,accounts:Z(ae),data:H()}),cf=ce(q({err:j(be([q({}),H()])),logs:j(Z(H())),accounts:it(j(Z(j(q({executable:We(),owner:H(),lamports:A(),data:Z(H()),rentEpoch:it(A())}))))),unitsConsumed:it(A()),returnData:it(j(q({programId:H(),data:To([H(),se(\"base64\")])}))),innerInstructions:it(j(Z(q({index:A(),instructions:Z(be([Rd,Td]))}))))})),Pd=ce(q({byIdentity:ta(H(),Z(A())),range:q({firstSlot:A(),lastSlot:A()})}));Nd=Ht(xd),zd=Ht(Bd),qd=Ht(Sd),Fd=Ht(Ed),Kd=Ht(_d),Dd=Ht(Id),Wd=Ht(A()),Hd=ce(q({total:A(),circulating:A(),nonCirculating:A(),nonCirculatingAccounts:Z(ae)})),Ia=q({amount:H(),uiAmount:j(A()),decimals:A(),uiAmountString:it(H())}),$d=ce(Z(q({address:ae,amount:H(),uiAmount:j(A()),decimals:A(),uiAmountString:it(H())}))),Vd=ce(Z(q({pubkey:ae,account:q({executable:We(),owner:ae,lamports:A(),data:Ca,rentEpoch:A()})}))),Aa=q({program:H(),parsed:wn(),space:A()}),Gd=ce(Z(q({pubkey:ae,account:q({executable:We(),owner:ae,lamports:A(),data:Aa,rentEpoch:A()})}))),Zd=ce(Z(q({lamports:A(),address:ae}))),Ui=q({executable:We(),owner:ae,lamports:A(),data:Ca,rentEpoch:A()}),jd=q({pubkey:ae,account:Ui}),Yd=Kn(be([Ro(at.Buffer),Aa]),be([If,Aa]),n=>Array.isArray(n)?$(n,Ca):n),Ma=q({executable:We(),owner:ae,lamports:A(),data:Yd,rentEpoch:A()}),Jd=q({pubkey:ae,account:Ma}),Xd=q({state:be([se(\"active\"),se(\"inactive\"),se(\"activating\"),se(\"deactivating\")]),active:A(),inactive:A()}),Qd=Ht(Z(q({signature:H(),slot:A(),err:Bn,memo:j(H()),blockTime:it(j(A()))}))),tp=Ht(Z(q({signature:H(),slot:A(),err:Bn,memo:j(H()),blockTime:it(j(A()))}))),ep=q({subscription:A(),result:Jo(Ui)}),rp=q({pubkey:ae,account:Ui}),np=q({subscription:A(),result:Jo(rp)}),ip=q({parent:A(),slot:A(),root:A()}),op=q({subscription:A(),result:ip}),sp=be([q({type:be([se(\"firstShredReceived\"),se(\"completed\"),se(\"optimisticConfirmation\"),se(\"root\")]),slot:A(),timestamp:A()}),q({type:se(\"createdBank\"),parent:A(),slot:A(),timestamp:A()}),q({type:se(\"frozen\"),slot:A(),timestamp:A(),stats:q({numTransactionEntries:A(),numSuccessfulTransactions:A(),numFailedTransactions:A(),maxTransactionsPerEntry:A()})}),q({type:se(\"dead\"),slot:A(),timestamp:A(),err:H()})]),ap=q({subscription:A(),result:sp}),up=q({subscription:A(),result:Jo(be([Ad,Md]))}),cp=q({subscription:A(),result:A()}),fp=q({pubkey:H(),gossip:j(H()),tpu:j(H()),rpc:j(H()),version:j(H())}),ff=q({votePubkey:H(),nodePubkey:H(),activatedStake:A(),epochVoteAccount:We(),epochCredits:Z(To([A(),A(),A()])),commission:A(),lastVote:A(),rootSlot:j(A())}),hp=Ht(q({current:Z(ff),delinquent:Z(ff)})),lp=be([se(\"processed\"),se(\"confirmed\"),se(\"finalized\")]),dp=q({slot:A(),confirmations:j(A()),err:Bn,confirmationStatus:it(lp)}),pp=ce(Z(j(dp))),yp=Ht(A()),Mf=q({accountKey:ae,writableIndexes:Z(A()),readonlyIndexes:Z(A())}),Oa=q({signatures:Z(H()),message:q({accountKeys:Z(H()),header:q({numRequiredSignatures:A(),numReadonlySignedAccounts:A(),numReadonlyUnsignedAccounts:A()}),instructions:Z(q({accounts:Z(A()),data:H(),programIdIndex:A()})),recentBlockhash:H(),addressTableLookups:it(Z(Mf))})}),Lf=q({pubkey:ae,signer:We(),writable:We(),source:it(be([se(\"transaction\"),se(\"lookupTable\")]))}),Rf=q({accountKeys:Z(Lf),signatures:Z(H())}),Tf=q({parsed:wn(),program:H(),programId:ae}),Pf=q({accounts:Z(ae),data:H(),programId:ae}),gp=be([Pf,Tf]),mp=be([q({parsed:wn(),program:H(),programId:H()}),q({accounts:Z(H()),data:H(),programId:H()})]),Cf=Kn(gp,mp,n=>\"accounts\"in n?$(n,Pf):$(n,Tf)),Of=q({signatures:Z(H()),message:q({accountKeys:Z(Lf),instructions:Z(Cf),recentBlockhash:H(),addressTableLookups:it(j(Z(Mf)))})}),Zo=q({accountIndex:A(),mint:H(),owner:it(H()),uiTokenAmount:Ia}),Uf=q({writable:Z(ae),readonly:Z(ae)}),Xo=q({err:Bn,fee:A(),innerInstructions:it(j(Z(q({index:A(),instructions:Z(q({accounts:Z(A()),data:H(),programIdIndex:A()}))})))),preBalances:Z(A()),postBalances:Z(A()),logMessages:it(j(Z(H()))),preTokenBalances:it(j(Z(Zo))),postTokenBalances:it(j(Z(Zo))),loadedAddresses:it(Uf),computeUnitsConsumed:it(A())}),Ua=q({err:Bn,fee:A(),innerInstructions:it(j(Z(q({index:A(),instructions:Z(Cf)})))),preBalances:Z(A()),postBalances:Z(A()),logMessages:it(j(Z(H()))),preTokenBalances:it(j(Z(Zo))),postTokenBalances:it(j(Z(Zo))),loadedAddresses:it(Uf),computeUnitsConsumed:it(A())}),Jn=be([se(0),se(\"legacy\")]),En=q({pubkey:H(),lamports:A(),postBalance:j(A()),rewardType:j(H()),commission:it(j(A()))}),wp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),transactions:Z(q({transaction:Oa,meta:j(Xo),version:it(Jn)})),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),bp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),vp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),transactions:Z(q({transaction:Rf,meta:j(Xo),version:it(Jn)})),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),xp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),transactions:Z(q({transaction:Of,meta:j(Ua),version:it(Jn)})),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),kp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),transactions:Z(q({transaction:Rf,meta:j(Ua),version:it(Jn)})),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),Sp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),rewards:it(Z(En)),blockTime:j(A()),blockHeight:j(A())}))),Bp=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),transactions:Z(q({transaction:Oa,meta:j(Xo)})),rewards:it(Z(En)),blockTime:j(A())}))),hf=Ht(j(q({blockhash:H(),previousBlockhash:H(),parentSlot:A(),signatures:Z(H()),blockTime:j(A())}))),ba=Ht(j(q({slot:A(),meta:j(Xo),blockTime:it(j(A())),transaction:Oa,version:it(Jn)}))),Ko=Ht(j(q({slot:A(),transaction:Of,meta:j(Ua),blockTime:it(j(A())),version:it(Jn)}))),Ep=ce(q({blockhash:H(),feeCalculator:q({lamportsPerSignature:A()})})),_p=ce(q({blockhash:H(),lastValidBlockHeight:A()})),Ip=ce(We()),Ap=q({slot:A(),numTransactions:A(),numSlots:A(),samplePeriodSecs:A()}),Mp=Ht(Z(Ap)),Lp=ce(j(q({feeCalculator:q({lamportsPerSignature:A()})}))),Rp=Ht(H()),Tp=Ht(H()),Pp=q({err:Bn,logs:Z(H()),signature:H()}),Cp=q({result:Jo(Pp),subscription:A()}),Op={\"solana-client\":\"js/1.0.0-maintenance\"},jo=class{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let v={};return async x=>{let{commitment:k,config:_}=ne(x),B=this._buildArgs([],k,void 0,_),P=sf(B);return v[P]=v[P]??(async()=>{try{let I=await this._rpcRequest(\"getBlockHeight\",B),E=$(I,Ht(A()));if(\"error\"in E)throw new rt(E.error,\"failed to get block height information\");return E.result}finally{delete v[P]}})(),await v[P]}})();let r,i,s,c,p,y;e&&typeof e==\"string\"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,i=e.httpHeaders,s=e.fetch,c=e.fetchMiddleware,p=e.disableRetryOnRateLimit,y=e.httpAgent),this._rpcEndpoint=bd(t),this._rpcWsEndpoint=r||md(t),this._rpcClient=Cd(t,i,s,c,p,y),this._rpcRequest=Od(this._rpcClient),this._rpcBatchRequest=Ud(this._rpcClient),this._rpcWebSocket=new _a(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on(\"open\",this._wsOnOpen.bind(this)),this._rpcWebSocket.on(\"error\",this._wsOnError.bind(this)),this._rpcWebSocket.on(\"close\",this._wsOnClose.bind(this)),this._rpcWebSocket.on(\"accountNotification\",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on(\"programNotification\",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on(\"slotNotification\",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on(\"slotsUpdatesNotification\",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on(\"signatureNotification\",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on(\"rootNotification\",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on(\"logsNotification\",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgs([t.toBase58()],r,void 0,i),c=await this._rpcRequest(\"getBalance\",s),p=$(c,ce(A()));if(\"error\"in p)throw new rt(p.error,`failed to get balance for ${t.toBase58()}`);return p.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error(\"failed to get balance of account \"+t.toBase58()+\": \"+r)})}async getBlockTime(t){let e=await this._rpcRequest(\"getBlockTime\",[t]),r=$(e,Ht(j(A())));if(\"error\"in r)throw new rt(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){let t=await this._rpcRequest(\"minimumLedgerSlot\",[]),e=$(t,Ht(A()));if(\"error\"in e)throw new rt(e.error,\"failed to get minimum ledger slot\");return e.result}async getFirstAvailableBlock(){let t=await this._rpcRequest(\"getFirstAvailableBlock\",[]),e=$(t,Wd);if(\"error\"in e)throw new rt(e.error,\"failed to get first available block\");return e.result}async getSupply(t){let e={};typeof t==\"string\"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};let r=await this._rpcRequest(\"getSupply\",[e]),i=$(r,Hd);if(\"error\"in i)throw new rt(i.error,\"failed to get supply\");return i.result}async getTokenSupply(t,e){let r=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest(\"getTokenSupply\",r),s=$(i,ce(Ia));if(\"error\"in s)throw new rt(s.error,\"failed to get token supply\");return s.result}async getTokenAccountBalance(t,e){let r=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest(\"getTokenAccountBalance\",r),s=$(i,ce(Ia));if(\"error\"in s)throw new rt(s.error,\"failed to get token account balance\");return s.result}async getTokenAccountsByOwner(t,e,r){let{commitment:i,config:s}=ne(r),c=[t.toBase58()];\"mint\"in e?c.push({mint:e.mint.toBase58()}):c.push({programId:e.programId.toBase58()});let p=this._buildArgs(c,i,\"base64\",s),y=await this._rpcRequest(\"getTokenAccountsByOwner\",p),v=$(y,Vd);if(\"error\"in v)throw new rt(v.error,`failed to get token accounts owned by account ${t.toBase58()}`);return v.result}async getParsedTokenAccountsByOwner(t,e,r){let i=[t.toBase58()];\"mint\"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});let s=this._buildArgs(i,r,\"jsonParsed\"),c=await this._rpcRequest(\"getTokenAccountsByOwner\",s),p=$(c,Gd);if(\"error\"in p)throw new rt(p.error,`failed to get token accounts owned by account ${t.toBase58()}`);return p.result}async getLargestAccounts(t){let e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],i=await this._rpcRequest(\"getLargestAccounts\",r),s=$(i,Zd);if(\"error\"in s)throw new rt(s.error,\"failed to get largest accounts\");return s.result}async getTokenLargestAccounts(t,e){let r=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest(\"getTokenLargestAccounts\",r),s=$(i,$d);if(\"error\"in s)throw new rt(s.error,\"failed to get token largest accounts\");return s.result}async getAccountInfoAndContext(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgs([t.toBase58()],r,\"base64\",i),c=await this._rpcRequest(\"getAccountInfo\",s),p=$(c,ce(j(Ui)));if(\"error\"in p)throw new rt(p.error,`failed to get info about account ${t.toBase58()}`);return p.result}async getParsedAccountInfo(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgs([t.toBase58()],r,\"jsonParsed\",i),c=await this._rpcRequest(\"getAccountInfo\",s),p=$(c,ce(j(Ma)));if(\"error\"in p)throw new rt(p.error,`failed to get info about account ${t.toBase58()}`);return p.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error(\"failed to get info about account \"+t.toBase58()+\": \"+r)}}async getMultipleParsedAccounts(t,e){let{commitment:r,config:i}=ne(e),s=t.map(v=>v.toBase58()),c=this._buildArgs([s],r,\"jsonParsed\",i),p=await this._rpcRequest(\"getMultipleAccounts\",c),y=$(p,ce(Z(j(Ma))));if(\"error\"in y)throw new rt(y.error,`failed to get info for accounts ${s}`);return y.result}async getMultipleAccountsInfoAndContext(t,e){let{commitment:r,config:i}=ne(e),s=t.map(v=>v.toBase58()),c=this._buildArgs([s],r,\"base64\",i),p=await this._rpcRequest(\"getMultipleAccounts\",c),y=$(p,ce(Z(j(Ui))));if(\"error\"in y)throw new rt(y.error,`failed to get info for accounts ${s}`);return y.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){let{commitment:i,config:s}=ne(e),c=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),p=await this._rpcRequest(\"getStakeActivation\",c),y=$(p,Ht(Xd));if(\"error\"in y)throw new rt(y.error,`failed to get Stake Activation ${t.toBase58()}`);return y.result}async getProgramAccounts(t,e){let{commitment:r,config:i}=ne(e),{encoding:s,...c}=i||{},p=this._buildArgs([t.toBase58()],r,s||\"base64\",{...c,...c.filters?{filters:uf(c.filters)}:null}),y=await this._rpcRequest(\"getProgramAccounts\",p),v=Z(jd),x=c.withContext===!0?$(y,ce(v)):$(y,Ht(v));if(\"error\"in x)throw new rt(x.error,`failed to get accounts owned by program ${t.toBase58()}`);return x.result}async getParsedProgramAccounts(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgs([t.toBase58()],r,\"jsonParsed\",i),c=await this._rpcRequest(\"getProgramAccounts\",s),p=$(c,Ht(Z(Jd)));if(\"error\"in p)throw new rt(p.error,`failed to get accounts owned by program ${t.toBase58()}`);return p.result}async confirmTransaction(t,e){let r;if(typeof t==\"string\")r=t;else{let s=t;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=pe.default.decode(r)}catch{throw new Error(\"signature must be base58 encoded: \"+r)}return Xt(i.length===64,\"signature has invalid length\"),typeof t==\"string\"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):\"lastValidBlockHeight\"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener(\"abort\",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,i,s=!1,c=new Promise((y,v)=>{try{r=this.onSignature(e,(k,_)=>{r=void 0;let B={context:_,value:k};y({__type:Rr.PROCESSED,response:B})},t);let x=new Promise(k=>{r==null?k():i=this._onSubscriptionStateChange(r,_=>{_===\"subscribed\"&&k()})});(async()=>{if(await x,s)return;let k=await this.getSignatureStatus(e);if(s||k==null)return;let{context:_,value:B}=k;if(B!=null)if(B?.err)v(B.err);else{switch(t){case\"confirmed\":case\"single\":case\"singleGossip\":{if(B.confirmationStatus===\"processed\")return;break}case\"finalized\":case\"max\":case\"root\":{if(B.confirmationStatus===\"processed\"||B.confirmationStatus===\"confirmed\")return;break}case\"processed\":case\"recent\":}s=!0,y({__type:Rr.PROCESSED,response:{context:_,value:B}})}})()}catch(x){v(x)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:i}}){let s=!1,c=new Promise(k=>{let _=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let B=await _();if(!s){for(;B<=r;)if(await bn(1e3),s||(B=await _(),s))return;k({__type:Rr.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:p,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),v=this.getCancellationPromise(e),x;try{let k=await Promise.race([v,y,c]);if(k.__type===Rr.PROCESSED)x=k.response;else throw new $o(i)}finally{s=!0,p()}return x}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:c}}){let p=!1,y=new Promise(B=>{let P=s,I=null,E=async()=>{try{let{context:O,value:K}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return I=O.slot,K?.nonce}catch{return P}};(async()=>{if(P=await E(),!p)for(;;){if(s!==P){B({__type:Rr.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await bn(2e3),p||(P=await E(),p))return}})()}),{abortConfirmation:v,confirmationPromise:x}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),k=this.getCancellationPromise(e),_;try{let B=await Promise.race([k,x,y]);if(B.__type===Rr.PROCESSED)_=B.response;else{let P;for(;;){let I=await this.getSignatureStatus(c);if(I==null)break;if(I.context.slot<(B.slotInWhichNonceDidAdvance??r)){await bn(400);continue}P=I;break}if(P?.value){let I=t||\"finalized\",{confirmationStatus:E}=P.value;switch(I){case\"processed\":case\"recent\":if(E!==\"processed\"&&E!==\"confirmed\"&&E!==\"finalized\")throw new vn(c);break;case\"confirmed\":case\"single\":case\"singleGossip\":if(E!==\"confirmed\"&&E!==\"finalized\")throw new vn(c);break;case\"finalized\":case\"max\":case\"root\":if(E!==\"finalized\")throw new vn(c);break;default:(O=>{})(I)}_={context:P.context,value:{err:P.value.err}}}else throw new vn(c)}}finally{p=!0,v()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r,i=new Promise(y=>{let v=this._confirmTransactionInitialTimeout||6e4;switch(t){case\"processed\":case\"recent\":case\"single\":case\"confirmed\":case\"singleGossip\":{v=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>y({__type:Rr.TIMED_OUT,timeoutMs:v}),v)}),{abortConfirmation:s,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:e}),p;try{let y=await Promise.race([c,i]);if(y.__type===Rr.PROCESSED)p=y.response;else throw new Vo(e,y.timeoutMs/1e3)}finally{clearTimeout(r),s()}return p}async getClusterNodes(){let t=await this._rpcRequest(\"getClusterNodes\",[]),e=$(t,Ht(Z(fp)));if(\"error\"in e)throw new rt(e.error,\"failed to get cluster nodes\");return e.result}async getVoteAccounts(t){let e=this._buildArgs([],t),r=await this._rpcRequest(\"getVoteAccounts\",e),i=$(r,hp);if(\"error\"in i)throw new rt(i.error,\"failed to get vote accounts\");return i.result}async getSlot(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,void 0,r),s=await this._rpcRequest(\"getSlot\",i),c=$(s,Ht(A()));if(\"error\"in c)throw new rt(c.error,\"failed to get slot\");return c.result}async getSlotLeader(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,void 0,r),s=await this._rpcRequest(\"getSlotLeader\",i),c=$(s,Ht(H()));if(\"error\"in c)throw new rt(c.error,\"failed to get slot leader\");return c.result}async getSlotLeaders(t,e){let r=[t,e],i=await this._rpcRequest(\"getSlotLeaders\",r),s=$(i,Ht(Z(ae)));if(\"error\"in s)throw new rt(s.error,\"failed to get slot leaders\");return s.result}async getSignatureStatus(t,e){let{context:r,value:i}=await this.getSignatureStatuses([t],e);Xt(i.length===1);let s=i[0];return{context:r,value:s}}async getSignatureStatuses(t,e){let r=[t];e&&r.push(e);let i=await this._rpcRequest(\"getSignatureStatuses\",r),s=$(i,pp);if(\"error\"in s)throw new rt(s.error,\"failed to get signature status\");return s.result}async getTransactionCount(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,void 0,r),s=await this._rpcRequest(\"getTransactionCount\",i),c=$(s,Ht(A()));if(\"error\"in c)throw new rt(c.error,\"failed to get transaction count\");return c.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){let e=this._buildArgs([],t),r=await this._rpcRequest(\"getInflationGovernor\",e),i=$(r,Nd);if(\"error\"in i)throw new rt(i.error,\"failed to get inflation\");return i.result}async getInflationReward(t,e,r){let{commitment:i,config:s}=ne(r),c=this._buildArgs([t.map(v=>v.toBase58())],i,void 0,{...s,epoch:e??s?.epoch}),p=await this._rpcRequest(\"getInflationReward\",c),y=$(p,kd);if(\"error\"in y)throw new rt(y.error,\"failed to get inflation reward\");return y.result}async getInflationRate(){let t=await this._rpcRequest(\"getInflationRate\",[]),e=$(t,zd);if(\"error\"in e)throw new rt(e.error,\"failed to get inflation rate\");return e.result}async getEpochInfo(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,void 0,r),s=await this._rpcRequest(\"getEpochInfo\",i),c=$(s,Fd);if(\"error\"in c)throw new rt(c.error,\"failed to get epoch info\");return c.result}async getEpochSchedule(){let t=await this._rpcRequest(\"getEpochSchedule\",[]),e=$(t,Kd);if(\"error\"in e)throw new rt(e.error,\"failed to get epoch schedule\");let r=e.result;return new Ea(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let t=await this._rpcRequest(\"getLeaderSchedule\",[]),e=$(t,Dd);if(\"error\"in e)throw new rt(e.error,\"failed to get leader schedule\");return e.result}async getMinimumBalanceForRentExemption(t,e){let r=this._buildArgs([t],e),i=await this._rpcRequest(\"getMinimumBalanceForRentExemption\",r),s=$(i,yp);return\"error\"in s?(console.warn(\"Unable to fetch minimum balance for rent exemption\"),0):s.result}async getRecentBlockhashAndContext(t){let e=this._buildArgs([],t),r=await this._rpcRequest(\"getRecentBlockhash\",e),i=$(r,Ep);if(\"error\"in i)throw new rt(i.error,\"failed to get recent blockhash\");return i.result}async getRecentPerformanceSamples(t){let e=await this._rpcRequest(\"getRecentPerformanceSamples\",t?[t]:[]),r=$(e,Mp);if(\"error\"in r)throw new rt(r.error,\"failed to get recent performance samples\");return r.result}async getFeeCalculatorForBlockhash(t,e){let r=this._buildArgs([t],e),i=await this._rpcRequest(\"getFeeCalculatorForBlockhash\",r),s=$(i,Lp);if(\"error\"in s)throw new rt(s.error,\"failed to get fee calculator\");let{context:c,value:p}=s.result;return{context:c,value:p!==null?p.feeCalculator:null}}async getFeeForMessage(t,e){let r=Vt(t.serialize()).toString(\"base64\"),i=this._buildArgs([r],e),s=await this._rpcRequest(\"getFeeForMessage\",i),c=$(s,ce(j(A())));if(\"error\"in c)throw new rt(c.error,\"failed to get fee for message\");if(c.result===null)throw new Error(\"invalid blockhash\");return c.result}async getRecentPrioritizationFees(t){let e=t?.lockedWritableAccounts?.map(c=>c.toBase58()),r=e?.length?[e]:[],i=await this._rpcRequest(\"getRecentPrioritizationFees\",r),s=$(i,qd);if(\"error\"in s)throw new rt(s.error,\"failed to get recent prioritization fees\");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error(\"failed to get recent blockhash: \"+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error(\"failed to get recent blockhash: \"+e)}}async getLatestBlockhashAndContext(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,void 0,r),s=await this._rpcRequest(\"getLatestBlockhash\",i),c=$(s,_p);if(\"error\"in c)throw new rt(c.error,\"failed to get latest blockhash\");return c.result}async isBlockhashValid(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgs([t],r,void 0,i),c=await this._rpcRequest(\"isBlockhashValid\",s),p=$(c,Ip);if(\"error\"in p)throw new rt(p.error,\"failed to determine if the blockhash `\"+t+\"`is valid\");return p.result}async getVersion(){let t=await this._rpcRequest(\"getVersion\",[]),e=$(t,Ht(Ld));if(\"error\"in e)throw new rt(e.error,\"failed to get version\");return e.result}async getGenesisHash(){let t=await this._rpcRequest(\"getGenesisHash\",[]),e=$(t,Ht(H()));if(\"error\"in e)throw new rt(e.error,\"failed to get genesis hash\");return e.result}async getBlock(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgsAtLeastConfirmed([t],r,void 0,i),c=await this._rpcRequest(\"getBlock\",s);try{switch(i?.transactionDetails){case\"accounts\":{let p=$(c,vp);if(\"error\"in p)throw p.error;return p.result}case\"none\":{let p=$(c,bp);if(\"error\"in p)throw p.error;return p.result}default:{let p=$(c,wp);if(\"error\"in p)throw p.error;let{result:y}=p;return y?{...y,transactions:y.transactions.map(({transaction:v,meta:x,version:k})=>({meta:x,transaction:{...v,message:wa(k,v.message)},version:k}))}:null}}}catch(p){throw new rt(p,\"failed to get confirmed block\")}}async getParsedBlock(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgsAtLeastConfirmed([t],r,\"jsonParsed\",i),c=await this._rpcRequest(\"getBlock\",s);try{switch(i?.transactionDetails){case\"accounts\":{let p=$(c,kp);if(\"error\"in p)throw p.error;return p.result}case\"none\":{let p=$(c,Sp);if(\"error\"in p)throw p.error;return p.result}default:{let p=$(c,xp);if(\"error\"in p)throw p.error;return p.result}}}catch(p){throw new rt(p,\"failed to get block\")}}async getBlockProduction(t){let e,r;if(typeof t==\"string\")r=t;else if(t){let{commitment:p,...y}=t;r=p,e=y}let i=this._buildArgs([],r,\"base64\",e),s=await this._rpcRequest(\"getBlockProduction\",i),c=$(s,Pd);if(\"error\"in c)throw new rt(c.error,\"failed to get block production information\");return c.result}async getTransaction(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgsAtLeastConfirmed([t],r,void 0,i),c=await this._rpcRequest(\"getTransaction\",s),p=$(c,ba);if(\"error\"in p)throw new rt(p.error,\"failed to get transaction\");let y=p.result;return y&&{...y,transaction:{...y.transaction,message:wa(y.version,y.transaction.message)}}}async getParsedTransaction(t,e){let{commitment:r,config:i}=ne(e),s=this._buildArgsAtLeastConfirmed([t],r,\"jsonParsed\",i),c=await this._rpcRequest(\"getTransaction\",s),p=$(c,Ko);if(\"error\"in p)throw new rt(p.error,\"failed to get transaction\");return p.result}async getParsedTransactions(t,e){let{commitment:r,config:i}=ne(e),s=t.map(y=>({methodName:\"getTransaction\",args:this._buildArgsAtLeastConfirmed([y],r,\"jsonParsed\",i)}));return(await this._rpcBatchRequest(s)).map(y=>{let v=$(y,Ko);if(\"error\"in v)throw new rt(v.error,\"failed to get transactions\");return v.result})}async getTransactions(t,e){let{commitment:r,config:i}=ne(e),s=t.map(y=>({methodName:\"getTransaction\",args:this._buildArgsAtLeastConfirmed([y],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(y=>{let v=$(y,ba);if(\"error\"in v)throw new rt(v.error,\"failed to get transactions\");let x=v.result;return x&&{...x,transaction:{...x.transaction,message:wa(x.version,x.transaction.message)}}})}async getConfirmedBlock(t,e){let r=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest(\"getConfirmedBlock\",r),s=$(i,Bp);if(\"error\"in s)throw new rt(s.error,\"failed to get confirmed block\");let c=s.result;if(!c)throw new Error(\"Confirmed block \"+t+\" not found\");let p={...c,transactions:c.transactions.map(({transaction:y,meta:v})=>{let x=new He(y.message);return{meta:v,transaction:{...y,message:x}}})};return{...p,transactions:p.transactions.map(({transaction:y,meta:v})=>({meta:v,transaction:Zt.populate(y.message,y.signatures)}))}}async getBlocks(t,e,r){let i=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),s=await this._rpcRequest(\"getBlocks\",i),c=$(s,Ht(Z(A())));if(\"error\"in c)throw new rt(c.error,\"failed to get blocks\");return c.result}async getBlockSignatures(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:\"signatures\",rewards:!1}),i=await this._rpcRequest(\"getBlock\",r),s=$(i,hf);if(\"error\"in s)throw new rt(s.error,\"failed to get block\");let c=s.result;if(!c)throw new Error(\"Block \"+t+\" not found\");return c}async getConfirmedBlockSignatures(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:\"signatures\",rewards:!1}),i=await this._rpcRequest(\"getConfirmedBlock\",r),s=$(i,hf);if(\"error\"in s)throw new rt(s.error,\"failed to get confirmed block\");let c=s.result;if(!c)throw new Error(\"Confirmed block \"+t+\" not found\");return c}async getConfirmedTransaction(t,e){let r=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest(\"getConfirmedTransaction\",r),s=$(i,ba);if(\"error\"in s)throw new rt(s.error,\"failed to get transaction\");let c=s.result;if(!c)return c;let p=new He(c.transaction.message),y=c.transaction.signatures;return{...c,transaction:Zt.populate(p,y)}}async getParsedConfirmedTransaction(t,e){let r=this._buildArgsAtLeastConfirmed([t],e,\"jsonParsed\"),i=await this._rpcRequest(\"getConfirmedTransaction\",r),s=$(i,Ko);if(\"error\"in s)throw new rt(s.error,\"failed to get confirmed transaction\");return s.result}async getParsedConfirmedTransactions(t,e){let r=t.map(c=>({methodName:\"getConfirmedTransaction\",args:this._buildArgsAtLeastConfirmed([c],e,\"jsonParsed\")}));return(await this._rpcBatchRequest(r)).map(c=>{let p=$(c,Ko);if(\"error\"in p)throw new rt(p.error,\"failed to get confirmed transactions\");return p.result})}async getConfirmedSignaturesForAddress(t,e,r){let i={},s=await this.getFirstAvailableBlock();for(;!(\"until\"in i)&&(e--,!(e<=0||e<s));)try{let y=await this.getConfirmedBlockSignatures(e,\"finalized\");y.signatures.length>0&&(i.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes(\"skipped\"))continue;throw y}let c=await this.getSlot(\"finalized\");for(;!(\"before\"in i)&&(r++,!(r>c));)try{let y=await this.getConfirmedBlockSignatures(r);y.signatures.length>0&&(i.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes(\"skipped\"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(t,e,r){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),s=await this._rpcRequest(\"getConfirmedSignaturesForAddress2\",i),c=$(s,Qd);if(\"error\"in c)throw new rt(c.error,\"failed to get confirmed signatures for address\");return c.result}async getSignaturesForAddress(t,e,r){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),s=await this._rpcRequest(\"getSignaturesForAddress\",i),c=$(s,tp);if(\"error\"in c)throw new rt(c.error,\"failed to get signatures for address\");return c.result}async getAddressLookupTable(t,e){let{context:r,value:i}=await this.getAccountInfoAndContext(t,e),s=null;return i!==null&&(s=new Go({key:t,state:Go.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(t,e){let{context:r,value:i}=await this.getAccountInfoAndContext(t,e),s=null;return i!==null&&(s=Oi.fromAccountData(i.data)),{context:r,value:s}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error(\"failed to get nonce for account \"+t.toBase58()+\": \"+r)})}async requestAirdrop(t,e){let r=await this._rpcRequest(\"requestAirdrop\",[t.toBase58(),e]),i=$(r,Rp);if(\"error\"in i)throw new rt(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await bn(100);let r=Date.now()-this._blockhashInfo.lastFetch>=wd;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash(\"finalized\");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await bn(Ef/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){let{commitment:e,config:r}=ne(t),i=this._buildArgs([],e,\"base64\",r),s=await this._rpcRequest(\"getStakeMinimumDelegation\",i),c=$(s,ce(A()));if(\"error\"in c)throw new rt(c.error,\"failed to get stake minimum delegation\");return c.result}async simulateTransaction(t,e,r){if(\"message\"in t){let I=t.serialize(),E=at.Buffer.from(I).toString(\"base64\");if(Array.isArray(e)||r!==void 0)throw new Error(\"Invalid arguments\");let O=e||{};O.encoding=\"base64\",\"commitment\"in O||(O.commitment=this.commitment),e&&typeof e==\"object\"&&\"innerInstructions\"in e&&(O.innerInstructions=e.innerInstructions);let K=[E,O],N=await this._rpcRequest(\"simulateTransaction\",K),D=$(N,cf);if(\"error\"in D)throw new Error(\"failed to simulate transaction: \"+D.error.message);return D.result}let i;if(t instanceof Zt){let P=t;i=new Zt,i.feePayer=P.feePayer,i.instructions=t.instructions,i.nonceInfo=P.nonceInfo,i.signatures=P.signatures}else i=Zt.populate(t),i._message=i._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error(\"Invalid arguments\");let s=e;if(i.nonceInfo&&s)i.sign(...s);else{let P=this._disableBlockhashCaching;for(;;){let I=await this._blockhashWithExpiryBlockHeight(P);if(i.lastValidBlockHeight=I.lastValidBlockHeight,i.recentBlockhash=I.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error(\"!signature\");let E=i.signature.toString(\"base64\");if(!this._blockhashInfo.simulatedSignatures.includes(E)&&!this._blockhashInfo.transactionSignatures.includes(E)){this._blockhashInfo.simulatedSignatures.push(E);break}else P=!0}}let c=i._compile(),p=c.serialize(),v=i._serialize(p).toString(\"base64\"),x={encoding:\"base64\",commitment:this.commitment};if(r){let P=(Array.isArray(r)?r:c.nonProgramIds()).map(I=>I.toBase58());x.accounts={encoding:\"base64\",addresses:P}}s&&(x.sigVerify=!0),e&&typeof e==\"object\"&&\"innerInstructions\"in e&&(x.innerInstructions=e.innerInstructions);let k=[v,x],_=await this._rpcRequest(\"simulateTransaction\",k),B=$(_,cf);if(\"error\"in B){let P;if(\"data\"in B.error&&(P=B.error.data.logs,P&&Array.isArray(P))){let I=`\n    `,E=I+P.join(I);console.error(B.error.message,E)}throw new Ci({action:\"simulate\",signature:\"\",transactionMessage:B.error.message,logs:P})}return B.result}async sendTransaction(t,e,r){if(\"version\"in t){if(e&&Array.isArray(e))throw new Error(\"Invalid arguments\");let c=t.serialize();return await this.sendRawTransaction(c,e)}if(e===void 0||!Array.isArray(e))throw new Error(\"Invalid arguments\");let i=e;if(t.nonceInfo)t.sign(...i);else{let c=this._disableBlockhashCaching;for(;;){let p=await this._blockhashWithExpiryBlockHeight(c);if(t.lastValidBlockHeight=p.lastValidBlockHeight,t.recentBlockhash=p.blockhash,t.sign(...i),!t.signature)throw new Error(\"!signature\");let y=t.signature.toString(\"base64\");if(this._blockhashInfo.transactionSignatures.includes(y))c=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}let s=t.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(t,e){let r=Vt(t).toString(\"base64\");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){let r={encoding:\"base64\"},i=e&&e.skipPreflight,s=i===!0?\"processed\":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);let c=[t,r],p=await this._rpcRequest(\"sendTransaction\",c),y=$(p,Tp);if(\"error\"in y){let v;throw\"data\"in y.error&&(v=y.error.data.logs),new Ci({action:i?\"send\":\"simulate\",signature:\"\",transactionMessage:y.error.message,logs:v})}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify(\"ping\")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error(\"ws error:\",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:\"pending\"})})}_setSubscription(t,e){let r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){let i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){let r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(e),()=>{i.delete(e),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{let i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case\"pending\":case\"unsubscribed\":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state===\"unsubscribed\"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:c}=i;try{this._setSubscription(r,{...i,state:\"subscribing\"});let p=await this._rpcWebSocket.call(c,s);this._setSubscription(r,{...i,serverSubscriptionId:p,state:\"subscribed\"}),this._subscriptionCallbacksByServerSubscriptionId[p]=i.callbacks,await this._updateSubscriptions()}catch(p){if(p instanceof Error&&console.error(`${c} error for argument`,s,p.message),!e())return;this._setSubscription(r,{...i,state:\"pending\"}),await this._updateSubscriptions()}})();break;case\"subscribed\":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:c}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:\"unsubscribing\"}),this._setSubscription(r,{...i,state:\"unsubscribing\"});try{await this._rpcWebSocket.call(c,[s])}catch(p){if(p instanceof Error&&console.error(`${c} error:`,p.message),!e())return;this._setSubscription(r,{...i,state:\"subscribed\"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:\"unsubscribed\"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){let r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...e)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){let{result:e,subscription:r}=$(t,ep);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){let r=this._nextClientSubscriptionId++,i=sf([t.method,e]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:e,callbacks:new Set([t.callback]),state:\"pending\"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let c=this._subscriptionsByHash[i];Xt(c!==void 0,`Could not find a \\`Subscription\\` when tearing down client subscription #${r}`),c.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){let{commitment:i,config:s}=ne(r),c=this._buildArgs([t.toBase58()],i||this._commitment||\"finalized\",\"base64\",s);return this._makeSubscription({callback:e,method:\"accountSubscribe\",unsubscribeMethod:\"accountUnsubscribe\"},c)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,\"account change\")}_wsOnProgramAccountNotification(t){let{result:e,subscription:r}=$(t,np);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,i){let{commitment:s,config:c}=ne(r),p=this._buildArgs([t.toBase58()],s||this._commitment||\"finalized\",\"base64\",c||(i?{filters:uf(i)}:void 0));return this._makeSubscription({callback:e,method:\"programSubscribe\",unsubscribeMethod:\"programUnsubscribe\"},p)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,\"program account change\")}onLogs(t,e,r){let i=this._buildArgs([typeof t==\"object\"?{mentions:[t.toString()]}:t],r||this._commitment||\"finalized\");return this._makeSubscription({callback:e,method:\"logsSubscribe\",unsubscribeMethod:\"logsUnsubscribe\"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,\"logs\")}_wsOnLogsNotification(t){let{result:e,subscription:r}=$(t,Cp);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){let{result:e,subscription:r}=$(t,op);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:\"slotSubscribe\",unsubscribeMethod:\"slotUnsubscribe\"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,\"slot change\")}_wsOnSlotUpdatesNotification(t){let{result:e,subscription:r}=$(t,ap);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:\"slotsUpdatesSubscribe\",unsubscribeMethod:\"slotsUpdatesUnsubscribe\"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,\"slot update\")}async _unsubscribeClientSubscription(t,e){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \\`${t}\\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,i){let s=e||this._commitment;if(s||r||i){let c={};r&&(c.encoding=r),s&&(c.commitment=s),i&&(c=Object.assign(c,i)),t.push(c)}return t}_buildArgsAtLeastConfirmed(t,e,r,i){let s=e||this._commitment;if(s&&![\"confirmed\",\"finalized\"].includes(s))throw new Error(\"Using Connection with default commitment: `\"+this._commitment+\"`, but method requires at least `confirmed`\");return this._buildArgs(t,e,r,i)}_wsOnSignatureNotification(t){let{result:e,subscription:r}=$(t,up);e.value!==\"receivedSignature\"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value===\"receivedSignature\"?[{type:\"received\"},e.context]:[{type:\"status\",result:e.value},e.context])}onSignature(t,e,r){let i=this._buildArgs([t],r||this._commitment||\"finalized\"),s=this._makeSubscription({callback:(c,p)=>{if(c.type===\"status\"){e(c.result,p);try{this.removeSignatureListener(s)}catch{}}},method:\"signatureSubscribe\",unsubscribeMethod:\"signatureUnsubscribe\"},i);return s}onSignatureWithOptions(t,e,r){let{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||\"finalized\"},c=this._buildArgs([t],i,void 0,s),p=this._makeSubscription({callback:(y,v)=>{e(y,v);try{this.removeSignatureListener(p)}catch{}},method:\"signatureSubscribe\",unsubscribeMethod:\"signatureUnsubscribe\"},c);return p}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,\"signature result\")}_wsOnRootNotification(t){let{result:e,subscription:r}=$(t,cp);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:\"rootSubscribe\",unsubscribeMethod:\"rootUnsubscribe\"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,\"root change\")}},fr=class{constructor(t){this._keypair=void 0,this._keypair=t??tf()}static generate(){return new fr(tf())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error(\"bad secret key size\");let r=t.slice(32,64);if(!e||!e.skipValidation){let i=t.slice(0,32),s=Sa(i);for(let c=0;c<32;c++)if(r[c]!==s[c])throw new Error(\"provided secretKey is invalid\")}return new fr({publicKey:r,secretKey:t})}static fromSeed(t){let e=Sa(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new fr({publicKey:e,secretKey:r})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Li=Object.freeze({CreateLookupTable:{index:0,layout:S.struct([S.u32(\"instruction\"),Gn(\"recentSlot\"),S.u8(\"bumpSeed\")])},FreezeLookupTable:{index:1,layout:S.struct([S.u32(\"instruction\")])},ExtendLookupTable:{index:2,layout:S.struct([S.u32(\"instruction\"),Gn(),S.seq($t(),S.offset(S.u32(),-8),\"addresses\")])},DeactivateLookupTable:{index:3,layout:S.struct([S.u32(\"instruction\")])},CloseLookupTable:{index:4,layout:S.struct([S.u32(\"instruction\")])}}),La=class{constructor(){}static createLookupTable(t){let[e,r]=ot.findProgramAddressSync([t.authority.toBuffer(),(0,qi.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),i=Li.CreateLookupTable,s=Gt(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:ye.programId,isSigner:!1,isWritable:!1}];return[new re({programId:this.programId,keys:c,data:s}),e]}static freezeLookupTable(t){let e=Li.FreezeLookupTable,r=Gt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new re({programId:this.programId,keys:i,data:r})}static extendLookupTable(t){let e=Li.ExtendLookupTable,r=Gt(e,{addresses:t.addresses.map(s=>s.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:ye.programId,isSigner:!1,isWritable:!1}),new re({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(t){let e=Li.DeactivateLookupTable,r=Gt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new re({programId:this.programId,keys:i,data:r})}static closeLookupTable(t){let e=Li.CloseLookupTable,r=Gt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new re({programId:this.programId,keys:i,data:r})}};La.programId=new ot(\"AddressLookupTab1e1111111111111111111111111\");Do=Object.freeze({RequestUnits:{index:0,layout:S.struct([S.u8(\"instruction\"),S.u32(\"units\"),S.u32(\"additionalFee\")])},RequestHeapFrame:{index:1,layout:S.struct([S.u8(\"instruction\"),S.u32(\"bytes\")])},SetComputeUnitLimit:{index:2,layout:S.struct([S.u8(\"instruction\"),S.u32(\"units\")])},SetComputeUnitPrice:{index:3,layout:S.struct([S.u8(\"instruction\"),Gn(\"microLamports\")])}}),Ra=class{constructor(){}static requestUnits(t){let e=Do.RequestUnits,r=Gt(e,t);return new re({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){let e=Do.RequestHeapFrame,r=Gt(e,t);return new re({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){let e=Do.SetComputeUnitLimit,r=Gt(e,t);return new re({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){let e=Do.SetComputeUnitPrice,r=Gt(e,{microLamports:BigInt(t.microLamports)});return new re({keys:[],programId:this.programId,data:r})}};Ra.programId=new ot(\"ComputeBudget111111111111111111111111111111\");lf=64,df=32,pf=64,yf=S.struct([S.u8(\"numSignatures\"),S.u8(\"padding\"),S.u16(\"signatureOffset\"),S.u16(\"signatureInstructionIndex\"),S.u16(\"publicKeyOffset\"),S.u16(\"publicKeyInstructionIndex\"),S.u16(\"messageDataOffset\"),S.u16(\"messageDataSize\"),S.u16(\"messageInstructionIndex\")]),Ni=class{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:r,signature:i,instructionIndex:s}=t;Xt(e.length===df,`Public Key must be ${df} bytes but received ${e.length} bytes`),Xt(i.length===pf,`Signature must be ${pf} bytes but received ${i.length} bytes`);let c=yf.span,p=c+e.length,y=p+i.length,v=1,x=at.Buffer.alloc(y+r.length),k=s??65535;return yf.encode({numSignatures:v,padding:0,signatureOffset:p,signatureInstructionIndex:k,publicKeyOffset:c,publicKeyInstructionIndex:k,messageDataOffset:y,messageDataSize:r.length,messageInstructionIndex:k},x),x.fill(e,c),x.fill(i,p),x.fill(r,y),new re({keys:[],programId:Ni.programId,data:x})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:r,instructionIndex:i}=t;Xt(e.length===lf,`Private key must be ${lf} bytes but received ${e.length} bytes`);try{let s=fr.fromSecretKey(e),c=s.publicKey.toBytes(),p=Ta(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:p,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Ni.programId=new ot(\"Ed25519SigVerify111111111111111111111111111\");Up=(n,t)=>{let e=Ai.sign(n,t);return[e.toCompactRawBytes(),e.recovery]};Ai.utils.isValidPrivateKey;Np=Ai.getPublicKey,gf=32,va=20,mf=64,zp=11,xa=S.struct([S.u8(\"numSignatures\"),S.u16(\"signatureOffset\"),S.u8(\"signatureInstructionIndex\"),S.u16(\"ethAddressOffset\"),S.u8(\"ethAddressInstructionIndex\"),S.u16(\"messageDataOffset\"),S.u16(\"messageDataSize\"),S.u8(\"messageInstructionIndex\"),S.blob(20,\"ethAddress\"),S.blob(64,\"signature\"),S.u8(\"recoveryId\")]),kn=class{constructor(){}static publicKeyToEthAddress(t){Xt(t.length===mf,`Public key must be ${mf} bytes but received ${t.length} bytes`);try{return at.Buffer.from(ha(Vt(t))).slice(-va)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:r,signature:i,recoveryId:s,instructionIndex:c}=t;return kn.createInstructionWithEthAddress({ethAddress:kn.publicKeyToEthAddress(e),message:r,signature:i,recoveryId:s,instructionIndex:c})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:r,signature:i,recoveryId:s,instructionIndex:c=0}=t,p;typeof e==\"string\"?e.startsWith(\"0x\")?p=at.Buffer.from(e.substr(2),\"hex\"):p=at.Buffer.from(e,\"hex\"):p=e,Xt(p.length===va,`Address must be ${va} bytes but received ${p.length} bytes`);let y=1+zp,v=y,x=y+p.length,k=x+i.length+1,_=1,B=at.Buffer.alloc(xa.span+r.length);return xa.encode({numSignatures:_,signatureOffset:x,signatureInstructionIndex:c,ethAddressOffset:v,ethAddressInstructionIndex:c,messageDataOffset:k,messageDataSize:r.length,messageInstructionIndex:c,signature:Vt(i),ethAddress:Vt(p),recoveryId:s},B),B.fill(Vt(r),xa.span),new re({keys:[],programId:kn.programId,data:B})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:r,instructionIndex:i}=t;Xt(e.length===gf,`Private key must be ${gf} bytes but received ${e.length} bytes`);try{let s=Vt(e),c=Np(s,!1).slice(1),p=at.Buffer.from(ha(Vt(r))),[y,v]=Up(p,s);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:y,recoveryId:v,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};kn.programId=new ot(\"KeccakSecp256k11111111111111111111111111111\");qp=new ot(\"StakeConfig11111111111111111111111111111111\"),zi=class{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}};Nf=zi;zi.default=new Nf(0,0,ot.default);Tr=Object.freeze({Initialize:{index:0,layout:S.struct([S.u32(\"instruction\"),Y0(),J0()])},Authorize:{index:1,layout:S.struct([S.u32(\"instruction\"),$t(\"newAuthorized\"),S.u32(\"stakeAuthorizationType\")])},Delegate:{index:2,layout:S.struct([S.u32(\"instruction\")])},Split:{index:3,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"lamports\")])},Withdraw:{index:4,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"lamports\")])},Deactivate:{index:5,layout:S.struct([S.u32(\"instruction\")])},Merge:{index:7,layout:S.struct([S.u32(\"instruction\")])},AuthorizeWithSeed:{index:8,layout:S.struct([S.u32(\"instruction\"),$t(\"newAuthorized\"),S.u32(\"stakeAuthorizationType\"),Wn(\"authoritySeed\"),$t(\"authorityOwner\")])}}),C1=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Yo=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:r,lockup:i}=t,s=i||zi.default,c=Tr.Initialize,p=Gt(c,{authorized:{staker:Vt(r.staker.toBuffer()),withdrawer:Vt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Vt(s.custodian.toBuffer())}}),y={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Pi,isSigner:!1,isWritable:!1}],programId:this.programId,data:p};return new re(y)}static createAccountWithSeed(t){let e=new Zt;e.add(ye.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:s}=t;return e.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(t){let e=new Zt;e.add(ye.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:s}=t;return e.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:r,votePubkey:i}=t,s=Tr.Delegate,c=Gt(s);return new Zt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:ga,isSigner:!1,isWritable:!1},{pubkey:qp,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(t){let{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:c}=t,p=Tr.Authorize,y=Gt(p,{newAuthorized:Vt(i.toBuffer()),stakeAuthorizationType:s.index}),v=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&v.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zt().add({keys:v,programId:this.programId,data:y})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:c,stakeAuthorizationType:p,custodianPubkey:y}=t,v=Tr.AuthorizeWithSeed,x=Gt(v,{newAuthorized:Vt(c.toBuffer()),stakeAuthorizationType:p.index,authoritySeed:i,authorityOwner:Vt(s.toBuffer())}),k=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1}];return y&&k.push({pubkey:y,isSigner:!0,isWritable:!1}),new Zt().add({keys:k,programId:this.programId,data:x})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=t,c=Tr.Split,p=Gt(c,{lamports:s});return new re({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:p})}static split(t,e){let r=new Zt;return r.add(ye.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:c,seed:p,lamports:y}=t,v=new Zt;return v.add(ye.allocate({accountPubkey:s,basePubkey:c,seed:p,space:this.space,programId:this.programId})),e&&e>0&&v.add(ye.transfer({fromPubkey:t.authorizedPubkey,toPubkey:s,lamports:e})),v.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:y}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:i}=t,s=Tr.Merge,c=Gt(s);return new Zt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:ga,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:c}=t,p=Tr.Withdraw,y=Gt(p,{lamports:s}),v=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:ga,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&v.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zt().add({keys:v,programId:this.programId,data:y})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:r}=t,i=Tr.Deactivate,s=Gt(i);return new Zt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Yo.programId=new ot(\"Stake11111111111111111111111111111111111111\");Yo.space=200;Ri=Object.freeze({InitializeAccount:{index:0,layout:S.struct([S.u32(\"instruction\"),X0()])},Authorize:{index:1,layout:S.struct([S.u32(\"instruction\"),$t(\"newAuthorized\"),S.u32(\"voteAuthorizationType\")])},Withdraw:{index:3,layout:S.struct([S.u32(\"instruction\"),S.ns64(\"lamports\")])},UpdateValidatorIdentity:{index:4,layout:S.struct([S.u32(\"instruction\")])},AuthorizeWithSeed:{index:10,layout:S.struct([S.u32(\"instruction\"),Q0()])}}),O1=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),jn=class{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:r,voteInit:i}=t,s=Ri.InitializeAccount,c=Gt(s,{voteInit:{nodePubkey:Vt(i.nodePubkey.toBuffer()),authorizedVoter:Vt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Vt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),p={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Pi,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new re(p)}static createAccount(t){let e=new Zt;return e.add(ye.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=t,c=Ri.Authorize,p=Gt(c,{newAuthorized:Vt(i.toBuffer()),voteAuthorizationType:s.index}),y=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zt().add({keys:y,programId:this.programId,data:p})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:c,votePubkey:p}=t,y=Ri.AuthorizeWithSeed,v=Gt(y,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Vt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Vt(s.toBuffer()),voteAuthorizationType:c.index}}),x=[{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new Zt().add({keys:x,programId:this.programId,data:v})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=t,c=Ri.Withdraw,p=Gt(c,{lamports:i}),y=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zt().add({keys:y,programId:this.programId,data:p})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error(\"Withdraw will leave vote account with insufficient funds.\");return jn.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:i}=t,s=Ri.UpdateValidatorIdentity,c=Gt(s),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zt().add({keys:p,programId:this.programId,data:c})}};jn.programId=new ot(\"Vote111111111111111111111111111111111111111\");jn.space=3762;U1=new ot(\"Va1idator1nfo111111111111111111111111111111\"),N1=q({name:H(),website:it(H()),details:it(H()),iconUrl:it(H()),keybaseUsername:it(H())}),z1=new ot(\"Vote111111111111111111111111111111111111111\"),q1=S.struct([$t(\"nodePubkey\"),$t(\"authorizedWithdrawer\"),S.u8(\"commission\"),S.nu64(),S.seq(S.struct([S.nu64(\"slot\"),S.u32(\"confirmationCount\")]),S.offset(S.u32(),-8),\"votes\"),S.u8(\"rootSlotValid\"),S.nu64(\"rootSlot\"),S.nu64(),S.seq(S.struct([S.nu64(\"epoch\"),$t(\"authorizedVoter\")]),S.offset(S.u32(),-8),\"authorizedVoters\"),S.struct([S.seq(S.struct([$t(\"authorizedPubkey\"),S.nu64(\"epochOfLastAuthorizedSwitch\"),S.nu64(\"targetEpoch\")]),32,\"buf\"),S.nu64(\"idx\"),S.u8(\"isEmpty\")],\"priorVoters\"),S.nu64(),S.seq(S.struct([S.nu64(\"epoch\"),S.nu64(\"credits\"),S.nu64(\"prevCredits\")]),S.offset(S.u32(),-8),\"epochCredits\"),S.struct([S.nu64(\"slot\"),S.nu64(\"timestamp\")],\"lastTimestamp\")]),wf={http:{devnet:\"http://api.devnet.solana.com\",testnet:\"http://api.testnet.solana.com\",\"mainnet-beta\":\"http://api.mainnet-beta.solana.com/\"},https:{devnet:\"https://api.devnet.solana.com\",testnet:\"https://api.testnet.solana.com\",\"mainnet-beta\":\"https://api.mainnet-beta.solana.com/\"}}});function Ff(n){if(![\"devnet\",\"testnet\",\"mainnet-beta\"].includes(n.chain))throw new Error(`Invalid Solana network: ${n.chain}`);if(!n.serializedTransaction||n.serializedTransaction.length===0)throw new Error(`Invalid serializedTransaction: ${n.serializedTransaction}`)}function Fp({solanaKeyPair:n,transaction:t}){try{if(t.sign(n),!t.signature)throw new Error(\"Transaction signature is null\");return ethers.utils.base58.encode(t.signature)}catch(e){throw new Error(`When signing transaction - ${e.message}`)}}function Kp({solanaKeyPair:n,transaction:t}){try{if(t.sign([n]),!t.signatures.length)throw new Error(\"Transaction signature is null\");return ethers.utils.base58.encode(t.signatures[0])}catch(e){throw new Error(`When signing transaction - ${e.message}`)}}async function Dp({chain:n,transaction:t}){try{return await new jo(zf(n),\"confirmed\").sendRawTransaction(t.serialize())}catch(e){throw new Error(`When sending transaction - ${e.message}`)}}async function Kf({broadcast:n,privateKey:t,unsignedTransaction:e,versionedTransaction:r}){let i=fr.fromSecretKey(Buffer.from(t,\"hex\")),s,c;if(r){let y=Buffer.from(e.serializedTransaction,\"base64\");s=Vn.deserialize(y),c=Kp({transaction:s,solanaKeyPair:i})}else s=Zt.from(Buffer.from(e.serializedTransaction,\"base64\")),c=Fp({transaction:s,solanaKeyPair:i});if(!n)return c;let p=e.chain;return await Dp({chain:p,transaction:s})}var $1,Df=vt(()=>{\"use strict\";$1=C(z());qf()});async function Wf({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e,unsignedTransaction:r,broadcast:i,versionedTransaction:s}){Ff(r);let c=await lu({accessControlConditions:n,ciphertext:t,dataToEncryptHash:e});return Kf({broadcast:i,privateKey:c,unsignedTransaction:r,versionedTransaction:s})}var j1,Hf=vt(()=>{\"use strict\";j1=C(z());du();Df()});var Wp=he(()=>{var tw=C(z());uu();Hf();(async()=>au(async()=>Wf({accessControlConditions,ciphertext,dataToEncryptHash,unsignedTransaction,broadcast,versionedTransaction})))()});Wp();})();\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n\n@noble/hashes/esm/utils.js:\n  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/modular.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/curve.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/abstract/edwards.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/ed25519.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\nsafe-buffer/index.js:\n  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\n@solana/buffer-layout/lib/Layout.js:\n  (**\n   * Support for translating between Uint8Array instances and JavaScript\n   * native types.\n   *\n   * {@link module:Layout~Layout|Layout} is the basis of a class\n   * hierarchy that associates property names with sequences of encoded\n   * bytes.\n   *\n   * Layouts are supported for these scalar (numeric) types:\n   * * {@link module:Layout~UInt|Unsigned integers in little-endian\n   *   format} with {@link module:Layout.u8|8-bit}, {@link\n   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},\n   *   {@link module:Layout.u32|32-bit}, {@link\n   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian\n   *   format} with {@link module:Layout.u16be|16-bit}, {@link\n   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},\n   *   {@link module:Layout.u40be|40-bit}, and {@link\n   *   module:Layout.u48be|48-bit} representation ranges;\n   * * {@link module:Layout~Int|Signed integers in little-endian\n   *   format} with {@link module:Layout.s8|8-bit}, {@link\n   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},\n   *   {@link module:Layout.s32|32-bit}, {@link\n   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~IntBE|Signed integers in big-endian format}\n   *   with {@link module:Layout.s16be|16-bit}, {@link\n   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},\n   *   {@link module:Layout.s40be|40-bit}, and {@link\n   *   module:Layout.s48be|48-bit} representation ranges;\n   * * 64-bit integral values that decode to an exact (if magnitude is\n   *   less than 2^53) or nearby integral Number in {@link\n   *   module:Layout.nu64|unsigned little-endian}, {@link\n   *   module:Layout.nu64be|unsigned big-endian}, {@link\n   *   module:Layout.ns64|signed little-endian}, and {@link\n   *   module:Layout.ns64be|unsigned big-endian} encodings;\n   * * 32-bit floating point values with {@link\n   *   module:Layout.f32|little-endian} and {@link\n   *   module:Layout.f32be|big-endian} representations;\n   * * 64-bit floating point values with {@link\n   *   module:Layout.f64|little-endian} and {@link\n   *   module:Layout.f64be|big-endian} representations;\n   * * {@link module:Layout.const|Constants} that take no space in the\n   *   encoded expression.\n   *\n   * and for these aggregate types:\n   * * {@link module:Layout.seq|Sequence}s of instances of a {@link\n   *   module:Layout~Layout|Layout}, with JavaScript representation as\n   *   an Array and constant or data-dependent {@link\n   *   module:Layout~Sequence#count|length};\n   * * {@link module:Layout.struct|Structure}s that aggregate a\n   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}\n   *   instances, with JavaScript representation as an Object;\n   * * {@link module:Layout.union|Union}s that support multiple {@link\n   *   module:Layout~VariantLayout|variant layouts} over a fixed\n   *   (padded) or variable (not padded) span of bytes, using an\n   *   unsigned integer at the start of the data or a separate {@link\n   *   module:Layout.unionLayoutDiscriminator|layout element} to\n   *   determine which layout to use when interpreting the buffer\n   *   contents;\n   * * {@link module:Layout.bits|BitStructure}s that contain a sequence\n   *   of individual {@link\n   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,\n   *   16, 24, or 32-bit unsigned integer starting at the least- or\n   *   most-significant bit;\n   * * {@link module:Layout.cstr|C strings} of varying length;\n   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link\n   *   module:Layout~Blob#length|length} raw data.\n   *\n   * All {@link module:Layout~Layout|Layout} instances are immutable\n   * after construction, to prevent internal state from becoming\n   * inconsistent.\n   *\n   * @local Layout\n   * @local ExternalLayout\n   * @local GreedyCount\n   * @local OffsetLayout\n   * @local UInt\n   * @local UIntBE\n   * @local Int\n   * @local IntBE\n   * @local NearUInt64\n   * @local NearUInt64BE\n   * @local NearInt64\n   * @local NearInt64BE\n   * @local Float\n   * @local FloatBE\n   * @local Double\n   * @local DoubleBE\n   * @local Sequence\n   * @local Structure\n   * @local UnionDiscriminator\n   * @local UnionLayoutDiscriminator\n   * @local Union\n   * @local VariantLayout\n   * @local BitStructure\n   * @local BitField\n   * @local Boolean\n   * @local Blob\n   * @local CString\n   * @local Constant\n   * @local bindConstructorLayout\n   * @module Layout\n   * @license MIT\n   * @author Peter A. Bigot\n   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}\n   *)\n\n@noble/curves/esm/abstract/weierstrass.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/_shortw_utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/esm/secp256k1.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n*/\n";
module.exports = {
  code,
};
